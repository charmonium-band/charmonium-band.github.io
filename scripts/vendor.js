!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||et;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function i(t){var e=!!t&&"length"in t&&t.length,n=dt.type(t);return"function"!==n&&!dt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,n){return dt.isFunction(e)?dt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?dt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?dt.grep(t,function(t){return at.call(e,t)>-1!==n}):Mt.test(e)?dt.filter(e,t,n):(e=dt.filter(e,t),dt.grep(t,function(t){return at.call(e,t)>-1!==n&&1===t.nodeType}))}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e={};return dt.each(t.match(Ct)||[],function(t,n){e[n]=!0}),e}function s(t){return t}function u(t){throw t}function c(t,e,n){var i;try{t&&dt.isFunction(i=t.promise)?i.call(t).done(e).fail(n):t&&dt.isFunction(i=t.then)?i.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function l(){et.removeEventListener("DOMContentLoaded",l),t.removeEventListener("load",l),dt.ready()}function h(){this.expando=dt.expando+h.uid++}function f(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Ut.test(t)?JSON.parse(t):t)}function p(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(kt,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n=f(n)}catch(t){}Ft.set(t,e,n)}else n=void 0;return n}function d(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return dt.css(t,e,"")},u=s(),c=n&&n[3]||(dt.cssNumber[e]?"":"px"),l=(dt.cssNumber[e]||"px"!==c&&+u)&&Bt.exec(dt.css(t,e));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do o=o||".5",l/=o,dt.style(t,e,l+c);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(l=+l||+u||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=l,i.end=r)),r}function m(t){var e,n=t.ownerDocument,i=t.nodeName,r=Vt[i];return r?r:(e=n.body.appendChild(n.createElement(i)),r=dt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Vt[i]=r,r)}function g(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)i=t[o],i.style&&(n=i.style.display,e?("none"===n&&(r[o]=Nt.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Gt(i)&&(r[o]=m(i))):"none"!==n&&(r[o]="none",Nt.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function v(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&dt.nodeName(t,e)?dt.merge([t],n):n}function y(t,e){for(var n=0,i=t.length;n<i;n++)Nt.set(t[n],"globalEval",!e||Nt.get(e[n],"globalEval"))}function _(t,e,n,i,r){for(var o,a,s,u,c,l,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if(o=t[p],o||0===o)if("object"===dt.type(o))dt.merge(f,o.nodeType?[o]:o);else if(Zt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(Xt.exec(o)||["",""])[1].toLowerCase(),u=Yt[s]||Yt._default,a.innerHTML=u[1]+dt.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;dt.merge(f,a.childNodes),a=h.firstChild,a.textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(i&&dt.inArray(o,i)>-1)r&&r.push(o);else if(c=dt.contains(o.ownerDocument,o),a=v(h.appendChild(o),"script"),c&&y(a),n)for(l=0;o=a[l++];)qt.test(o.type||"")&&n.push(o);return h}function x(){return!0}function b(){return!1}function w(){try{return et.activeElement}catch(t){}}function T(t,e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)T(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=b;else if(!r)return t;return 1===o&&(a=r,r=function(t){return dt().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=dt.guid++)),t.each(function(){dt.event.add(this,e,r,i,n)})}function M(t,e){return dt.nodeName(t,"table")&&dt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function E(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function S(t){var e=ie.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function A(t,e){var n,i,r,o,a,s,u,c;if(1===e.nodeType){if(Nt.hasData(t)&&(o=Nt.access(t),a=Nt.set(e,o),c=o.events)){delete a.handle,a.events={};for(r in c)for(n=0,i=c[r].length;n<i;n++)dt.event.add(e,r,c[r][n])}Ft.hasData(t)&&(s=Ft.access(t),u=dt.extend({},s),Ft.set(e,u))}}function P(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Wt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function R(t,e,i,r){e=rt.apply([],e);var o,a,s,u,c,l,h=0,f=t.length,p=f-1,d=e[0],m=dt.isFunction(d);if(m||f>1&&"string"==typeof d&&!ft.checkClone&&ne.test(d))return t.each(function(n){var o=t.eq(n);m&&(e[0]=d.call(this,n,o.html())),R(o,e,i,r)});if(f&&(o=_(e,t[0].ownerDocument,!1,t,r),a=o.firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=dt.map(v(o,"script"),E),u=s.length;h<f;h++)c=o,h!==p&&(c=dt.clone(c,!0,!0),u&&dt.merge(s,v(c,"script"))),i.call(t[h],c,h);if(u)for(l=s[s.length-1].ownerDocument,dt.map(s,S),h=0;h<u;h++)c=s[h],qt.test(c.type||"")&&!Nt.access(c,"globalEval")&&dt.contains(l,c)&&(c.src?dt._evalUrl&&dt._evalUrl(c.src):n(c.textContent.replace(re,""),l))}return t}function C(t,e,n){for(var i,r=e?dt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||dt.cleanData(v(i)),i.parentNode&&(n&&dt.contains(i.ownerDocument,i)&&y(v(i,"script")),i.parentNode.removeChild(i));return t}function L(t,e,n){var i,r,o,a,s=t.style;return n=n||se(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||dt.contains(t.ownerDocument,t)||(a=dt.style(t,e)),!ft.pixelMarginRight()&&ae.test(a)&&oe.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function O(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(t){if(t in fe)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=he.length;n--;)if(t=he[n]+e,t in fe)return t}function I(t,e,n){var i=Bt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function N(t,e,n,i,r){var o,a=0;for(o=n===(i?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(a+=dt.css(t,n+jt[o],!0,r)),i?("content"===n&&(a-=dt.css(t,"padding"+jt[o],!0,r)),"margin"!==n&&(a-=dt.css(t,"border"+jt[o]+"Width",!0,r))):(a+=dt.css(t,"padding"+jt[o],!0,r),"padding"!==n&&(a+=dt.css(t,"border"+jt[o]+"Width",!0,r)));return a}function F(t,e,n){var i,r=!0,o=se(t),a="border-box"===dt.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(i=t.getBoundingClientRect()[e]),i<=0||null==i){if(i=L(t,e,o),(i<0||null==i)&&(i=t.style[e]),ae.test(i))return i;r=a&&(ft.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+N(t,e,n||(a?"border":"content"),r,o)+"px"}function U(t,e,n,i,r){return new U.prototype.init(t,e,n,i,r)}function k(){de&&(t.requestAnimationFrame(k),dt.fx.tick())}function z(){return t.setTimeout(function(){pe=void 0}),pe=dt.now()}function B(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=jt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function j(t,e,n){for(var i,r=(V.tweeners[e]||[]).concat(V.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function G(t,e,n){var i,r,o,a,s,u,c,l,h="width"in e||"height"in e,f=this,p={},d=t.style,m=t.nodeType&&Gt(t),v=Nt.get(t,"fxshow");n.queue||(a=dt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,dt.queue(t,"fx").length||a.empty.fire()})}));for(i in e)if(r=e[i],me.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;m=!0}p[i]=v&&v[i]||dt.style(t,i)}if(u=!dt.isEmptyObject(e),u||!dt.isEmptyObject(p)){h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],c=v&&v.display,null==c&&(c=Nt.get(t,"display")),l=dt.css(t,"display"),"none"===l&&(c?l=c:(g([t],!0),c=t.style.display||c,l=dt.css(t,"display"),g([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===dt.css(t,"float")&&(u||(f.done(function(){d.display=c}),null==c&&(l=d.display,c="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1;for(i in p)u||(v?"hidden"in v&&(m=v.hidden):v=Nt.access(t,"fxshow",{display:c}),o&&(v.hidden=!m),m&&g([t],!0),f.done(function(){m||g([t]),Nt.remove(t,"fxshow");for(i in p)dt.style(t,i,p[i])})),u=j(m?v[i]:0,i,f),i in v||(v[i]=u.start,m&&(u.end=u.start,u.start=0))}}function H(t,e){var n,i,r,o,a;for(n in t)if(i=dt.camelCase(n),r=e[i],o=t[n],dt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=dt.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function V(t,e,n){var i,r,o=0,a=V.prefilters.length,s=dt.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=pe||z(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,o=1-i,a=0,u=c.tweens.length;a<u;a++)c.tweens[a].run(o);return s.notifyWith(t,[c,o,n]),o<1&&u?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:dt.extend({},e),opts:dt.extend(!0,{specialEasing:{},easing:dt.easing._default},n),originalProperties:e,originalOptions:n,startTime:pe||z(),duration:n.duration,tweens:[],createTween:function(e,n){var i=dt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),l=c.props;for(H(l,c.opts.specialEasing);o<a;o++)if(i=V.prefilters[o].call(c,t,l,c.opts))return dt.isFunction(i.stop)&&(dt._queueHooks(c.elem,c.opts.queue).stop=dt.proxy(i.stop,i)),i;return dt.map(l,j,c),dt.isFunction(c.opts.start)&&c.opts.start.call(t,c),dt.fx.timer(dt.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function W(t){var e=t.match(Ct)||[];return e.join(" ")}function X(t){return t.getAttribute&&t.getAttribute("class")||""}function q(t,e,n,i){var r;if(dt.isArray(e))dt.each(e,function(e,r){n||Se.test(t)?i(t,r):q(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==dt.type(e))i(t,e);else for(r in e)q(t+"["+r+"]",e[r],n,i)}function Y(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Ct)||[];if(dt.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Z(t,e,n,i){function r(s){var u;return o[s]=!0,dt.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),u}var o={},a=t===ke;return r(e.dataTypes[0])||!o["*"]&&r("*")}function $(t,e){var n,i,r=dt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&dt.extend(!0,t,i),t}function J(t,e,n){for(var i,r,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Q(t,e,n,i){var r,o,a,s,u,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=c[u+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function K(t){return dt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var tt=[],et=t.document,nt=Object.getPrototypeOf,it=tt.slice,rt=tt.concat,ot=tt.push,at=tt.indexOf,st={},ut=st.toString,ct=st.hasOwnProperty,lt=ct.toString,ht=lt.call(Object),ft={},pt="3.1.1",dt=function(t,e){return new dt.fn.init(t,e)},mt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,vt=/-([a-z])/g,yt=function(t,e){return e.toUpperCase()};dt.fn=dt.prototype={jquery:pt,constructor:dt,length:0,toArray:function(){return it.call(this)},get:function(t){return null==t?it.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=dt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return dt.each(this,t)},map:function(t){return this.pushStack(dt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:tt.sort,splice:tt.splice},dt.extend=dt.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||dt.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(c&&i&&(dt.isPlainObject(i)||(r=dt.isArray(i)))?(r?(r=!1,o=n&&dt.isArray(n)?n:[]):o=n&&dt.isPlainObject(n)?n:{},a[e]=dt.extend(c,o,i)):void 0!==i&&(a[e]=i));return a},dt.extend({expando:"jQuery"+(pt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===dt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=dt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ut.call(t))&&(!(e=nt(t))||(n=ct.call(e,"constructor")&&e.constructor,"function"==typeof n&&lt.call(n)===ht))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?st[ut.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(gt,"ms-").replace(vt,yt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;r<n&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(mt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?dt.merge(n,"string"==typeof t?[t]:t):ot.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:at.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;o<a;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,n){var r,o,a=0,s=[];if(i(t))for(r=t.length;a<r;a++)o=e(t[a],a,n),null!=o&&s.push(o);else for(a in t)o=e(t[a],a,n),null!=o&&s.push(o);return rt.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),dt.isFunction(t))return i=it.call(arguments,2),r=function(){return t.apply(e||this,i.concat(it.call(arguments)))},r.guid=t.guid=t.guid||dt.guid++,r},now:Date.now,support:ft}),"function"==typeof Symbol&&(dt.fn[Symbol.iterator]=tt[Symbol.iterator]),dt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){st["[object "+e+"]"]=e.toLowerCase()});var _t=function(t){function e(t,e,n,i){var r,o,a,s,u,c,l,f=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!i&&((e?e.ownerDocument||e:j)!==D&&O(e),e=e||D,N)){if(11!==d&&(u=vt.exec(t)))if(r=u[1]){if(9===d){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(f&&(a=f.getElementById(r))&&z(e,a)&&a.id===r)return n.push(a),n}else{if(u[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!X[t+" "]&&(!F||!F.test(t))){if(1!==d)f=e,l=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,wt):e.setAttribute("id",s=B),c=S(t),o=c.length;o--;)c[o]="#"+s+" "+p(c[o]);l=c.join(","),f=yt.test(t)&&h(e.parentNode)||e}if(l)try{return Q.apply(n,f.querySelectorAll(l)),n}catch(t){}finally{s===B&&e.removeAttribute("id")}}}return P(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>T.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[B]=!0,t}function r(t){var e=D.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)T.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Mt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function p(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=H++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,u){var c,l,h,f=[G,s];if(u){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(h=e[B]||(e[B]={}),l=h[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=l[o])&&c[0]===G&&c[1]===s)return f[2]=c[2];if(l[o]=f,f[2]=t(e,n,u))return!0}return!1}}function m(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function v(t,e,n,i,r){for(var o,a=[],s=0,u=t.length,c=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),c&&e.push(s)));return a}function y(t,e,n,r,o,a){return r&&!r[B]&&(r=y(r)),o&&!o[B]&&(o=y(o,a)),i(function(i,a,s,u){var c,l,h,f=[],p=[],d=a.length,m=i||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?m:v(m,f,t,s,u),_=n?o||(i?t:d||r)?[]:a:y;if(n&&n(y,_,s,u),r)for(c=v(_,p),r(c,[],s,u),l=c.length;l--;)(h=c[l])&&(_[p[l]]=!(y[p[l]]=h));if(i){if(o||t){if(o){for(c=[],l=_.length;l--;)(h=_[l])&&c.push(y[l]=h);o(null,_=[],c,u)}for(l=_.length;l--;)(h=_[l])&&(c=o?tt(i,h):f[l])>-1&&(i[c]=!(a[c]=h))}}else _=v(_===a?_.splice(d,_.length):_),o?o(null,a,_,u):Q.apply(a,_)})}function _(t){for(var e,n,i,r=t.length,o=T.relative[t[0].type],a=o||T.relative[" "],s=o?1:0,u=d(function(t){return t===e},a,!0),c=d(function(t){return tt(e,t)>-1},a,!0),l=[function(t,n,i){var r=!o&&(i||n!==R)||((e=n).nodeType?u(t,n,i):c(t,n,i));return e=null,r}];s<r;s++)if(n=T.relative[t[s].type])l=[d(m(l),n)];else{if(n=T.filter[t[s].type].apply(null,t[s].matches),n[B]){for(i=++s;i<r&&!T.relative[t[i].type];i++);return y(s>1&&m(l),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<i&&_(t.slice(s,i)),i<r&&_(t=t.slice(i)),i<r&&p(t))}l.push(n)}return m(l)}function x(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,u,c){var l,h,f,p=0,d="0",m=i&&[],g=[],y=R,_=i||o&&T.find.TAG("*",c),x=G+=null==y?1:Math.random()||.1,b=_.length;for(c&&(R=a===D||a||c);d!==b&&null!=(l=_[d]);d++){if(o&&l){for(h=0,a||l.ownerDocument===D||(O(l),s=!N);f=t[h++];)if(f(l,a||D,s)){u.push(l);break}c&&(G=x)}r&&((l=!f&&l)&&p--,i&&m.push(l))}if(p+=d,r&&d!==p){for(h=0;f=n[h++];)f(m,g,a,s);if(i){if(p>0)for(;d--;)m[d]||g[d]||(g[d]=$.call(u));g=v(g)}Q.apply(u,g),c&&!i&&g.length>0&&p+n.length>1&&e.uniqueSort(u)}return c&&(G=x,R=y),m};return r?i(a):a}var b,w,T,M,E,S,A,P,R,C,L,O,D,I,N,F,U,k,z,B="sizzle"+1*new Date,j=t.document,G=0,H=0,V=n(),W=n(),X=n(),q=function(t,e){return t===e&&(L=!0),0},Y={}.hasOwnProperty,Z=[],$=Z.pop,J=Z.push,Q=Z.push,K=Z.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),lt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},bt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Tt=function(){O()},Mt=d(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Q.apply(Z=K.call(j.childNodes),j.childNodes),Z[j.childNodes.length].nodeType}catch(t){Q={apply:Z.length?function(t,e){J.apply(t,K.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},E=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},O=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:j;return i!==D&&9===i.nodeType&&i.documentElement?(D=i,I=D.documentElement,N=!E(D),j!==D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Tt,!1):n.attachEvent&&n.attachEvent("onunload",Tt)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(D.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=gt.test(D.getElementsByClassName),w.getById=r(function(t){return I.appendChild(t).id=B,!D.getElementsByName||!D.getElementsByName(B).length}),w.getById?(T.filter.ID=function(t){var e=t.replace(_t,xt);return function(t){return t.getAttribute("id")===e}},T.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}}):(T.filter.ID=function(t){var e=t.replace(_t,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},T.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n,i,r,o=e.getElementById(t);if(o){if(n=o.getAttributeNode("id"),n&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if(n=o.getAttributeNode("id"),n&&n.value===t)return[o]}return[]}}),T.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},T.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},U=[],F=[],(w.qsa=gt.test(D.querySelectorAll))&&(r(function(t){I.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||F.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||F.push("~="),t.querySelectorAll(":checked").length||F.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||F.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=D.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&F.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&F.push(":enabled",":disabled"),I.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=gt.test(k=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(t){w.disconnectedMatch=k.call(t,"*"),k.call(t,"[s!='']:x"),U.push("!=",ot)}),F=F.length&&new RegExp(F.join("|")),U=U.length&&new RegExp(U.join("|")),e=gt.test(I.compareDocumentPosition),z=e||gt.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return L=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===D||t.ownerDocument===j&&z(j,t)?-1:e===D||e.ownerDocument===j&&z(j,e)?1:C?tt(C,t)-tt(C,e):0:4&n?-1:1)}:function(t,e){if(t===e)return L=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],u=[e];if(!r||!o)return t===D?-1:e===D?1:r?-1:o?1:C?tt(C,t)-tt(C,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;s[i]===u[i];)i++;return i?a(s[i],u[i]):s[i]===j?-1:u[i]===j?1:0},D):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&O(t),n=n.replace(lt,"='$1']"),w.matchesSelector&&N&&!X[n+" "]&&(!U||!U.test(n))&&(!F||!F.test(n)))try{var i=k.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&O(t),z(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&O(t);var n=T.attrHandle[e.toLowerCase()],i=n&&Y.call(T.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==i?i:w.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(bt,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(L=!w.detectDuplicates,C=!w.sortStable&&t.slice(0),t.sort(q),L){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return C=null,t},M=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=M(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=M(e);return n},T=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,f,p,d,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s,_=!1;if(g){if(o){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&y){for(f=g,h=f[B]||(f[B]={}),l=h[f.uniqueID]||(h[f.uniqueID]={}),c=l[t]||[],p=c[0]===G&&c[1],_=p&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(_=p=0)||d.pop();)if(1===f.nodeType&&++_&&f===e){l[t]=[G,p,_];break}}else if(y&&(f=e,h=f[B]||(f[B]={}),l=h[f.uniqueID]||(h[f.uniqueID]={}),c=l[t]||[],p=c[0]===G&&c[1],_=p),_===!1)for(;(f=++p&&f&&f[m]||(_=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++_||(y&&(h=f[B]||(f[B]={}),l=h[f.uniqueID]||(h[f.uniqueID]={}),l[t]=[G,_]),f!==e)););return _-=r,_===i||_%i===0&&_/i>=0}}},PSEUDO:function(t,n){var r,o=T.pseudos[t]||T.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(r=[t,t,"",n],T.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=tt(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=A(t.replace(st,"$1"));return r[B]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(_t,xt),function(e){return(e.textContent||e.innerText||M(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,xt).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1;
}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[n<0?n+e:n]}),even:l(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=u(b);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,S=e.tokenize=function(t,n){var i,r,o,a,s,u,c,l=W[t+" "];if(l)return n?0:l.slice(0);for(s=t,u=[],c=T.preFilter;s;){i&&!(r=ut.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),i=!1,(r=ct.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),s=s.slice(i.length));for(a in T.filter)!(r=pt[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):W(t,u).slice(0)},A=e.compile=function(t,e){var n,i=[],r=[],o=X[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=_(e[n]),o[B]?i.push(o):r.push(o);o=X(t,x(r,i)),o.selector=t}return o},P=e.select=function(t,e,n,i){var r,o,a,s,u,c="function"==typeof t&&t,l=!i&&S(t=c.selector||t);if(n=n||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&N&&T.relative[o[1].type]){if(e=(T.find.ID(a.matches[0].replace(_t,xt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!T.relative[s=a.type]);)if((u=T.find[s])&&(i=u(a.matches[0].replace(_t,xt),yt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return Q.apply(n,i),n;break}}return(c||A(t,l))(i,e,!N,n,!e||yt.test(t)&&h(e.parentNode)||e),n},w.sortStable=B.split("").sort(q).join("")===B,w.detectDuplicates=!!L,O(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(D.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);dt.find=_t,dt.expr=_t.selectors,dt.expr[":"]=dt.expr.pseudos,dt.uniqueSort=dt.unique=_t.uniqueSort,dt.text=_t.getText,dt.isXMLDoc=_t.isXML,dt.contains=_t.contains,dt.escapeSelector=_t.escape;var xt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&dt(t).is(n))break;i.push(t)}return i},bt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},wt=dt.expr.match.needsContext,Tt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Mt=/^.[^:#\[\.,]*$/;dt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?dt.find.matchesSelector(i,t)?[i]:[]:dt.find.matches(t,dt.grep(e,function(t){return 1===t.nodeType}))},dt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(dt(t).filter(function(){for(e=0;e<i;e++)if(dt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)dt.find(t,r[e],n);return i>1?dt.uniqueSort(n):n},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&wt.test(t)?dt(t):t||[],!1).length}});var Et,St=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,At=dt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Et,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:St.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof dt?e[0]:e,dt.merge(this,dt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:et,!0)),Tt.test(i[1])&&dt.isPlainObject(e))for(i in e)dt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=et.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):dt.isFunction(t)?void 0!==n.ready?n.ready(t):t(dt):dt.makeArray(t,this)};At.prototype=dt.fn,Et=dt(et);var Pt=/^(?:parents|prev(?:Until|All))/,Rt={children:!0,contents:!0,next:!0,prev:!0};dt.fn.extend({has:function(t){var e=dt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(dt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&dt(t);if(!wt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&dt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?dt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?at.call(dt(t),this[0]):at.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(dt.uniqueSort(dt.merge(this.get(),dt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),dt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,n){return xt(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,n){return xt(t,"nextSibling",n)},prevUntil:function(t,e,n){return xt(t,"previousSibling",n)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return t.contentDocument||dt.merge([],t.childNodes)}},function(t,e){dt.fn[t]=function(n,i){var r=dt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=dt.filter(i,r)),this.length>1&&(Rt[t]||dt.uniqueSort(r),Pt.test(t)&&r.reverse()),this.pushStack(r)}});var Ct=/[^\x20\t\r\n\f]+/g;dt.Callbacks=function(t){t="string"==typeof t?a(t):dt.extend({},t);var e,n,i,r,o=[],s=[],u=-1,c=function(){for(r=t.once,i=e=!0;s.length;u=-1)for(n=s.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(u=o.length-1,s.push(n)),function e(n){dt.each(n,function(n,i){dt.isFunction(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==dt.type(i)&&e(i)})}(arguments),n&&!e&&c()),this},remove:function(){return dt.each(arguments,function(t,e){for(var n;(n=dt.inArray(e,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(t){return t?dt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},dt.extend({Deferred:function(e){var n=[["notify","progress",dt.Callbacks("memory"),dt.Callbacks("memory"),2],["resolve","done",dt.Callbacks("once memory"),dt.Callbacks("once memory"),0,"resolved"],["reject","fail",dt.Callbacks("once memory"),dt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return dt.Deferred(function(e){dt.each(n,function(n,i){var r=dt.isFunction(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&dt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var c=this,l=arguments,h=function(){var t,h;if(!(e<a)){if(t=i.apply(c,l),t===n.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,dt.isFunction(h)?r?h.call(t,o(a,n,s,r),o(a,n,u,r)):(a++,h.call(t,o(a,n,s,r),o(a,n,u,r),o(a,n,s,n.notifyWith))):(i!==s&&(c=void 0,l=[t]),(r||n.resolveWith)(c,l))}},f=r?h:function(){try{h()}catch(t){dt.Deferred.exceptionHook&&dt.Deferred.exceptionHook(t,f.stackTrace),e+1>=a&&(i!==u&&(c=void 0,l=[t]),n.rejectWith(c,l))}};e?f():(dt.Deferred.getStackHook&&(f.stackTrace=dt.Deferred.getStackHook()),t.setTimeout(f))}}var a=0;return dt.Deferred(function(t){n[0][3].add(o(0,t,dt.isFunction(r)?r:s,t.notifyWith)),n[1][3].add(o(0,t,dt.isFunction(e)?e:s)),n[2][3].add(o(0,t,dt.isFunction(i)?i:u))}).promise()},promise:function(t){return null!=t?dt.extend(t,r):r}},o={};return dt.each(n,function(t,e){var a=e[2],s=e[5];r[e[1]]=a.add,s&&a.add(function(){i=s},n[3-t][2].disable,n[0][2].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=it.call(arguments),o=dt.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?it.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(c(t,o.done(a(n)).resolve,o.reject),"pending"===o.state()||dt.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)c(r[n],a(n),o.reject);return o.promise()}});var Lt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;dt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Lt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},dt.readyException=function(e){t.setTimeout(function(){throw e})};var Ot=dt.Deferred();dt.fn.ready=function(t){return Ot.then(t).catch(function(t){dt.readyException(t)}),this},dt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?dt.readyWait++:dt.ready(!0)},ready:function(t){(t===!0?--dt.readyWait:dt.isReady)||(dt.isReady=!0,t!==!0&&--dt.readyWait>0||Ot.resolveWith(et,[dt]))}}),dt.ready.then=Ot.then,"complete"===et.readyState||"loading"!==et.readyState&&!et.documentElement.doScroll?t.setTimeout(dt.ready):(et.addEventListener("DOMContentLoaded",l),t.addEventListener("load",l));var Dt=function(t,e,n,i,r,o,a){var s=0,u=t.length,c=null==n;if("object"===dt.type(n)){r=!0;for(s in n)Dt(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,dt.isFunction(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(dt(t),n)})),e))for(;s<u;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):u?e(t[0],n):o},It=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={cache:function(t){var e=t[this.expando];return e||(e={},It(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[dt.camelCase(e)]=n;else for(i in e)r[dt.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][dt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){dt.isArray(e)?e=e.map(dt.camelCase):(e=dt.camelCase(e),e=e in i?[e]:e.match(Ct)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||dt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!dt.isEmptyObject(e)}};var Nt=new h,Ft=new h,Ut=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kt=/[A-Z]/g;dt.extend({hasData:function(t){return Ft.hasData(t)||Nt.hasData(t)},data:function(t,e,n){return Ft.access(t,e,n)},removeData:function(t,e){Ft.remove(t,e)},_data:function(t,e,n){return Nt.access(t,e,n)},_removeData:function(t,e){Nt.remove(t,e)}}),dt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=Ft.get(o),1===o.nodeType&&!Nt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=dt.camelCase(i.slice(5)),p(o,i,r[i])));Nt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Ft.set(this,t)}):Dt(this,function(e){var n;if(o&&void 0===e){if(n=Ft.get(o,t),void 0!==n)return n;if(n=p(o,t),void 0!==n)return n}else this.each(function(){Ft.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ft.remove(this,t)})}}),dt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Nt.get(t,e),n&&(!i||dt.isArray(n)?i=Nt.access(t,e,dt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=dt.queue(t,e),i=n.length,r=n.shift(),o=dt._queueHooks(t,e),a=function(){dt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Nt.get(t,n)||Nt.access(t,n,{empty:dt.Callbacks("once memory").add(function(){Nt.remove(t,[e+"queue",n])})})}}),dt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?dt.queue(this[0],t):void 0===e?this:this.each(function(){var n=dt.queue(this,t,e);dt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&dt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){dt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=dt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=Nt.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bt=new RegExp("^(?:([+-])=|)("+zt+")([a-z%]*)$","i"),jt=["Top","Right","Bottom","Left"],Gt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&dt.contains(t.ownerDocument,t)&&"none"===dt.css(t,"display")},Ht=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r},Vt={};dt.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Gt(this)?dt(this).show():dt(this).hide()})}});var Wt=/^(?:checkbox|radio)$/i,Xt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,qt=/^$|\/(?:java|ecma)script/i,Yt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Zt=/<|&#?\w+;/;!function(){var t=et.createDocumentFragment(),e=t.appendChild(et.createElement("div")),n=et.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ft.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ft.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var $t=et.documentElement,Jt=/^key/,Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kt=/^([^.]*)(?:\.(.+)|)/;dt.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,c,l,h,f,p,d,m,g=Nt.get(t);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&dt.find.matchesSelector($t,r),n.guid||(n.guid=dt.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(e){return"undefined"!=typeof dt&&dt.event.triggered!==e.type?dt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Ct)||[""],c=e.length;c--;)s=Kt.exec(e[c])||[],p=m=s[1],d=(s[2]||"").split(".").sort(),p&&(h=dt.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=dt.event.special[p]||{},l=dt.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&dt.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=u[p])||(f=u[p]=[],f.delegateCount=0,h.setup&&h.setup.call(t,i,d,a)!==!1||t.addEventListener&&t.addEventListener(p,a)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,l):f.push(l),dt.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,a,s,u,c,l,h,f,p,d,m,g=Nt.hasData(t)&&Nt.get(t);if(g&&(u=g.events)){for(e=(e||"").match(Ct)||[""],c=e.length;c--;)if(s=Kt.exec(e[c])||[],p=m=s[1],d=(s[2]||"").split(".").sort(),p){for(h=dt.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,f=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)l=f[o],!r&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));a&&!f.length&&(h.teardown&&h.teardown.call(t,d,g.handle)!==!1||dt.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)dt.event.remove(t,p+e[c],n,i,!0);dt.isEmptyObject(u)&&Nt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=dt.event.fix(t),u=new Array(arguments.length),c=(Nt.get(this,"events")||{})[s.type]||[],l=dt.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,s)!==!1){for(a=dt.event.handlers.call(this,s,c),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,i=((dt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u),void 0!==i&&(s.result=i)===!1&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||c.disabled!==!0)){for(o=[],a={},n=0;n<u;n++)i=e[n],r=i.selector+" ",void 0===a[r]&&(a[r]=i.needsContext?dt(r,this).index(c)>-1:dt.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,u<e.length&&s.push({elem:c,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(dt.Event.prototype,t,{enumerable:!0,configurable:!0,get:dt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[dt.expando]?t:new dt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&dt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return dt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},dt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},dt.Event=function(t,e){return this instanceof dt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?x:b,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&dt.extend(this,e),this.timeStamp=t&&t.timeStamp||dt.now(),void(this[dt.expando]=!0)):new dt.Event(t,e)},dt.Event.prototype={constructor:dt.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=x,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=x,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=x,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},dt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Jt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Qt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},dt.event.addProp),dt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){dt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||dt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),dt.fn.extend({on:function(t,e,n,i){return T(this,t,e,n,i)},one:function(t,e,n,i){return T(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,dt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=b),this.each(function(){dt.event.remove(this,t,n,e)})}});var te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ee=/<script|<style|<link/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,ie=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;dt.extend({htmlPrefilter:function(t){return t.replace(te,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),u=dt.contains(t.ownerDocument,t);if(!(ft.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||dt.isXMLDoc(t)))for(a=v(s),o=v(t),i=0,r=o.length;i<r;i++)P(o[i],a[i]);if(e)if(n)for(o=o||v(t),a=a||v(s),i=0,r=o.length;i<r;i++)A(o[i],a[i]);else A(t,s);return a=v(s,"script"),a.length>0&&y(a,!u&&v(t,"script")),s},cleanData:function(t){for(var e,n,i,r=dt.event.special,o=0;void 0!==(n=t[o]);o++)if(It(n)){if(e=n[Nt.expando]){if(e.events)for(i in e.events)r[i]?dt.event.remove(n,i):dt.removeEvent(n,i,e.handle);n[Nt.expando]=void 0}n[Ft.expando]&&(n[Ft.expando]=void 0)}}}),dt.fn.extend({detach:function(t){return C(this,t,!0)},remove:function(t){return C(this,t)},text:function(t){return Dt(this,function(t){return void 0===t?dt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return R(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=M(this,t);e.appendChild(t)}})},prepend:function(){return R(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=M(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return R(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return R(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(dt.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return dt.clone(this,t,e)})},html:function(t){return Dt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ee.test(t)&&!Yt[(Xt.exec(t)||["",""])[1].toLowerCase()]){t=dt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(dt.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return R(this,arguments,function(e){var n=this.parentNode;dt.inArray(this,t)<0&&(dt.cleanData(v(this)),n&&n.replaceChild(e,this))},t)}}),dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){dt.fn[t]=function(t){for(var n,i=[],r=dt(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),dt(r[a])[e](n),ot.apply(i,n.get());return this.pushStack(i)}});var oe=/^margin/,ae=new RegExp("^("+zt+")(?!px)[a-z%]+$","i"),se=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",$t.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",r="4px"===e.marginRight,$t.removeChild(a),s=null}}var n,i,r,o,a=et.createElement("div"),s=et.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ft.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),dt.extend(ft,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),o}}))}();var ue=/^(none|table(?!-c[ea]).+)/,ce={position:"absolute",visibility:"hidden",display:"block"},le={letterSpacing:"0",fontWeight:"400"},he=["Webkit","Moz","ms"],fe=et.createElement("div").style;dt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=L(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=dt.camelCase(e),u=t.style;return e=dt.cssProps[s]||(dt.cssProps[s]=D(s)||s),a=dt.cssHooks[e]||dt.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=Bt.exec(n))&&r[1]&&(n=d(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(dt.cssNumber[s]?"":"px")),ft.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(u[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,a,s=dt.camelCase(e);return e=dt.cssProps[s]||(dt.cssProps[s]=D(s)||s),a=dt.cssHooks[e]||dt.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=L(t,e,i)),"normal"===r&&e in le&&(r=le[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),dt.each(["height","width"],function(t,e){dt.cssHooks[e]={get:function(t,n,i){if(n)return!ue.test(dt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?F(t,e,i):Ht(t,ce,function(){return F(t,e,i)})},set:function(t,n,i){var r,o=i&&se(t),a=i&&N(t,e,i,"border-box"===dt.css(t,"boxSizing",!1,o),o);return a&&(r=Bt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=dt.css(t,e)),I(t,n,a)}}}),dt.cssHooks.marginLeft=O(ft.reliableMarginLeft,function(t,e){if(e)return(parseFloat(L(t,"marginLeft"))||t.getBoundingClientRect().left-Ht(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),dt.each({margin:"",padding:"",border:"Width"},function(t,e){dt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+jt[i]+e]=o[i]||o[i-2]||o[0];return r}},oe.test(t)||(dt.cssHooks[t+e].set=I)}),dt.fn.extend({css:function(t,e){return Dt(this,function(t,e,n){var i,r,o={},a=0;if(dt.isArray(e)){for(i=se(t),r=e.length;a<r;a++)o[e[a]]=dt.css(t,e[a],!1,i);return o}return void 0!==n?dt.style(t,e,n):dt.css(t,e)},t,e,arguments.length>1)}}),dt.Tween=U,U.prototype={constructor:U,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||dt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(dt.cssNumber[n]?"":"px")},cur:function(){var t=U.propHooks[this.prop];return t&&t.get?t.get(this):U.propHooks._default.get(this)},run:function(t){var e,n=U.propHooks[this.prop];return this.options.duration?this.pos=e=dt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=dt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){dt.fx.step[t.prop]?dt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[dt.cssProps[t.prop]]&&!dt.cssHooks[t.prop]?t.elem[t.prop]=t.now:dt.style(t.elem,t.prop,t.now+t.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},dt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},dt.fx=U.prototype.init,dt.fx.step={};var pe,de,me=/^(?:toggle|show|hide)$/,ge=/queueHooks$/;dt.Animation=dt.extend(V,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return d(n.elem,t,Bt.exec(e),n),n}]},tweener:function(t,e){dt.isFunction(t)?(e=t,t=["*"]):t=t.match(Ct);for(var n,i=0,r=t.length;i<r;i++)n=t[i],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(e)},prefilters:[G],prefilter:function(t,e){e?V.prefilters.unshift(t):V.prefilters.push(t)}}),dt.speed=function(t,e,n){var i=t&&"object"==typeof t?dt.extend({},t):{complete:n||!n&&e||dt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!dt.isFunction(e)&&e};return dt.fx.off||et.hidden?i.duration=0:"number"!=typeof i.duration&&(i.duration in dt.fx.speeds?i.duration=dt.fx.speeds[i.duration]:i.duration=dt.fx.speeds._default),null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){dt.isFunction(i.old)&&i.old.call(this),i.queue&&dt.dequeue(this,i.queue)},i},dt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=dt.isEmptyObject(t),o=dt.speed(e,n,i),a=function(){var e=V(this,dt.extend({},t),o);(r||Nt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=dt.timers,a=Nt.get(this);
if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ge.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||dt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Nt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=dt.timers,a=i?i.length:0;for(n.finish=!0,dt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),dt.each(["toggle","show","hide"],function(t,e){var n=dt.fn[e];dt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(B(e,!0),t,i,r)}}),dt.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){dt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),dt.timers=[],dt.fx.tick=function(){var t,e=0,n=dt.timers;for(pe=dt.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||dt.fx.stop(),pe=void 0},dt.fx.timer=function(t){dt.timers.push(t),t()?dt.fx.start():dt.timers.pop()},dt.fx.interval=13,dt.fx.start=function(){de||(de=t.requestAnimationFrame?t.requestAnimationFrame(k):t.setInterval(dt.fx.tick,dt.fx.interval))},dt.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(de):t.clearInterval(de),de=null},dt.fx.speeds={slow:600,fast:200,_default:400},dt.fn.delay=function(e,n){return e=dt.fx?dt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=et.createElement("input"),e=et.createElement("select"),n=e.appendChild(et.createElement("option"));t.type="checkbox",ft.checkOn=""!==t.value,ft.optSelected=n.selected,t=et.createElement("input"),t.value="t",t.type="radio",ft.radioValue="t"===t.value}();var ve,ye=dt.expr.attrHandle;dt.fn.extend({attr:function(t,e){return Dt(this,dt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){dt.removeAttr(this,t)})}}),dt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?dt.prop(t,e,n):(1===o&&dt.isXMLDoc(t)||(r=dt.attrHooks[e.toLowerCase()]||(dt.expr.match.bool.test(e)?ve:void 0)),void 0!==n?null===n?void dt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=dt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!ft.radioValue&&"radio"===e&&dt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Ct);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ve={set:function(t,e,n){return e===!1?dt.removeAttr(t,n):t.setAttribute(n,n),n}},dt.each(dt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ye[e]||dt.find.attr;ye[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=ye[a],ye[a]=r,r=null!=n(t,e,i)?a:null,ye[a]=o),r}});var _e=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;dt.fn.extend({prop:function(t,e){return Dt(this,dt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[dt.propFix[t]||t]})}}),dt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&dt.isXMLDoc(t)||(e=dt.propFix[e]||e,r=dt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=dt.find.attr(t,"tabindex");return e?parseInt(e,10):_e.test(t.nodeName)||xe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ft.optSelected||(dt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){dt.propFix[this.toLowerCase()]=this}),dt.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,u=0;if(dt.isFunction(t))return this.each(function(e){dt(this).addClass(t.call(this,e,X(this)))});if("string"==typeof t&&t)for(e=t.match(Ct)||[];n=this[u++];)if(r=X(n),i=1===n.nodeType&&" "+W(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=W(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,u=0;if(dt.isFunction(t))return this.each(function(e){dt(this).removeClass(t.call(this,e,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Ct)||[];n=this[u++];)if(r=X(n),i=1===n.nodeType&&" "+W(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=W(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):dt.isFunction(t)?this.each(function(n){dt(this).toggleClass(t.call(this,n,X(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=dt(this),o=t.match(Ct)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=X(this),e&&Nt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Nt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(X(n))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;dt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=dt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,dt(this).val()):t,null==r?r="":"number"==typeof r?r+="":dt.isArray(r)&&(r=dt.map(r,function(t){return null==t?"":t+""})),e=dt.valHooks[this.type]||dt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=dt.valHooks[r.type]||dt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(be,""):null==n?"":n)}}}),dt.extend({valHooks:{option:{get:function(t){var e=dt.find.attr(t,"value");return null!=e?e:W(dt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:r.length;for(i=o<0?u:a?o:0;i<u;i++)if(n=r[i],(n.selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!dt.nodeName(n.parentNode,"optgroup"))){if(e=dt(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=dt.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=dt.inArray(dt.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),dt.each(["radio","checkbox"],function(){dt.valHooks[this]={set:function(t,e){if(dt.isArray(e))return t.checked=dt.inArray(dt(t).val(),e)>-1}},ft.checkOn||(dt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var we=/^(?:focusinfocus|focusoutblur)$/;dt.extend(dt.event,{trigger:function(e,n,i,r){var o,a,s,u,c,l,h,f=[i||et],p=ct.call(e,"type")?e.type:e,d=ct.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||et,3!==i.nodeType&&8!==i.nodeType&&!we.test(p+dt.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[dt.expando]?e:new dt.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:dt.makeArray(n,[e]),h=dt.event.special[p]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!dt.isWindow(i)){for(u=h.delegateType||p,we.test(u+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||et)&&f.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||p,l=(Nt.get(a,"events")||{})[e.type]&&Nt.get(a,"handle"),l&&l.apply(a,n),l=c&&a[c],l&&l.apply&&It(a)&&(e.result=l.apply(a,n),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!It(i)||c&&dt.isFunction(i[p])&&!dt.isWindow(i)&&(s=i[c],s&&(i[c]=null),dt.event.triggered=p,i[p](),dt.event.triggered=void 0,s&&(i[c]=s)),e.result}},simulate:function(t,e,n){var i=dt.extend(new dt.Event,n,{type:t,isSimulated:!0});dt.event.trigger(i,null,e)}}),dt.fn.extend({trigger:function(t,e){return this.each(function(){dt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return dt.event.trigger(t,e,n,!0)}}),dt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){dt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),dt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ft.focusin="onfocusin"in t,ft.focusin||dt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){dt.event.simulate(e,t.target,dt.event.fix(t))};dt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Nt.access(i,e);r||i.addEventListener(t,n,!0),Nt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Nt.access(i,e)-1;r?Nt.access(i,e,r):(i.removeEventListener(t,n,!0),Nt.remove(i,e))}}});var Te=t.location,Me=dt.now(),Ee=/\?/;dt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||dt.error("Invalid XML: "+e),n};var Se=/\[\]$/,Ae=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;dt.param=function(t,e){var n,i=[],r=function(t,e){var n=dt.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(dt.isArray(t)||t.jquery&&!dt.isPlainObject(t))dt.each(t,function(){r(this.name,this.value)});else for(n in t)q(n,t[n],e,r);return i.join("&")},dt.fn.extend({serialize:function(){return dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=dt.prop(this,"elements");return t?dt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!dt(this).is(":disabled")&&Re.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!Wt.test(t))}).map(function(t,e){var n=dt(this).val();return null==n?null:dt.isArray(n)?dt.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var Ce=/%20/g,Le=/#.*$/,Oe=/([?&])_=[^&]*/,De=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ie=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ne=/^(?:GET|HEAD)$/,Fe=/^\/\//,Ue={},ke={},ze="*/".concat("*"),Be=et.createElement("a");Be.href=Te.href,dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Te.href,type:"GET",isLocal:Ie.test(Te.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$($(t,dt.ajaxSettings),e):$(dt.ajaxSettings,t)},ajaxPrefilter:Y(Ue),ajaxTransport:Y(ke),ajax:function(e,n){function i(e,n,i,s){var c,f,p,x,b,w=n;l||(l=!0,u&&t.clearTimeout(u),r=void 0,a=s||"",T.readyState=e>0?4:0,c=e>=200&&e<300||304===e,i&&(x=J(d,T,i)),x=Q(d,x,T,c),c?(d.ifModified&&(b=T.getResponseHeader("Last-Modified"),b&&(dt.lastModified[o]=b),b=T.getResponseHeader("etag"),b&&(dt.etag[o]=b)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=x.state,f=x.data,p=x.error,c=!p)):(p=w,!e&&w||(w="error",e<0&&(e=0))),T.status=e,T.statusText=(n||w)+"",c?v.resolveWith(m,[f,w,T]):v.rejectWith(m,[T,w,p]),T.statusCode(_),_=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[T,d,c?f:p]),y.fireWith(m,[T,w]),h&&(g.trigger("ajaxComplete",[T,d]),--dt.active||dt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,a,s,u,c,l,h,f,p,d=dt.ajaxSetup({},n),m=d.context||d,g=d.context&&(m.nodeType||m.jquery)?dt(m):dt.event,v=dt.Deferred(),y=dt.Callbacks("once memory"),_=d.statusCode||{},x={},b={},w="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(l){if(!s)for(s={};e=De.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(t,e){return null==l&&(t=b[t.toLowerCase()]=b[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==l&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)T.always(t[T.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||w;return r&&r.abort(e),i(0,e),this}};if(v.promise(T),d.url=((e||d.url||Te.href)+"").replace(Fe,Te.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Ct)||[""],null==d.crossDomain){c=et.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=Be.protocol+"//"+Be.host!=c.protocol+"//"+c.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=dt.param(d.data,d.traditional)),Z(Ue,d,n,T),l)return T;h=dt.event&&d.global,h&&0===dt.active++&&dt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ne.test(d.type),o=d.url.replace(Le,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ce,"+")):(p=d.url.slice(o.length),d.data&&(o+=(Ee.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(o=o.replace(Oe,"$1"),p=(Ee.test(o)?"&":"?")+"_="+Me++ +p),d.url=o+p),d.ifModified&&(dt.lastModified[o]&&T.setRequestHeader("If-Modified-Since",dt.lastModified[o]),dt.etag[o]&&T.setRequestHeader("If-None-Match",dt.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+ze+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)T.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(d.beforeSend.call(m,T,d)===!1||l))return T.abort();if(w="abort",y.add(d.complete),T.done(d.success),T.fail(d.error),r=Z(ke,d,n,T)){if(T.readyState=1,h&&g.trigger("ajaxSend",[T,d]),l)return T;d.async&&d.timeout>0&&(u=t.setTimeout(function(){T.abort("timeout")},d.timeout));try{l=!1,r.send(x,i)}catch(t){if(l)throw t;i(-1,t)}}else i(-1,"No Transport");return T},getJSON:function(t,e,n){return dt.get(t,e,n,"json")},getScript:function(t,e){return dt.get(t,void 0,e,"script")}}),dt.each(["get","post"],function(t,e){dt[e]=function(t,n,i,r){return dt.isFunction(n)&&(r=r||i,i=n,n=void 0),dt.ajax(dt.extend({url:t,type:e,dataType:r,data:n,success:i},dt.isPlainObject(t)&&t))}}),dt._evalUrl=function(t){return dt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},dt.fn.extend({wrapAll:function(t){var e;return this[0]&&(dt.isFunction(t)&&(t=t.call(this[0])),e=dt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return dt.isFunction(t)?this.each(function(e){dt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=dt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=dt.isFunction(t);return this.each(function(n){dt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){dt(this).replaceWith(this.childNodes)}),this}}),dt.expr.pseudos.hidden=function(t){return!dt.expr.pseudos.visible(t)},dt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},dt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},Ge=dt.ajaxSettings.xhr();ft.cors=!!Ge&&"withCredentials"in Ge,ft.ajax=Ge=!!Ge,dt.ajaxTransport(function(e){var n,i;if(ft.cors||Ge&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(je[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),dt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return dt.globalEval(t),t}}}),dt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),dt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=dt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),et.head.appendChild(e[0])},abort:function(){n&&n()}}}});var He=[],Ve=/(=)\?(?=&|$)|\?\?/;dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=He.pop()||dt.expando+"_"+Me++;return this[t]=!0,t}}),dt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(Ve.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ve.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=dt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ve,"$1"+r):e.jsonp!==!1&&(e.url+=(Ee.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||dt.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){void 0===o?dt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,He.push(r)),a&&dt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ft.createHTMLDocument=function(){var t=et.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),dt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,o;return e||(ft.createHTMLDocument?(e=et.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=et.location.href,e.head.appendChild(i)):e=et),r=Tt.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=_([t],e,o),o&&o.length&&dt(o).remove(),dt.merge([],r.childNodes))},dt.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=W(t.slice(s)),t=t.slice(0,s)),dt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&dt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?dt("<div>").append(dt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){dt.fn[e]=function(t){return this.on(e,t)}}),dt.expr.pseudos.animated=function(t){return dt.grep(dt.timers,function(e){return t===e.elem}).length},dt.offset={setOffset:function(t,e,n){var i,r,o,a,s,u,c,l=dt.css(t,"position"),h=dt(t),f={};"static"===l&&(t.style.position="relative"),s=h.offset(),o=dt.css(t,"top"),u=dt.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),dt.isFunction(e)&&(e=e.call(t,n,dt.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+r),"using"in e?e.using.call(t,f):h.css(f)}},dt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){dt.offset.setOffset(this,t,e)});var e,n,i,r,o=this[0];if(o)return o.getClientRects().length?(i=o.getBoundingClientRect(),i.width||i.height?(r=o.ownerDocument,n=K(r),e=r.documentElement,{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===dt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),dt.nodeName(t[0],"html")||(i=t.offset()),i={top:i.top+dt.css(t[0],"borderTopWidth",!0),left:i.left+dt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-dt.css(n,"marginTop",!0),left:e.left-i.left-dt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===dt.css(t,"position");)t=t.offsetParent;return t||$t})}}),dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;dt.fn[t]=function(i){return Dt(this,function(t,i,r){var o=K(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),dt.each(["top","left"],function(t,e){dt.cssHooks[e]=O(ft.pixelPosition,function(t,n){if(n)return n=L(t,e),ae.test(n)?dt(t).position()[e]+"px":n})}),dt.each({Height:"height",Width:"width"},function(t,e){dt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){dt.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||o===!0?"margin":"border");return Dt(this,function(e,n,r){var o;return dt.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?dt.css(e,n,s):dt.style(e,n,r,s)},e,a?r:void 0,a)}})}),dt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),dt.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return dt});var We=t.jQuery,Xe=t.$;return dt.noConflict=function(e){return t.$===dt&&(t.$=Xe),e&&t.jQuery===dt&&(t.jQuery=We),dt},e||(t.jQuery=t.$=dt),dt}),window.Modernizr=function(t,e,n){function i(t){_.cssText=t}function r(t,e){return i(T.join(t+";")+(e||""))}function o(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var i in t){var r=t[i];if(!a(r,"-")&&_[r]!==n)return"pfx"!=e||r}return!1}function u(t,e,i){for(var r in t){var a=e[t[r]];if(a!==n)return i===!1?t[r]:o(a,"function")?a.bind(i||e):a}return!1}function c(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+E.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?s(r,e):(r=(t+" "+S.join(i+" ")+i).split(" "),u(r,e,n))}function l(){d.input=function(n){for(var i=0,r=n.length;i<r;i++)C[n[i]]=!!(n[i]in x);return C.list&&(C.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),C}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),d.inputtypes=function(t){for(var i,r,o,a=0,s=t.length;a<s;a++)x.setAttribute("type",r=t[a]),i="text"!==x.type,i&&(x.value=b,x.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&x.style.WebkitAppearance!==n?(g.appendChild(x),o=e.defaultView,i=o.getComputedStyle&&"textfield"!==o.getComputedStyle(x,null).WebkitAppearance&&0!==x.offsetHeight,g.removeChild(x)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?x.checkValidity&&x.checkValidity()===!1:x.value!=b)),R[t[a]]=!!i;return R}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var h,f,p="2.8.3",d={},m=!0,g=e.documentElement,v="modernizr",y=e.createElement(v),_=y.style,x=e.createElement("input"),b=":)",w={}.toString,T=" -webkit- -moz- -o- -ms- ".split(" "),M="Webkit Moz O ms",E=M.split(" "),S=M.toLowerCase().split(" "),A={svg:"http://www.w3.org/2000/svg"},P={},R={},C={},L=[],O=L.slice,D=function(t,n,i,r){var o,a,s,u,c=e.createElement("div"),l=e.body,h=l||e.createElement("body");if(parseInt(i,10))for(;i--;)s=e.createElement("div"),s.id=r?r[i]:v+(i+1),c.appendChild(s);return o=["&#173;",'<style id="s',v,'">',t,"</style>"].join(""),c.id=v,(l?c:h).innerHTML+=o,h.appendChild(c),l||(h.style.background="",h.style.overflow="hidden",u=g.style.overflow,g.style.overflow="hidden",g.appendChild(h)),a=n(c,t),l?c.parentNode.removeChild(c):(h.parentNode.removeChild(h),g.style.overflow=u),!!a},I=function(e){var n=t.matchMedia||t.msMatchMedia;if(n)return n(e)&&n(e).matches||!1;var i;return D("@media "+e+" { #"+v+" { position: absolute; } }",function(e){i="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),i},N=function(){function t(t,r){r=r||e.createElement(i[t]||"div"),t="on"+t;var a=t in r;return a||(r.setAttribute||(r=e.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(t,""),a=o(r[t],"function"),o(r[t],"undefined")||(r[t]=n),r.removeAttribute(t))),r=null,a}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),F={}.hasOwnProperty;f=o(F,"undefined")||o(F.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return F.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=O.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,a=e.apply(o,n.concat(O.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(O.call(arguments)))};return i}),P.flexbox=function(){return c("flexWrap")},P.flexboxlegacy=function(){return c("boxDirection")},P.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},P.canvastext=function(){return!(!d.canvas||!o(e.createElement("canvas").getContext("2d").fillText,"function"))},P.webgl=function(){return!!t.WebGLRenderingContext},P.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:D(["@media (",T.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},P.geolocation=function(){return"geolocation"in navigator},P.postmessage=function(){return!!t.postMessage},P.websqldatabase=function(){return!!t.openDatabase},P.indexedDB=function(){return!!c("indexedDB",t)},P.hashchange=function(){return N("hashchange",t)&&(e.documentMode===n||e.documentMode>7)},P.history=function(){return!(!t.history||!history.pushState)},P.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},P.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},P.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),a(_.backgroundColor,"rgba")},P.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),a(_.backgroundColor,"rgba")||a(_.backgroundColor,"hsla")},P.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(_.background)},P.backgroundsize=function(){return c("backgroundSize")},P.borderimage=function(){return c("borderImage")},P.borderradius=function(){return c("borderRadius")},P.boxshadow=function(){return c("boxShadow")},P.textshadow=function(){return""===e.createElement("div").style.textShadow},P.opacity=function(){return r("opacity:.55"),/^0.55$/.test(_.opacity)},P.cssanimations=function(){return c("animationName")},P.csscolumns=function(){return c("columnCount")},P.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((t+"-webkit- ".split(" ").join(e+t)+T.join(n+t)).slice(0,-t.length)),a(_.backgroundImage,"gradient")},P.cssreflections=function(){return c("boxReflect")},P.csstransforms=function(){return!!c("transform")},P.csstransforms3d=function(){var t=!!c("perspective");return t&&"webkitPerspective"in g.style&&D("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,n){t=9===e.offsetLeft&&3===e.offsetHeight}),t},P.csstransitions=function(){return c("transition")},P.fontface=function(){var t;return D('@font-face {font-family:"font";src:url("https://")}',function(n,i){var r=e.getElementById("smodernizr"),o=r.sheet||r.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";t=/src/i.test(a)&&0===a.indexOf(i.split(" ")[0])}),t},P.generatedcontent=function(){var t;return D(["#",v,"{font:0/0 a}#",v,':after{content:"',b,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},P.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return n},P.audio=function(){var t=e.createElement("audio"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return n},P.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(t){return!1}},P.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(t){return!1}},P.webworkers=function(){return!!t.Worker},P.applicationcache=function(){return!!t.applicationCache},P.svg=function(){return!!e.createElementNS&&!!e.createElementNS(A.svg,"svg").createSVGRect},P.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==A.svg},P.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(w.call(e.createElementNS(A.svg,"animate")))},P.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(w.call(e.createElementNS(A.svg,"clipPath")))};for(var U in P)f(P,U)&&(h=U.toLowerCase(),d[h]=P[U](),L.push((d[h]?"":"no-")+h));return d.input||l(),d.addTest=function(t,e){if("object"==typeof t)for(var i in t)f(t,i)&&d.addTest(i,t[i]);else{if(t=t.toLowerCase(),d[t]!==n)return d;e="function"==typeof e?e():e,"undefined"!=typeof m&&m&&(g.className+=" "+(e?"":"no-")+t),d[t]=e}return d},i(""),y=x=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=v[t[m]];return e||(e={},g++,t[m]=g,v[g]=e),e}function o(t,n,i){if(n||(n=e),l)return n.createElement(t);i||(i=r(n));var o;return o=i.cache[t]?i.cache[t].cloneNode():d.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),
!o.canHaveChildren||p.test(t)||o.tagUrn?o:i.frag.appendChild(o)}function a(t,n){if(t||(t=e),l)return t.createDocumentFragment();n=n||r(t);for(var o=n.frag.cloneNode(),a=0,s=i(),u=s.length;a<u;a++)o.createElement(s[a]);return o}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return y.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function u(t){t||(t=e);var i=r(t);return!y.shivCSS||c||i.hasCSS||(i.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||s(t,i),t}var c,l,h="3.7.0",f=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",g=0,v={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,l=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(t){c=!0,l=!0}}();var y={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:h,shivCSS:f.shivCSS!==!1,supportsUnknownElements:l,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:u,createElement:o,createDocumentFragment:a};t.html5=y,u(e)}(this,e),d._version=p,d._prefixes=T,d._domPrefixes=S,d._cssomPrefixes=E,d.mq=I,d.hasEvent=N,d.testProp=function(t){return s([t])},d.testAllProps=c,d.testStyles=D,d.prefixed=function(t,e,n){return e?c(t,e,n):c(t,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+L.join(" "):""),d}(this,this.document);var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var i=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},r=function(t,e,n){var i,r,o=t.cycle;for(i in o)r=o[i],t[i]="function"==typeof r?r(n,e[n]):r[n%r.length];delete t.cycle},o=function(t,e,i){n.call(this,t,e,i),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=o.prototype.render},a=1e-10,s=n._internals,u=s.isSelector,c=s.isArray,l=o.prototype=n.to({},.1,{}),h=[];o.version="1.19.0",l.constructor=o,l.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=n.killTweensOf,o.getTweensOf=n.getTweensOf,o.lagSmoothing=n.lagSmoothing,o.ticker=n.ticker,o.render=n.render,l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),n.prototype.invalidate.call(this)},l.updateTo=function(t,e){var i,r=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(i in t)this.vars[i]=t[i];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var s,u=1/(1-r),c=this._firstPT;c;)s=c.s+c.c,c.c*=u,c.s=s-c.c,c=c._next;return this},l.render=function(t,e,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var i,r,o,u,c,l,h,f,p=this._dirty?this.totalDuration():this._totalDuration,d=this._time,m=this._totalTime,g=this._cycle,v=this._duration,y=this._rawPrevTime;if(t>=p-1e-7?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(i=!0,r="onComplete",n=n||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(y<0||t<=0&&t>=-1e-7||y===a&&"isPause"!==this.data)&&y!==t&&(n=!0,y>a&&(r="onReverseComplete")),this._rawPrevTime=f=!e||t||y===t?t:a)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===v&&y>0)&&(r="onReverseComplete",i=this._reversed),t<0&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||n)&&(y>=0&&(n=!0),this._rawPrevTime=f=!e||t||y===t?t:a)),this._initted||(n=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(u=v+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType?(c=this._time/v,l=this._easeType,h=this._easePower,(1===l||3===l&&c>=.5)&&(c=1-c),3===l&&(c*=2),1===h?c*=c:2===h?c*=c*c:3===h?c*=c*c*c:4===h&&(c*=c*c*c*c),1===l?this.ratio=1-c:2===l?this.ratio=c:this._time/v<.5?this.ratio=c/2:this.ratio=1-c/2):this.ratio=this._ease.getRatio(this._time/v)),d===this._time&&!n&&g===this._cycle)return void(m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=d,this._totalTime=m,this._rawPrevTime=y,this._cycle=g,s.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/v):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==d&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,n):r||(r="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==v||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,n),e||(this._totalTime!==m||r)&&this._callback("onUpdate")),this._cycle!==g&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===v&&this._rawPrevTime===a&&f!==a&&(this._rawPrevTime=0)))},o.to=function(t,e,n){return new o(t,e,n)},o.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new o(t,e,n)},o.fromTo=function(t,e,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new o(t,e,i)},o.staggerTo=o.allTo=function(t,e,a,s,l,f,p){s=s||0;var d,m,g,v,y=0,_=[],x=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),l.apply(p||a.callbackScope||this,f||h)},b=a.cycle,w=a.startAt&&a.startAt.cycle;for(c(t)||("string"==typeof t&&(t=n.selector(t)||t),u(t)&&(t=i(t))),t=t||[],s<0&&(t=i(t),t.reverse(),s*=-1),d=t.length-1,g=0;g<=d;g++){m={};for(v in a)m[v]=a[v];if(b&&(r(m,t,g),null!=m.duration&&(e=m.duration,delete m.duration)),w){w=m.startAt={};for(v in a.startAt)w[v]=a.startAt[v];r(m.startAt,t,g)}m.delay=y+(m.delay||0),g===d&&l&&(m.onComplete=x),_[g]=new o(t[g],e,m),y+=s}return _},o.staggerFrom=o.allFrom=function(t,e,n,i,r,a,s){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,o.staggerTo(t,e,n,i,r,a,s)},o.staggerFromTo=o.allFromTo=function(t,e,n,i,r,a,s,u){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,o.staggerTo(t,e,i,r,a,s,u)},o.delayedCall=function(t,e,n,i,r){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,useFrames:r,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return n.getTweensOf(t,!0).length>0};var f=function(t,e){for(var i=[],r=0,o=t._first;o;)o instanceof n?i[r++]=o:(e&&(i[r++]=o),i=i.concat(f(o,e)),r=i.length),o=o._next;return i},p=o.getAllTweens=function(e){return f(t._rootTimeline,e).concat(f(t._rootFramesTimeline,e))};o.killAll=function(t,n,i,r){null==n&&(n=!0),null==i&&(i=!0);var o,a,s,u=p(0!=r),c=u.length,l=n&&i&&r;for(s=0;s<c;s++)a=u[s],(l||a instanceof e||(o=a.target===a.vars.onComplete)&&i||n&&!o)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var r,a,l,h,f,p=s.tweenLookup;if("string"==typeof t&&(t=n.selector(t)||t),u(t)&&(t=i(t)),c(t))for(h=t.length;--h>-1;)o.killChildTweensOf(t[h],e);else{r=[];for(l in p)for(a=p[l].target.parentNode;a;)a===t&&(r=r.concat(p[l].tweens)),a=a.parentNode;for(f=r.length,h=0;h<f;h++)e&&r[h].totalTime(r[h].totalDuration()),r[h]._enabled(!1,!1)}}};var d=function(t,n,i,r){n=n!==!1,i=i!==!1,r=r!==!1;for(var o,a,s=p(r),u=n&&i&&r,c=s.length;--c>-1;)a=s[c],(u||a instanceof e||(o=a.target===a.vars.onComplete)&&i||n&&!o)&&a.paused(t)};return o.pauseAll=function(t,e,n){d(!0,t,e,n)},o.resumeAll=function(t,e,n){d(!1,t,e,n)},o.globalTimeScale=function(e){var i=t._rootTimeline,r=n.ticker.time;return arguments.length?(e=e||a,i._startTime=r-(r-i._startTime)*i._timeScale/e,i=t._rootFramesTimeline,r=n.ticker.frame,i._startTime=r-(r-i._startTime)*i._timeScale/e,i._timeScale=t._rootTimeline._timeScale=e,e):i._timeScale},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},l.totalDuration=function(t){return arguments.length?this._repeat===-1?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var i=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,i,r=this.vars;for(i in r)n=r[i],u(n)&&n.join("").indexOf("{self}")!==-1&&(r[i]=this._swapSelfInParams(n));u(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,o=n._internals,a=i._internals={},s=o.isSelector,u=o.isArray,c=o.lazyTweens,l=o.lazyRender,h=_gsScope._gsDefine.globals,f=function(t){var e,n={};for(e in t)n[e]=t[e];return n},p=function(t,e,n){var i,r,o=t.cycle;for(i in o)r=o[i],t[i]="function"==typeof r?r.call(e[n],n):r[n%r.length];delete t.cycle},d=a.pauseCallback=function(){},m=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},g=i.prototype=new e;return i.version="1.19.0",g.constructor=i,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(t,e,i,r){var o=i.repeat&&h.TweenMax||n;return e?this.add(new o(t,e,i),r):this.set(t,i,r)},g.from=function(t,e,i,r){return this.add((i.repeat&&h.TweenMax||n).from(t,e,i),r)},g.fromTo=function(t,e,i,r,o){var a=r.repeat&&h.TweenMax||n;return e?this.add(a.fromTo(t,e,i,r),o):this.set(t,r,o)},g.staggerTo=function(t,e,r,o,a,u,c,l){var h,d,g=new i({onComplete:u,onCompleteParams:c,callbackScope:l,smoothChildTiming:this.smoothChildTiming}),v=r.cycle;for("string"==typeof t&&(t=n.selector(t)||t),t=t||[],s(t)&&(t=m(t)),o=o||0,o<0&&(t=m(t),t.reverse(),o*=-1),d=0;d<t.length;d++)h=f(r),h.startAt&&(h.startAt=f(h.startAt),h.startAt.cycle&&p(h.startAt,t,d)),v&&(p(h,t,d),null!=h.duration&&(e=h.duration,delete h.duration)),g.to(t[d],e,h,d*o);return this.add(g,a)},g.staggerFrom=function(t,e,n,i,r,o,a,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(t,e,n,i,r,o,a,s)},g.staggerFromTo=function(t,e,n,i,r,o,a,s,u){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,this.staggerTo(t,e,i,r,o,a,s,u)},g.call=function(t,e,i,r){return this.add(n.delayedCall(0,t,e,i),r)},g.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new n(t,0,e),i)},i.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,o,a=new i(t),s=a._timeline;for(null==e&&(e=!0),s._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=s._time,r=s._first;r;)o=r._next,e&&r instanceof n&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=o;return s.add(a,0),a},g.add=function(r,o,a,s){var c,l,h,f,p,d;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&u(r)){for(a=a||"normal",s=s||0,c=o,l=r.length,h=0;h<l;h++)u(f=r[h])&&(f=new i({tweens:f})),this.add(f,c),"string"!=typeof f&&"function"!=typeof f&&("sequence"===a?c=f._startTime+f.totalDuration()/f._timeScale:"start"===a&&(f._startTime-=f.delay())),c+=s;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,o);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=n.delayedCall(0,r)}if(e.prototype.add.call(this,r,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,d=p.rawTime()>r._startTime;p._timeline;)d&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},g.remove=function(e){if(e instanceof t){this._remove(e,!1);var n=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:n._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&u(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,n){e.prototype._remove.call(this,t,n);var i=this._last;return i?this._time>i._startTime+i._totalDuration/i._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,n,i){return this.add(t,e||0,n,i)},g.appendMultiple=function(t,e,n,i){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),n,i)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,i,r){var o=n.delayedCall(0,d,i,r||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,n,i,r){var o;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&u(r)))for(o=r.length;--o>-1;)r[o]instanceof t&&r[o].timeline===this&&this.remove(r[o]);if("string"==typeof n)return this._parseTimeOrLabel(n,i&&"number"==typeof e&&null==this._labels[n]?e-this.duration():0,i);if(n=n||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),o===-1)return null==this._labels[e]?i?this._labels[e]=this.duration()+n:n:this._labels[e]+n;n=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,i):this.duration()}return Number(e)+n},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var i,o,a,s,u,h,f,p=this._dirty?this.totalDuration():this._totalDuration,d=this._time,m=this._startTime,g=this._timeScale,v=this._paused;if(t>=p-1e-7)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(u=!0,this._rawPrevTime>r&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=p+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(s="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=o=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&o)for(i=this._first;i&&0===i._startTime;)i._duration||(o=!1),i=i._next;t=0,this._initted||(u=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=d)for(i=this._first;i&&i._startTime<=t&&!h;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(h=i),i=i._next;else for(i=this._last;i&&i._startTime>=t&&!h;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(h=i),i=i._prev;h&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==d&&this._first||n||u||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),f=this._time,f>=d)for(i=this._first;i&&(a=i._next,f===this._time&&(!this._paused||v));)(i._active||i._startTime<=f&&!i._paused&&!i._gc)&&(h===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=a;else for(i=this._last;i&&(a=i._prev,f===this._time&&(!this._paused||v));){if(i._active||i._startTime<=d&&!i._paused&&!i._gc){if(h===i){for(h=i._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,n),h=h._prev;h=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)}i=a}this._onUpdate&&(e||(c.length&&l(),this._callback("onUpdate"))),s&&(this._gc||m!==this._startTime&&g===this._timeScale||(0===this._time||p>=this.totalDuration())&&(o&&(c.length&&l(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof i&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,i,r){r=r||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<r||(a instanceof n?e!==!1&&(o[s++]=a):(i!==!1&&(o[s++]=a),t!==!1&&(o=o.concat(a.getChildren(!0,e,i)),s=o.length))),a=a._next;return o},g.getTweensOf=function(t,e){var i,r,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),i=n.getTweensOf(t),r=i.length;--r>-1;)(i[r].timeline===this||e&&this._contains(i[r]))&&(a[s++]=i[r]);return o&&this._enabled(!1,!0),a},g.recent=function(){return this._recent},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,n){n=n||0;for(var i,r=this._first,o=this._labels;r;)r._startTime>=n&&(r._startTime+=t),r=r._next;if(e)for(i in o)o[i]>=n&&(o[i]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var n=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),i=n.length,r=!1;--i>-1;)n[i]._kill(t,e)&&(r=!0);return r},g.clear=function(t){var e=this.getChildren(!1,!0,!0),n=e.length;for(this._time=this._totalTime=0;--n>-1;)e[n]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},g._enabled=function(t,n){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return e.prototype._enabled.call(this,t,n)},g.totalTime=function(e,n,i){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,n,i=0,r=this._last,o=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):o=r._startTime,r._startTime<0&&!r._paused&&(i-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),n=r._startTime+r._totalDuration/r._timeScale,n>i&&(i=n),r=e;this._duration=this._totalDuration=i,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},g.paused=function(e){if(!e)for(var n=this._first,i=this._time;n;)n._startTime===i&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return t.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},i},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,n){var i=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,o=e._internals,a=o.lazyTweens,s=o.lazyRender,u=_gsScope._gsDefine.globals,c=new n(null,null,1,0),l=i.prototype=new t;return l.constructor=i,l.kill()._gc=!1,i.version="1.19.0",l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},l.addCallback=function(t,n,i,r){return this.add(e.delayedCall(0,t,i,r),n)},l.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var n=this.getTweensOf(t,!1),i=n.length,r=this._parseTimeOrLabel(e);--i>-1;)n[i]._startTime===r&&n[i]._enabled(!1,!1);return this},l.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},l.tweenTo=function(t,n){n=n||{};var i,r,o,a={ease:c,useFrames:this.usesFrames(),immediateRender:!1},s=n.repeat&&u.TweenMax||e;for(r in n)a[r]=n[r];return a.time=this._parseTimeOrLabel(t),i=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new s(this,i,a),a.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&i===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),n.onStart&&o._callback("onStart")},o},l.tweenFromTo=function(t,e,n){n=n||{},t=this._parseTimeOrLabel(t),n.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},n.immediateRender=n.immediateRender!==!1;var i=this.tweenTo(e,n);return i.duration(Math.abs(i.vars.time-t)/this._timeScale||.001)},l.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var i,o,u,c,l,h,f,p,d=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,g=this._time,v=this._totalTime,y=this._startTime,_=this._timeScale,x=this._rawPrevTime,b=this._paused,w=this._cycle;if(t>=d-1e-7)this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,c="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||x<0||x===r)&&x!==t&&this._first&&(l=!0,x>r&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=m,t=m+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==g||0===m&&x!==r&&(x>0||t<0&&x>=0)&&!this._locked)&&(c="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=o=!0,c="onReverseComplete"):x>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=m||!e||t||this._rawPrevTime===t?t:r,0===t&&o)for(i=this._first;i&&0===i._startTime;)i._duration||(o=!1),i=i._next;t=0,this._initted||(l=!0)}else if(0===m&&x<0&&(l=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(h=m+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&v<=t&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,t=m+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=g)for(i=this._first;i&&i._startTime<=t&&!f;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(f=i),i=i._next;else for(i=this._last;i&&i._startTime>=t&&!f;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(f=i),i=i._prev;f&&(this._time=t=f._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var T=this._yoyo&&0!==(1&w),M=T===(this._yoyo&&0!==(1&this._cycle)),E=this._totalTime,S=this._cycle,A=this._rawPrevTime,P=this._time;if(this._totalTime=w*m,this._cycle<w?T=!T:this._totalTime+=m,this._time=g,this._rawPrevTime=0===m?x-1e-4:x,this._cycle=w,this._locked=!0,g=T?0:m,this.render(g,e,0===m),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),g!==this._time)return;if(M&&(g=T?m+1e-4:-1e-4,this.render(g,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=P,this._totalTime=E,this._cycle=S,this._rawPrevTime=A}if(!(this._time!==g&&this._first||n||l||f))return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),p=this._time,p>=g)for(i=this._first;i&&(u=i._next,p===this._time&&(!this._paused||b));)(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(f===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=u;else for(i=this._last;i&&(u=i._prev,p===this._time&&(!this._paused||b));){if(i._active||i._startTime<=g&&!i._paused&&!i._gc){if(f===i){for(f=i._prev;f&&f.endTime()>this._time;)f.render(f._reversed?f.totalDuration()-(t-f._startTime)*f._timeScale:(t-f._startTime)*f._timeScale,e,n),f=f._prev;f=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)}i=u}this._onUpdate&&(e||(a.length&&s(),this._callback("onUpdate"))),c&&(this._locked||this._gc||y!==this._startTime&&_===this._timeScale||(0===this._time||d>=this.totalDuration())&&(o&&(a.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[c]&&this._callback(c)))},l.getActive=function(t,e,n){null==t&&(t=!0),null==e&&(e=!0),null==n&&(n=!1);var i,r,o=[],a=this.getChildren(t,e,n),s=0,u=a.length;for(i=0;i<u;i++)r=a[i],r.isActive()&&(o[s++]=r);return o},l.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,n=this.getLabelsArray(),i=n.length;for(e=0;e<i;e++)if(n[e].time>t)return n[e].name;return null},l.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),n=e.length;--n>-1;)if(e[n].time<t)return e[n].name;return null},l.getLabelsArray=function(){var t,e=[],n=0;for(t in this._labels)e[n++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},l.totalDuration=function(e){return arguments.length?this._repeat!==-1&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},l.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},i},!0),function(){var t=180/Math.PI,e=[],n=[],i=[],r={},o=_gsScope._gsDefine.globals,a=function(t,e,n,i){n===i&&(n=i-(i-e)/1e6),t===e&&(e=t+(n-t)/1e6),this.a=t,this.b=e,this.c=n,this.d=i,this.da=i-t,this.ca=n-t,this.ba=e-t},s=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",u=function(t,e,n,i){var r={a:t},o={},a={},s={c:i},u=(t+e)/2,c=(e+n)/2,l=(n+i)/2,h=(u+c)/2,f=(c+l)/2,p=(f-h)/8;return r.b=u+(t-u)/4,o.b=h+p,r.c=o.a=(r.b+o.b)/2,o.c=a.a=(h+f)/2,a.b=f-p,s.b=l+(i-l)/4,a.c=s.a=(a.b+s.b)/2,[r,o,a,s]},c=function(t,r,o,a,s){var c,l,h,f,p,d,m,g,v,y,_,x,b,w=t.length-1,T=0,M=t[0].a;for(c=0;c<w;c++)p=t[T],l=p.a,h=p.d,f=t[T+1].d,s?(_=e[c],x=n[c],b=(x+_)*r*.25/(a?.5:i[c]||.5),d=h-(h-l)*(a?.5*r:0!==_?b/_:0),m=h+(f-h)*(a?.5*r:0!==x?b/x:0),g=h-(d+((m-d)*(3*_/(_+x)+.5)/4||0))):(d=h-(h-l)*r*.5,m=h+(f-h)*r*.5,g=h-(d+m)/2),d+=g,m+=g,p.c=v=d,0!==c?p.b=M:p.b=M=p.a+.6*(p.c-p.a),p.da=h-l,p.ca=v-l,p.ba=M-l,o?(y=u(l,M,v,h),t.splice(T,1,y[0],y[1],y[2],y[3]),T+=4):T++,M=m;p=t[T],p.b=M,p.c=M+.4*(p.d-M),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=M-p.a,o&&(y=u(p.a,M,p.c,p.d),t.splice(T,1,y[0],y[1],y[2],y[3]))},l=function(t,i,r,o){
var s,u,c,l,h,f,p=[];if(o)for(t=[o].concat(t),u=t.length;--u>-1;)"string"==typeof(f=t[u][i])&&"="===f.charAt(1)&&(t[u][i]=o[i]+Number(f.charAt(0)+f.substr(2)));if(s=t.length-2,s<0)return p[0]=new a(t[0][i],0,0,t[s<-1?0:1][i]),p;for(u=0;u<s;u++)c=t[u][i],l=t[u+1][i],p[u]=new a(c,0,0,l),r&&(h=t[u+2][i],e[u]=(e[u]||0)+(l-c)*(l-c),n[u]=(n[u]||0)+(h-l)*(h-l));return p[u]=new a(t[u][i],0,0,t[u+1][i]),p},h=function(t,o,a,u,h,f){var p,d,m,g,v,y,_,x,b={},w=[],T=f||t[0];h="string"==typeof h?","+h+",":s,null==o&&(o=1);for(d in t[0])w.push(d);if(t.length>1){for(x=t[t.length-1],_=!0,p=w.length;--p>-1;)if(d=w[p],Math.abs(T[d]-x[d])>.05){_=!1;break}_&&(t=t.concat(),f&&t.unshift(f),t.push(t[1]),f=t[t.length-3])}for(e.length=n.length=i.length=0,p=w.length;--p>-1;)d=w[p],r[d]=h.indexOf(","+d+",")!==-1,b[d]=l(t,d,r[d],f);for(p=e.length;--p>-1;)e[p]=Math.sqrt(e[p]),n[p]=Math.sqrt(n[p]);if(!u){for(p=w.length;--p>-1;)if(r[d])for(m=b[w[p]],y=m.length-1,g=0;g<y;g++)v=m[g+1].da/n[g]+m[g].da/e[g]||0,i[g]=(i[g]||0)+v*v;for(p=i.length;--p>-1;)i[p]=Math.sqrt(i[p])}for(p=w.length,g=a?4:1;--p>-1;)d=w[p],m=b[d],c(m,o,a,u,r[d]),_&&(m.splice(0,g),m.splice(m.length-g,g));return b},f=function(t,e,n){e=e||"soft";var i,r,o,s,u,c,l,h,f,p,d,m={},g="cubic"===e?3:2,v="soft"===e,y=[];if(v&&n&&(t=[n].concat(t)),null==t||t.length<g+1)throw"invalid Bezier data";for(f in t[0])y.push(f);for(c=y.length;--c>-1;){for(f=y[c],m[f]=u=[],p=0,h=t.length,l=0;l<h;l++)i=null==n?t[l][f]:"string"==typeof(d=t[l][f])&&"="===d.charAt(1)?n[f]+Number(d.charAt(0)+d.substr(2)):Number(d),v&&l>1&&l<h-1&&(u[p++]=(i+u[p-2])/2),u[p++]=i;for(h=p-g+1,p=0,l=0;l<h;l+=g)i=u[l],r=u[l+1],o=u[l+2],s=2===g?0:u[l+3],u[p++]=d=3===g?new a(i,r,o,s):new a(i,(2*r+i)/3,(2*r+o)/3,o);u.length=p}return m},p=function(t,e,n){for(var i,r,o,a,s,u,c,l,h,f,p,d=1/n,m=t.length;--m>-1;)for(f=t[m],o=f.a,a=f.d-o,s=f.c-o,u=f.b-o,i=r=0,l=1;l<=n;l++)c=d*l,h=1-c,i=r-(r=(c*c*a+3*h*(c*s+h*u))*c),p=m*n+l-1,e[p]=(e[p]||0)+i*i},d=function(t,e){e=e>>0||6;var n,i,r,o,a=[],s=[],u=0,c=0,l=e-1,h=[],f=[];for(n in t)p(t[n],a,e);for(r=a.length,i=0;i<r;i++)u+=Math.sqrt(a[i]),o=i%e,f[o]=u,o===l&&(c+=u,o=i/e>>0,h[o]=f,s[o]=c,u=0,f=[]);return{length:c,lengths:s,segments:h}},m=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(t,e,n){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var i,r,o,a,s,u=e.values||[],c={},l=u[0],p=e.autoRotate||n.vars.orientToBezier;this._autoRotate=p?p instanceof Array?p:[["x","y","rotation",p===!0?0:Number(p)||0]]:null;for(i in l)this._props.push(i);for(o=this._props.length;--o>-1;)i=this._props[o],this._overwriteProps.push(i),r=this._func[i]="function"==typeof t[i],c[i]=r?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(t[i]),s||c[i]!==u[0][i]&&(s=c);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?h(u,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,s):f(u,e.type,c),this._segCount=this._beziers[i].length,this._timeRes){var m=d(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(p=this._autoRotate)for(this._initialRotations=[],p[0]instanceof Array||(this._autoRotate=p=[p]),o=p.length;--o>-1;){for(a=0;a<3;a++)i=p[o][a],this._func[i]="function"==typeof t[i]&&t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)];i=p[o][2],this._initialRotations[o]=(this._func[i]?this._func[i].call(this._target):this._target[i])||0,this._overwriteProps.push(i)}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(e){var n,i,r,o,a,s,u,c,l,h,f=this._segCount,p=this._func,d=this._target,m=e!==this._startRatio;if(this._timeRes){if(l=this._lengths,h=this._curSeg,e*=this._length,r=this._li,e>this._l2&&r<f-1){for(c=f-1;r<c&&(this._l2=l[++r])<=e;);this._l1=l[r-1],this._li=r,this._curSeg=h=this._segments[r],this._s2=h[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=l[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=l[r],this._li=r,this._curSeg=h=this._segments[r],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(n=r,e-=this._l1,r=this._si,e>this._s2&&r<h.length-1){for(c=h.length-1;r<c&&(this._s2=h[++r])<=e;);this._s1=h[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=h[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=h[r],this._si=r}s=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else n=e<0?0:e>=1?f-1:f*e>>0,s=(e-n*(1/f))*f;for(i=1-s,r=this._props.length;--r>-1;)o=this._props[r],a=this._beziers[o][n],u=(s*s*a.da+3*i*(s*a.ca+i*a.ba))*s+a.a,this._mod[o]&&(u=this._mod[o](u,d)),p[o]?d[o](u):d[o]=u;if(this._autoRotate){var g,v,y,_,x,b,w,T=this._autoRotate;for(r=T.length;--r>-1;)o=T[r][2],b=T[r][3]||0,w=T[r][4]===!0?1:t,a=this._beziers[T[r][0]],g=this._beziers[T[r][1]],a&&g&&(a=a[n],g=g[n],v=a.a+(a.b-a.a)*s,_=a.b+(a.c-a.b)*s,v+=(_-v)*s,_+=(a.c+(a.d-a.c)*s-_)*s,y=g.a+(g.b-g.a)*s,x=g.b+(g.c-g.b)*s,y+=(x-y)*s,x+=(g.c+(g.d-g.c)*s-x)*s,u=m?Math.atan2(x-y,_-v)*w+b:this._initialRotations[r],this._mod[o]&&(u=this._mod[o](u,d)),p[o]?d[o](u):d[o]=u)}}}),g=m.prototype;m.bezierThrough=h,m.cubicToQuadratic=u,m._autoCSS=!0,m.quadraticToCubic=function(t,e,n){return new a(t,(2*e+t)/3,(2*e+n)/3,n)},m._cssRegister=function(){var t=o.CSSPlugin;if(t){var e=t._internals,n=e._parseToProxy,i=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,a,s,u){e instanceof Array&&(e={values:e}),u=new m;var c,l,h,f=e.values,p=f.length-1,d=[],g={};if(p<0)return s;for(c=0;c<=p;c++)h=n(t,f[c],a,s,u,p!==c),d[c]=h.end;for(l in e)g[l]=e[l];return g.values=d,s=new r(t,"bezier",0,0,h.pt,2),s.data=h,s.plugin=u,s.setRatio=i,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(c=g.autoRotate===!0?0:Number(g.autoRotate),g.autoRotate=null!=h.end.left?[["left","top","rotation",c,!1]]:null!=h.end.x&&[["x","y","rotation",c,!1]]),g.autoRotate&&(a._transform||a._enableTransforms(!1),h.autoRotate=a._target._gsTransform,h.proxy.rotation=h.autoRotate.rotation||0,a._overwriteProps.push("rotation")),u._onInitTween(h.proxy,g,a._tween),s}})}},g._mod=function(t){for(var e,n=this._overwriteProps,i=n.length;--i>-1;)e=t[n[i]],e&&"function"==typeof e&&(this._mod[n[i]]=e)},g._kill=function(t){var e,n,i=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],n=i.length;--n>-1;)i[n]===e&&i.splice(n,1);if(i=this._autoRotate)for(n=i.length;--n>-1;)t[i[n][2]]&&i.splice(n,1);return this._super._kill.call(this,t)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var n,i,r,o,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},s=_gsScope._gsDefine.globals,u={},c=a.prototype=new t("css");c.constructor=a,a.version="1.19.0",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,c="px",a.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var l,h,f,p,d,m,g,v,y=/(?:\-|\.|\b)(\d|\.|e\-)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,x=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,b=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,T=/opacity *= *([^)]*)/i,M=/opacity:([^;]*)/i,E=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,A=/([A-Z])/g,P=/-([a-z])/gi,R=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,C=function(t,e){return e.toUpperCase()},L=/(?:Left|Right|Width)/i,O=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,D=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,I=/,(?=[^\)]*(?:\(|$))/gi,N=/[\s,\(]/i,F=Math.PI/180,U=180/Math.PI,k={},z=document,B=function(t){return z.createElementNS?z.createElementNS("http://www.w3.org/1999/xhtml",t):z.createElement(t)},j=B("div"),G=B("img"),H=a._internals={_specialProps:u},V=navigator.userAgent,W=function(){var t=V.indexOf("Android"),e=B("a");return f=V.indexOf("Safari")!==-1&&V.indexOf("Chrome")===-1&&(t===-1||Number(V.substr(t+8,1))>3),d=f&&Number(V.substr(V.indexOf("Version/")+8,1))<6,p=V.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(V)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(V))&&(m=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),X=function(t){return T.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},q=function(t){window.console&&console.log(t)},Y="",Z="",$=function(t,e){e=e||j;var n,i,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),n=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===r[n[i]+t];);return i>=0?(Z=3===i?"ms":n[i],Y="-"+Z.toLowerCase()+"-",Z+t):null},J=z.defaultView?z.defaultView.getComputedStyle:function(){},Q=a.getStyle=function(t,e,n,i,r){var o;return W||"opacity"!==e?(!i&&t.style[e]?o=t.style[e]:(n=n||J(t))?o=n[e]||n.getPropertyValue(e)||n.getPropertyValue(e.replace(A,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):X(t)},K=H.convertToPixels=function(t,n,i,r,o){if("px"===r||!r)return i;if("auto"===r||!i)return 0;var s,u,c,l=L.test(n),h=t,f=j.style,p=i<0,d=1===i;if(p&&(i=-i),d&&(i*=100),"%"===r&&n.indexOf("border")!==-1)s=i/100*(l?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+Q(t,"position")+";line-height:0;","%"!==r&&h.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)f[l?"borderLeftWidth":"borderTopWidth"]=i+r;else{if(h=t.parentNode||z.body,u=h._gsCache,c=e.ticker.frame,u&&l&&u.time===c)return u.width*i/100;f[l?"width":"height"]=i+r}h.appendChild(j),s=parseFloat(j[l?"offsetWidth":"offsetHeight"]),h.removeChild(j),l&&"%"===r&&a.cacheWidths!==!1&&(u=h._gsCache=h._gsCache||{},u.time=c,u.width=s/i*100),0!==s||o||(s=K(t,n,i,r,!0))}return d&&(s/=100),p?-s:s},tt=H.calculateOffset=function(t,e,n){if("absolute"!==Q(t,"position",n))return 0;var i="left"===e?"Left":"Top",r=Q(t,"margin"+i,n);return t["offset"+i]-(K(t,e,parseFloat(r),r.replace(w,""))||0)},et=function(t,e){var n,i,r,o={};if(e=e||J(t,null))if(n=e.length)for(;--n>-1;)r=e[n],r.indexOf("-transform")!==-1&&Pt!==r||(o[r.replace(P,C)]=e.getPropertyValue(r));else for(n in e)n.indexOf("Transform")!==-1&&At!==n||(o[n]=e[n]);else if(e=t.currentStyle||t.style)for(n in e)"string"==typeof n&&void 0===o[n]&&(o[n.replace(P,C)]=e[n]);return W||(o.opacity=X(t)),i=jt(t,e,!1),o.rotation=i.rotation,o.skewX=i.skewX,o.scaleX=i.scaleX,o.scaleY=i.scaleY,o.x=i.x,o.y=i.y,Ct&&(o.z=i.z,o.rotationX=i.rotationX,o.rotationY=i.rotationY,o.scaleZ=i.scaleZ),o.filters&&delete o.filters,o},nt=function(t,e,n,i,r){var o,a,s,u={},c=t.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(o=n[a])||r&&r[a])&&a.indexOf("Origin")===-1&&("number"!=typeof o&&"string"!=typeof o||(u[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[a]||""===e[a].replace(b,"")?o:0:tt(t,a),void 0!==c[a]&&(s=new vt(c,a,c[a],s))));if(i)for(a in i)"className"!==a&&(u[a]=i[a]);return{difs:u,firstMPT:s}},it={width:["Left","Right"],height:["Top","Bottom"]},rt=["marginLeft","marginRight","marginTop","marginBottom"],ot=function(t,e,n){if("svg"===(t.nodeName+"").toLowerCase())return(n||J(t))[e]||0;if(t.getBBox&&kt(t))return t.getBBox()[e]||0;var i=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=it[e],o=r.length;for(n=n||J(t,null);--o>-1;)i-=parseFloat(Q(t,"padding"+r[o],n,!0))||0,i-=parseFloat(Q(t,"border"+r[o]+"Width",n,!0))||0;return i},at=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var n,i=t.split(" "),r=t.indexOf("left")!==-1?"0%":t.indexOf("right")!==-1?"100%":i[0],o=t.indexOf("top")!==-1?"0%":t.indexOf("bottom")!==-1?"100%":i[1];if(i.length>3&&!e){for(i=t.split(", ").join(",").split(","),t=[],n=0;n<i.length;n++)t.push(at(i[n]));return t.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&(r+"").indexOf("=")===-1)&&(r="50%"),t=r+" "+o+(i.length>2?" "+i[2]:""),e&&(e.oxp=r.indexOf("%")!==-1,e.oyp=o.indexOf("%")!==-1,e.oxr="="===r.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(r.replace(b,"")),e.oy=parseFloat(o.replace(b,"")),e.v=t),e||t},st=function(t,e){return"function"==typeof t&&(t=t(v,g)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ut=function(t,e){return"function"==typeof t&&(t=t(v,g)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ct=function(t,e,n,i){var r,o,a,s,u,c=1e-6;return"function"==typeof t&&(t=t(v,g)),null==t?s=e:"number"==typeof t?s=t:(r=360,o=t.split("_"),u="="===t.charAt(1),a=(u?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(t.indexOf("rad")===-1?1:U)-(u?0:e),o.length&&(i&&(i[n]=e+a),t.indexOf("short")!==-1&&(a%=r,a!==a%(r/2)&&(a=a<0?a+r:a-r)),t.indexOf("_cw")!==-1&&a<0?a=(a+9999999999*r)%r-(a/r|0)*r:t.indexOf("ccw")!==-1&&a>0&&(a=(a-9999999999*r)%r-(a/r|0)*r)),s=e+a),s<c&&s>-c&&(s=0),s},lt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ht=function(t,e,n){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},ft=a.parseColor=function(t,e){var n,i,r,o,a,s,u,c,l,h,f;if(t)if("number"==typeof t)n=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),lt[t])n=lt[t];else if("#"===t.charAt(0))4===t.length&&(i=t.charAt(1),r=t.charAt(2),o=t.charAt(3),t="#"+i+i+r+r+o+o),t=parseInt(t.substr(1),16),n=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(n=f=t.match(y),e){if(t.indexOf("=")!==-1)return t.match(_)}else a=Number(n[0])%360/360,s=Number(n[1])/100,u=Number(n[2])/100,r=u<=.5?u*(s+1):u+s-u*s,i=2*u-r,n.length>3&&(n[3]=Number(t[3])),n[0]=ht(a+1/3,i,r),n[1]=ht(a,i,r),n[2]=ht(a-1/3,i,r);else n=t.match(y)||lt.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=lt.black;return e&&!f&&(i=n[0]/255,r=n[1]/255,o=n[2]/255,c=Math.max(i,r,o),l=Math.min(i,r,o),u=(c+l)/2,c===l?a=s=0:(h=c-l,s=u>.5?h/(2-c-l):h/(c+l),a=c===i?(r-o)/h+(r<o?6:0):c===r?(o-i)/h+2:(i-r)/h+4,a*=60),n[0]=a+.5|0,n[1]=100*s+.5|0,n[2]=100*u+.5|0),n},pt=function(t,e){var n,i,r,o=t.match(dt)||[],a=0,s=o.length?"":t;for(n=0;n<o.length;n++)i=o[n],r=t.substr(a,t.indexOf(i,a)-a),a+=r.length+i.length,i=ft(i,e),3===i.length&&i.push(1),s+=r+(e?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return s+t.substr(a)},dt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in lt)dt+="|"+c+"\\b";dt=new RegExp(dt+")","gi"),a.colorStringFilter=function(t){var e,n=t[0]+t[1];dt.test(n)&&(e=n.indexOf("hsl(")!==-1||n.indexOf("hsla(")!==-1,t[0]=pt(t[0],e),t[1]=pt(t[1],e)),dt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var mt=function(t,e,n,i){if(null==t)return function(t){return t};var r,o=e?(t.match(dt)||[""])[0]:"",a=t.split(o).join("").match(x)||[],s=t.substr(0,t.indexOf(a[0])),u=")"===t.charAt(t.length-1)?")":"",c=t.indexOf(" ")!==-1?" ":",",l=a.length,h=l>0?a[0].replace(y,""):"";return l?r=e?function(t){var e,f,p,d;if("number"==typeof t)t+=h;else if(i&&I.test(t)){for(d=t.replace(I,"|").split("|"),p=0;p<d.length;p++)d[p]=r(d[p]);return d.join(",")}if(e=(t.match(dt)||[o])[0],f=t.split(e).join("").match(x)||[],p=f.length,l>p--)for(;++p<l;)f[p]=n?f[(p-1)/2|0]:a[p];return s+f.join(c)+c+e+u+(t.indexOf("inset")!==-1?" inset":"")}:function(t){var e,o,f;if("number"==typeof t)t+=h;else if(i&&I.test(t)){for(o=t.replace(I,"|").split("|"),f=0;f<o.length;f++)o[f]=r(o[f]);return o.join(",")}if(e=t.match(x)||[],f=e.length,l>f--)for(;++f<l;)e[f]=n?e[(f-1)/2|0]:a[f];return s+e.join(c)+u}:function(t){return t}},gt=function(t){return t=t.split(","),function(e,n,i,r,o,a,s){var u,c=(n+"").split(" ");for(s={},u=0;u<4;u++)s[t[u]]=c[u]=c[u]||c[(u-1)/2>>0];return r.parse(e,s,o,a)}},vt=(H._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,n,i,r,o,a=this.data,s=a.proxy,u=a.firstMPT,c=1e-6;u;)e=s[u.v],u.r?e=Math.round(e):e<c&&e>-c&&(e=0),u.t[u.p]=e,u=u._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(s.rotation,this.t):s.rotation),1===t||0===t)for(u=a.firstMPT,o=1===t?"e":"b";u;){if(n=u.t,n.type){if(1===n.type){for(r=n.xs0+n.s+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n[o]=r}}else n[o]=n.s+n.xs0;u=u._next}},function(t,e,n,i,r){this.t=t,this.p=e,this.v=n,this.r=r,i&&(i._prev=this,this._next=i)}),yt=(H._parseToProxy=function(t,e,n,i,r,o){var a,s,u,c,l,h=i,f={},p={},d=n._transform,m=k;for(n._transform=null,k=e,i=l=n.parse(t,e,i,r),k=m,o&&(n._transform=d,h&&(h._prev=null,h._prev&&(h._prev._next=null)));i&&i!==h;){if(i.type<=1&&(s=i.p,p[s]=i.s+i.c,f[s]=i.s,o||(c=new vt(i,"s",s,c,i.r),i.c=0),1===i.type))for(a=i.l;--a>0;)u="xn"+a,s=i.p+"_"+u,p[s]=i.data[u],f[s]=i[u],o||(c=new vt(i,u,s,c,i.rxp[u]));i=i._next}return{proxy:f,end:p,firstMPT:c,pt:l}},H.CSSPropTween=function(t,e,i,r,a,s,u,c,l,h,f){this.t=t,this.p=e,this.s=i,this.c=r,this.n=u||e,t instanceof yt||o.push(this.n),this.r=c,this.type=s||0,l&&(this.pr=l,n=!0),this.b=void 0===h?i:h,this.e=void 0===f?i+r:f,a&&(this._next=a,a._prev=this)}),_t=function(t,e,n,i,r,o){var a=new yt(t,e,n,i-n,r,(-1),o);return a.b=n,a.e=a.xs0=i,a},xt=a.parseComplex=function(t,e,n,i,r,o,s,u,c,h){n=n||o||"","function"==typeof i&&(i=i(v,g)),s=new yt(t,e,0,0,s,h?2:1,null,(!1),u,n,i),i+="",r&&dt.test(i+n)&&(i=[n,i],a.colorStringFilter(i),n=i[0],i=i[1]);var f,p,d,m,x,b,w,T,M,E,S,A,P,R=n.split(", ").join(",").split(" "),C=i.split(", ").join(",").split(" "),L=R.length,O=l!==!1;for(i.indexOf(",")===-1&&n.indexOf(",")===-1||(R=R.join(" ").replace(I,", ").split(" "),C=C.join(" ").replace(I,", ").split(" "),L=R.length),L!==C.length&&(R=(o||"").split(" "),L=R.length),s.plugin=c,s.setRatio=h,dt.lastIndex=0,f=0;f<L;f++)if(m=R[f],x=C[f],T=parseFloat(m),T||0===T)s.appendXtra("",T,st(x,T),x.replace(_,""),O&&x.indexOf("px")!==-1,!0);else if(r&&dt.test(m))A=x.indexOf(")")+1,A=")"+(A?x.substr(A):""),P=x.indexOf("hsl")!==-1&&W,m=ft(m,P),x=ft(x,P),M=m.length+x.length>6,M&&!W&&0===x[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(C[f]).join("transparent")):(W||(M=!1),P?s.appendXtra(M?"hsla(":"hsl(",m[0],st(x[0],m[0]),",",!1,!0).appendXtra("",m[1],st(x[1],m[1]),"%,",!1).appendXtra("",m[2],st(x[2],m[2]),M?"%,":"%"+A,!1):s.appendXtra(M?"rgba(":"rgb(",m[0],x[0]-m[0],",",!0,!0).appendXtra("",m[1],x[1]-m[1],",",!0).appendXtra("",m[2],x[2]-m[2],M?",":A,!0),M&&(m=m.length<4?1:m[3],s.appendXtra("",m,(x.length<4?1:x[3])-m,A,!1))),dt.lastIndex=0;else if(b=m.match(y)){if(w=x.match(_),!w||w.length!==b.length)return s;for(d=0,p=0;p<b.length;p++)S=b[p],E=m.indexOf(S,d),s.appendXtra(m.substr(d,E-d),Number(S),st(w[p],S),"",O&&"px"===m.substr(E+S.length,2),0===p),d=E+S.length;s["xs"+s.l]+=m.substr(d)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+x:x;if(i.indexOf("=")!==-1&&s.data){for(A=s.xs0+s.data.s,f=1;f<s.l;f++)A+=s["xs"+f]+s.data["xn"+f];s.e=A+s["xs"+f]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},bt=9;for(c=yt.prototype,c.l=c.pr=0;--bt>0;)c["xn"+bt]=0,c["xs"+bt]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,n,i,r,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+t:t||"",n||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=i||"",s>0?(a.data["xn"+s]=e+n,a.rxp["xn"+s]=r,a["xn"+s]=e,a.plugin||(a.xfirst=new yt(a,"xn"+s,e,n,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+n},a.rxp={},a.s=e,a.c=n,a.r=r,a)):(a["xs"+s]+=e+(i||""),a)};var wt=function(t,e){e=e||{},this.p=e.prefix?$(t)||t:t,u[t]=u[this.p]=this,this.format=e.formatter||mt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Tt=H._registerComplexSpecialProp=function(t,e,n){"object"!=typeof e&&(e={parser:n});var i,r,o=t.split(","),a=e.defaultValue;for(n=n||[a],i=0;i<o.length;i++)e.prefix=0===i&&e.prefix,e.defaultValue=n[i]||a,r=new wt(o[i],e)},Mt=H._registerPluginProp=function(t){if(!u[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Tt(t,{parser:function(t,n,i,r,o,a,c){var l=s.com.greensock.plugins[e];return l?(l._cssRegister(),u[i].parse(t,n,i,r,o,a,c)):(q("Error: "+e+" js file not loaded."),o)}})}};c=wt.prototype,c.parseComplex=function(t,e,n,i,r,o){var a,s,u,c,l,h,f=this.keyword;if(this.multi&&(I.test(n)||I.test(e)?(s=e.replace(I,"|").split("|"),u=n.replace(I,"|").split("|")):f&&(s=[e],u=[n])),u){for(c=u.length>s.length?u.length:s.length,a=0;a<c;a++)e=s[a]=s[a]||this.dflt,n=u[a]=u[a]||this.dflt,f&&(l=e.indexOf(f),h=n.indexOf(f),l!==h&&(h===-1?s[a]=s[a].split(f).join(""):l===-1&&(s[a]+=" "+f)));e=s.join(", "),n=u.join(", ")}return xt(t,this.p,e,n,this.clrs,this.dflt,i,this.pr,r,o)},c.parse=function(t,e,n,i,o,a,s){return this.parseComplex(t.style,this.format(Q(t,this.p,r,!1,this.dflt)),this.format(e),o,a)},a.registerSpecialProp=function(t,e,n){Tt(t,{parser:function(t,i,r,o,a,s,u){var c=new yt(t,r,0,0,a,2,r,(!1),n);return c.plugin=s,c.setRatio=e(t,i,o._tween,r),c},priority:n})},a.useSVGTransformAttr=f||p;var Et,St="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),At=$("transform"),Pt=Y+"transform",Rt=$("transformOrigin"),Ct=null!==$("perspective"),Lt=H.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(a.defaultForce3D===!1||!Ct)&&(a.defaultForce3D||"auto")},Ot=window.SVGElement,Dt=function(t,e,n){var i,r=z.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(i in n)r.setAttributeNS(null,i.replace(o,"$1-$2").toLowerCase(),n[i]);return e.appendChild(r),r},It=z.documentElement,Nt=function(){var t,e,n,i=m||/Android/i.test(V)&&!window.chrome;return z.createElementNS&&!i&&(t=Dt("svg",It),e=Dt("rect",t,{width:100,height:50,x:100}),n=e.getBoundingClientRect().width,e.style[Rt]="50% 50%",e.style[At]="scaleX(0.5)",i=n===e.getBoundingClientRect().width&&!(p&&Ct),It.removeChild(t)),i}(),Ft=function(t,e,n,i,r,o){var s,u,c,l,h,f,p,d,m,g,v,y,_,x,b=t._gsTransform,w=Bt(t,!0);b&&(_=b.xOrigin,x=b.yOrigin),(!i||(s=i.split(" ")).length<2)&&(p=t.getBBox(),e=at(e).split(" "),s=[(e[0].indexOf("%")!==-1?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(e[1].indexOf("%")!==-1?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),n.xOrigin=l=parseFloat(s[0]),n.yOrigin=h=parseFloat(s[1]),i&&w!==zt&&(f=w[0],p=w[1],d=w[2],m=w[3],g=w[4],v=w[5],y=f*m-p*d,u=l*(m/y)+h*(-d/y)+(d*v-m*g)/y,c=l*(-p/y)+h*(f/y)-(f*v-p*g)/y,l=n.xOrigin=s[0]=u,h=n.yOrigin=s[1]=c),b&&(o&&(n.xOffset=b.xOffset,n.yOffset=b.yOffset,b=n),r||r!==!1&&a.defaultSmoothOrigin!==!1?(u=l-_,c=h-x,b.xOffset+=u*w[0]+c*w[2]-u,b.yOffset+=u*w[1]+c*w[3]-c):b.xOffset=b.yOffset=0),o||t.setAttribute("data-svg-origin",s.join(" "))},Ut=function(t){try{return t.getBBox()}catch(t){}},kt=function(t){return!!(Ot&&t.getBBox&&t.getCTM&&Ut(t)&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},zt=[1,0,0,1,0,0],Bt=function(t,e){var n,i,r,o,a,s,u=t._gsTransform||new Lt,c=1e5,l=t.style;if(At?i=Q(t,Pt,null,!0):t.currentStyle&&(i=t.currentStyle.filter.match(O),i=i&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),u.x||0,u.y||0].join(","):""),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,n&&At&&((s="none"===J(t).display)||!t.parentNode)&&(s&&(o=l.display,l.display="block"),t.parentNode||(a=1,It.appendChild(t)),i=Q(t,Pt,null,!0),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,o?l.display=o:s&&Wt(l,"display"),a&&It.removeChild(t)),(u.svg||t.getBBox&&kt(t))&&(n&&(l[At]+"").indexOf("matrix")!==-1&&(i=l[At],n=0),r=t.getAttribute("transform"),n&&r&&(r.indexOf("matrix")!==-1?(i=r,n=0):r.indexOf("translate")!==-1&&(i="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",n=0))),n)return zt;for(r=(i||"").match(y)||[],bt=r.length;--bt>-1;)o=Number(r[bt]),r[bt]=(a=o-(o|=0))?(a*c+(a<0?-.5:.5)|0)/c+o:o;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},jt=H.getTransform=function(t,n,i,r){if(t._gsTransform&&i&&!r)return t._gsTransform;var o,s,u,c,l,h,f=i?t._gsTransform||new Lt:new Lt,p=f.scaleX<0,d=2e-5,m=1e5,g=Ct?parseFloat(Q(t,Rt,n,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,v=parseFloat(a.defaultTransformPerspective)||0;if(f.svg=!(!t.getBBox||!kt(t)),f.svg&&(Ft(t,Q(t,Rt,n,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),Et=a.useSVGTransformAttr||Nt),o=Bt(t),o!==zt){if(16===o.length){var y,_,x,b,w,T=o[0],M=o[1],E=o[2],S=o[3],A=o[4],P=o[5],R=o[6],C=o[7],L=o[8],O=o[9],D=o[10],I=o[12],N=o[13],F=o[14],k=o[11],z=Math.atan2(R,D);f.zOrigin&&(F=-f.zOrigin,I=L*F-o[12],N=O*F-o[13],F=D*F+f.zOrigin-o[14]),f.rotationX=z*U,z&&(b=Math.cos(-z),w=Math.sin(-z),y=A*b+L*w,_=P*b+O*w,x=R*b+D*w,L=A*-w+L*b,O=P*-w+O*b,D=R*-w+D*b,k=C*-w+k*b,A=y,P=_,R=x),z=Math.atan2(-E,D),f.rotationY=z*U,z&&(b=Math.cos(-z),w=Math.sin(-z),y=T*b-L*w,_=M*b-O*w,x=E*b-D*w,O=M*w+O*b,D=E*w+D*b,k=S*w+k*b,T=y,M=_,E=x),z=Math.atan2(M,T),f.rotation=z*U,z&&(b=Math.cos(-z),w=Math.sin(-z),T=T*b+A*w,_=M*b+P*w,P=M*-w+P*b,R=E*-w+R*b,M=_),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),f.scaleX=(Math.sqrt(T*T+M*M)*m+.5|0)/m,f.scaleY=(Math.sqrt(P*P+O*O)*m+.5|0)/m,f.scaleZ=(Math.sqrt(R*R+D*D)*m+.5|0)/m,f.rotationX||f.rotationY?f.skewX=0:(f.skewX=A||P?Math.atan2(A,P)*U+f.rotation:f.skewX||0,Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(p?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180))),f.perspective=k?1/(k<0?-k:k):0,f.x=I,f.y=N,f.z=F,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*T-f.yOrigin*A),f.y-=f.yOrigin-(f.yOrigin*M-f.xOrigin*P))}else if(!Ct||r||!o.length||f.x!==o[4]||f.y!==o[5]||!f.rotationX&&!f.rotationY){var B=o.length>=6,j=B?o[0]:1,G=o[1]||0,H=o[2]||0,V=B?o[3]:1;f.x=o[4]||0,f.y=o[5]||0,u=Math.sqrt(j*j+G*G),c=Math.sqrt(V*V+H*H),l=j||G?Math.atan2(G,j)*U:f.rotation||0,h=H||V?Math.atan2(H,V)*U+l:f.skewX||0,Math.abs(h)>90&&Math.abs(h)<270&&(p?(u*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(c*=-1,h+=h<=0?180:-180)),f.scaleX=u,f.scaleY=c,f.rotation=l,f.skewX=h,Ct&&(f.rotationX=f.rotationY=f.z=0,f.perspective=v,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*j+f.yOrigin*H),f.y-=f.yOrigin-(f.xOrigin*G+f.yOrigin*V))}f.zOrigin=g;for(s in f)f[s]<d&&f[s]>-d&&(f[s]=0)}return i&&(t._gsTransform=f,f.svg&&(Et&&t.style[At]?e.delayedCall(.001,function(){Wt(t.style,At)}):!Et&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Gt=function(t){var e,n,i=this.data,r=-i.rotation*F,o=r+i.skewX*F,a=1e5,s=(Math.cos(r)*i.scaleX*a|0)/a,u=(Math.sin(r)*i.scaleX*a|0)/a,c=(Math.sin(o)*-i.scaleY*a|0)/a,l=(Math.cos(o)*i.scaleY*a|0)/a,h=this.t.style,f=this.t.currentStyle;if(f){n=u,u=-c,c=-n,e=f.filter,h.filter="";var p,d,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==f.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+u+", M21="+c+", M22="+l,x=i.x+g*i.xPercent/100,b=i.y+v*i.yPercent/100;if(null!=i.ox&&(p=(i.oxp?g*i.ox*.01:i.ox)-g/2,d=(i.oyp?v*i.oy*.01:i.oy)-v/2,x+=p-(p*s+d*u),b+=d-(p*c+d*l)),y?(p=g/2,d=v/2,_+=", Dx="+(p-(p*s+d*u)+x)+", Dy="+(d-(p*c+d*l)+b)+")"):_+=", sizingMethod='auto expand')",e.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?h.filter=e.replace(D,_):h.filter=_+" "+e,0!==t&&1!==t||1===s&&0===u&&0===c&&1===l&&(y&&_.indexOf("Dx=0, Dy=0")===-1||T.test(e)&&100!==parseFloat(RegExp.$1)||e.indexOf(e.indexOf("Alpha"))===-1&&h.removeAttribute("filter")),!y){var M,E,S,A=m<8?1:-1;for(p=i.ieOffsetX||0,d=i.ieOffsetY||0,i.ieOffsetX=Math.round((g-((s<0?-s:s)*g+(u<0?-u:u)*v))/2+x),i.ieOffsetY=Math.round((v-((l<0?-l:l)*v+(c<0?-c:c)*g))/2+b),bt=0;bt<4;bt++)E=rt[bt],M=f[E],n=M.indexOf("px")!==-1?parseFloat(M):K(this.t,E,parseFloat(M),M.replace(w,""))||0,S=n!==i[E]?bt<2?-i.ieOffsetX:-i.ieOffsetY:bt<2?p-i.ieOffsetX:d-i.ieOffsetY,h[E]=(i[E]=Math.round(n-S*(0===bt||2===bt?1:A)))+"px"}}},Ht=H.set3DTransformRatio=H.setTransformRatio=function(t){var e,n,i,r,o,a,s,u,c,l,h,f,d,m,g,v,y,_,x,b,w,T,M,E=this.data,S=this.t.style,A=E.rotation,P=E.rotationX,R=E.rotationY,C=E.scaleX,L=E.scaleY,O=E.scaleZ,D=E.x,I=E.y,N=E.z,U=E.svg,k=E.perspective,z=E.force3D;if(((1===t||0===t)&&"auto"===z&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!z)&&!N&&!k&&!R&&!P&&1===O||Et&&U||!Ct)return void(A||E.skewX||U?(A*=F,T=E.skewX*F,M=1e5,e=Math.cos(A)*C,r=Math.sin(A)*C,n=Math.sin(A-T)*-L,o=Math.cos(A-T)*L,T&&"simple"===E.skewType&&(y=Math.tan(T-E.skewY*F),y=Math.sqrt(1+y*y),n*=y,o*=y,E.skewY&&(y=Math.tan(E.skewY*F),y=Math.sqrt(1+y*y),e*=y,r*=y)),U&&(D+=E.xOrigin-(E.xOrigin*e+E.yOrigin*n)+E.xOffset,I+=E.yOrigin-(E.xOrigin*r+E.yOrigin*o)+E.yOffset,Et&&(E.xPercent||E.yPercent)&&(m=this.t.getBBox(),D+=.01*E.xPercent*m.width,I+=.01*E.yPercent*m.height),m=1e-6,D<m&&D>-m&&(D=0),I<m&&I>-m&&(I=0)),x=(e*M|0)/M+","+(r*M|0)/M+","+(n*M|0)/M+","+(o*M|0)/M+","+D+","+I+")",U&&Et?this.t.setAttribute("transform","matrix("+x):S[At]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+x):S[At]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+C+",0,0,"+L+","+D+","+I+")");if(p&&(m=1e-4,C<m&&C>-m&&(C=O=2e-5),L<m&&L>-m&&(L=O=2e-5),!k||E.z||E.rotationX||E.rotationY||(k=0)),A||E.skewX)A*=F,g=e=Math.cos(A),v=r=Math.sin(A),E.skewX&&(A-=E.skewX*F,g=Math.cos(A),v=Math.sin(A),"simple"===E.skewType&&(y=Math.tan((E.skewX-E.skewY)*F),y=Math.sqrt(1+y*y),g*=y,v*=y,E.skewY&&(y=Math.tan(E.skewY*F),y=Math.sqrt(1+y*y),e*=y,r*=y))),n=-v,o=g;else{if(!(R||P||1!==O||k||U))return void(S[At]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+D+"px,"+I+"px,"+N+"px)"+(1!==C||1!==L?" scale("+C+","+L+")":""));e=o=1,n=r=0}c=1,i=a=s=u=l=h=0,f=k?-1/k:0,d=E.zOrigin,m=1e-6,b=",",w="0",A=R*F,A&&(g=Math.cos(A),v=Math.sin(A),s=-v,l=f*-v,i=e*v,a=r*v,c=g,f*=g,e*=g,r*=g),A=P*F,A&&(g=Math.cos(A),v=Math.sin(A),y=n*g+i*v,_=o*g+a*v,u=c*v,h=f*v,i=n*-v+i*g,a=o*-v+a*g,c*=g,f*=g,n=y,o=_),1!==O&&(i*=O,a*=O,c*=O,f*=O),1!==L&&(n*=L,o*=L,u*=L,h*=L),1!==C&&(e*=C,r*=C,s*=C,l*=C),(d||U)&&(d&&(D+=i*-d,I+=a*-d,N+=c*-d+d),U&&(D+=E.xOrigin-(E.xOrigin*e+E.yOrigin*n)+E.xOffset,I+=E.yOrigin-(E.xOrigin*r+E.yOrigin*o)+E.yOffset),D<m&&D>-m&&(D=w),I<m&&I>-m&&(I=w),N<m&&N>-m&&(N=0)),x=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",x+=(e<m&&e>-m?w:e)+b+(r<m&&r>-m?w:r)+b+(s<m&&s>-m?w:s),x+=b+(l<m&&l>-m?w:l)+b+(n<m&&n>-m?w:n)+b+(o<m&&o>-m?w:o),P||R||1!==O?(x+=b+(u<m&&u>-m?w:u)+b+(h<m&&h>-m?w:h)+b+(i<m&&i>-m?w:i),x+=b+(a<m&&a>-m?w:a)+b+(c<m&&c>-m?w:c)+b+(f<m&&f>-m?w:f)+b):x+=",0,0,0,0,1,0,",x+=D+b+I+b+N+b+(k?1+-N/k:1)+")",S[At]=x};c=Lt.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Tt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,n,i,o,s,u){if(i._lastParsedTransform===u)return o;i._lastParsedTransform=u;var c;"function"==typeof u[n]&&(c=u[n],u[n]=e);var l,h,f,p,d,m,y,_,x,b=t._gsTransform,w=t.style,T=1e-6,M=St.length,E=u,S={},A="transformOrigin",P=jt(t,r,!0,E.parseTransform),R=E.transform&&("function"==typeof E.transform?E.transform(v,g):E.transform);
if(i._transform=P,R&&"string"==typeof R&&At)h=j.style,h[At]=R,h.display="block",h.position="absolute",z.body.appendChild(j),l=jt(j,null,!1),P.svg&&(m=P.xOrigin,y=P.yOrigin,l.x-=P.xOffset,l.y-=P.yOffset,(E.transformOrigin||E.svgOrigin)&&(R={},Ft(t,at(E.transformOrigin),R,E.svgOrigin,E.smoothOrigin,!0),m=R.xOrigin,y=R.yOrigin,l.x-=R.xOffset-P.xOffset,l.y-=R.yOffset-P.yOffset),(m||y)&&(_=Bt(j,!0),l.x-=m-(m*_[0]+y*_[2]),l.y-=y-(m*_[1]+y*_[3]))),z.body.removeChild(j),l.perspective||(l.perspective=P.perspective),null!=E.xPercent&&(l.xPercent=ut(E.xPercent,P.xPercent)),null!=E.yPercent&&(l.yPercent=ut(E.yPercent,P.yPercent));else if("object"==typeof E){if(l={scaleX:ut(null!=E.scaleX?E.scaleX:E.scale,P.scaleX),scaleY:ut(null!=E.scaleY?E.scaleY:E.scale,P.scaleY),scaleZ:ut(E.scaleZ,P.scaleZ),x:ut(E.x,P.x),y:ut(E.y,P.y),z:ut(E.z,P.z),xPercent:ut(E.xPercent,P.xPercent),yPercent:ut(E.yPercent,P.yPercent),perspective:ut(E.transformPerspective,P.perspective)},d=E.directionalRotation,null!=d)if("object"==typeof d)for(h in d)E[h]=d[h];else E.rotation=d;"string"==typeof E.x&&E.x.indexOf("%")!==-1&&(l.x=0,l.xPercent=ut(E.x,P.xPercent)),"string"==typeof E.y&&E.y.indexOf("%")!==-1&&(l.y=0,l.yPercent=ut(E.y,P.yPercent)),l.rotation=ct("rotation"in E?E.rotation:"shortRotation"in E?E.shortRotation+"_short":"rotationZ"in E?E.rotationZ:P.rotation-P.skewY,P.rotation-P.skewY,"rotation",S),Ct&&(l.rotationX=ct("rotationX"in E?E.rotationX:"shortRotationX"in E?E.shortRotationX+"_short":P.rotationX||0,P.rotationX,"rotationX",S),l.rotationY=ct("rotationY"in E?E.rotationY:"shortRotationY"in E?E.shortRotationY+"_short":P.rotationY||0,P.rotationY,"rotationY",S)),l.skewX=ct(E.skewX,P.skewX-P.skewY),(l.skewY=ct(E.skewY,P.skewY))&&(l.skewX+=l.skewY,l.rotation+=l.skewY)}for(Ct&&null!=E.force3D&&(P.force3D=E.force3D,p=!0),P.skewType=E.skewType||P.skewType||a.defaultSkewType,f=P.force3D||P.z||P.rotationX||P.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,f||null==E.scale||(l.scaleZ=1);--M>-1;)x=St[M],R=l[x]-P[x],(R>T||R<-T||null!=E[x]||null!=k[x])&&(p=!0,o=new yt(P,x,P[x],R,o),x in S&&(o.e=S[x]),o.xs0=0,o.plugin=s,i._overwriteProps.push(o.n));return R=E.transformOrigin,P.svg&&(R||E.svgOrigin)&&(m=P.xOffset,y=P.yOffset,Ft(t,at(R),l,E.svgOrigin,E.smoothOrigin),o=_t(P,"xOrigin",(b?P:l).xOrigin,l.xOrigin,o,A),o=_t(P,"yOrigin",(b?P:l).yOrigin,l.yOrigin,o,A),m===P.xOffset&&y===P.yOffset||(o=_t(P,"xOffset",b?m:P.xOffset,P.xOffset,o,A),o=_t(P,"yOffset",b?y:P.yOffset,P.yOffset,o,A)),R=Et?null:"0px 0px"),(R||Ct&&f&&P.zOrigin)&&(At?(p=!0,x=Rt,R=(R||Q(t,x,r,!1,"50% 50%"))+"",o=new yt(w,x,0,0,o,(-1),A),o.b=w[x],o.plugin=s,Ct?(h=P.zOrigin,R=R.split(" "),P.zOrigin=(R.length>2&&(0===h||"0px"!==R[2])?parseFloat(R[2]):h)||0,o.xs0=o.e=R[0]+" "+(R[1]||"50%")+" 0px",o=new yt(P,"zOrigin",0,0,o,(-1),o.n),o.b=h,o.xs0=o.e=P.zOrigin):o.xs0=o.e=R):at(R+"",P)),p&&(i._transformType=P.svg&&Et||!f&&3!==this._transformType?2:3),c&&(u[n]=c),o},prefix:!0}),Tt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Tt("borderRadius",{defaultValue:"0px",parser:function(t,e,n,o,a,s){e=this.format(e);var u,c,l,h,f,p,d,m,g,v,y,_,x,b,w,T,M=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=t.style;for(g=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),u=e.split(" "),c=0;c<M.length;c++)this.p.indexOf("border")&&(M[c]=$(M[c])),f=h=Q(t,M[c],r,!1,"0px"),f.indexOf(" ")!==-1&&(h=f.split(" "),f=h[0],h=h[1]),p=l=u[c],d=parseFloat(f),_=f.substr((d+"").length),x="="===p.charAt(1),x?(m=parseInt(p.charAt(0)+"1",10),p=p.substr(2),m*=parseFloat(p),y=p.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(p),y=p.substr((m+"").length)),""===y&&(y=i[n]||_),y!==_&&(b=K(t,"borderLeft",d,_),w=K(t,"borderTop",d,_),"%"===y?(f=b/g*100+"%",h=w/v*100+"%"):"em"===y?(T=K(t,"borderLeft",1,"em"),f=b/T+"em",h=w/T+"em"):(f=b+"px",h=w+"px"),x&&(p=parseFloat(f)+m+y,l=parseFloat(h)+m+y)),a=xt(E,M[c],f+" "+h,p+" "+l,!1,"0px",a);return a},prefix:!0,formatter:mt("0px 0px 0px 0px",!1,!0)}),Tt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,n,i,o,a){return xt(t.style,n,this.format(Q(t,n,r,!1,"0px 0px")),this.format(e),!1,"0px",o)},prefix:!0,formatter:mt("0px 0px",!1,!0)}),Tt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,n,i,o,a){var s,u,c,l,h,f,p="background-position",d=r||J(t,null),g=this.format((d?m?d.getPropertyValue(p+"-x")+" "+d.getPropertyValue(p+"-y"):d.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(g.indexOf("%")!==-1!=(v.indexOf("%")!==-1)&&v.split(",").length<2&&(f=Q(t,"backgroundImage").replace(R,""),f&&"none"!==f)){for(s=g.split(" "),u=v.split(" "),G.setAttribute("src",f),c=2;--c>-1;)g=s[c],l=g.indexOf("%")!==-1,l!==(u[c].indexOf("%")!==-1)&&(h=0===c?t.offsetWidth-G.width:t.offsetHeight-G.height,s[c]=l?parseFloat(g)/100*h+"px":parseFloat(g)/h*100+"%");g=s.join(" ")}return this.parseComplex(t.style,g,v,o,a)},formatter:at}),Tt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",at(t.indexOf(" ")===-1?t+" "+t:t)}}),Tt("perspective",{defaultValue:"0px",prefix:!0}),Tt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Tt("transformStyle",{prefix:!0}),Tt("backfaceVisibility",{prefix:!0}),Tt("userSelect",{prefix:!0}),Tt("margin",{parser:gt("marginTop,marginRight,marginBottom,marginLeft")}),Tt("padding",{parser:gt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Tt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,n,i,o,a){var s,u,c;return m<9?(u=t.currentStyle,c=m<8?" ":",",s="rect("+u.clipTop+c+u.clipRight+c+u.clipBottom+c+u.clipLeft+")",e=this.format(e).split(",").join(c)):(s=this.format(Q(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,o,a)}}),Tt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Tt("autoRound,strictUnits",{parser:function(t,e,n,i,r){return r}}),Tt("border",{defaultValue:"0px solid #000",parser:function(t,e,n,i,o,a){var s=Q(t,"borderTopWidth",r,!1,"0px"),u=this.format(e).split(" "),c=u[0].replace(w,"");return"px"!==c&&(s=parseFloat(s)/K(t,"borderTopWidth",1,c)+c),this.parseComplex(t.style,this.format(s+" "+Q(t,"borderTopStyle",r,!1,"solid")+" "+Q(t,"borderTopColor",r,!1,"#000")),u.join(" "),o,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(dt)||["#000"])[0]}}),Tt("borderWidth",{parser:gt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Tt("float,cssFloat,styleFloat",{parser:function(t,e,n,i,r,o){var a=t.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new yt(a,s,0,0,r,(-1),n,(!1),0,a[s],e)}});var Vt=function(t){var e,n=this.t,i=n.filter||Q(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(i.indexOf("atrix(")===-1&&i.indexOf("radient(")===-1&&i.indexOf("oader(")===-1?(n.removeAttribute("filter"),e=!Q(this.data,"filter")):(n.filter=i.replace(E,""),e=!0)),e||(this.xn1&&(n.filter=i=i||"alpha(opacity="+r+")"),i.indexOf("pacity")===-1?0===r&&this.xn1||(n.filter=i+" alpha(opacity="+r+")"):n.filter=i.replace(T,"opacity="+r))};Tt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,n,i,o,a){var s=parseFloat(Q(t,"opacity",r,!1,"1")),u=t.style,c="autoAlpha"===n;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),c&&1===s&&"hidden"===Q(t,"visibility",r)&&0!==e&&(s=0),W?o=new yt(u,"opacity",s,e-s,o):(o=new yt(u,"opacity",100*s,100*(e-s),o),o.xn1=c?1:0,u.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=a,o.setRatio=Vt),c&&(o=new yt(u,"visibility",0,0,o,(-1),null,(!1),0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit"),o.xs0="inherit",i._overwriteProps.push(o.n),i._overwriteProps.push(n)),o}});var Wt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(A,"-$1").toLowerCase())):t.removeAttribute(e))},Xt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,n=this.t.style;e;)e.v?n[e.p]=e.v:Wt(n,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Tt("className",{parser:function(t,e,i,o,a,s,u){var c,l,h,f,p,d=t.getAttribute("class")||"",m=t.style.cssText;if(a=o._classNamePT=new yt(t,i,0,0,a,2),a.setRatio=Xt,a.pr=-11,n=!0,a.b=d,l=et(t,r),h=t._gsClassPT){for(f={},p=h.data;p;)f[p.p]=1,p=p._next;h.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:d.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),c=nt(t,l,et(t),u,f),t.setAttribute("class",d),a.data=c.firstMPT,t.style.cssText=m,a=a.xfirst=o.parse(t,c.difs,a,s)}});var qt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,n,i,r,o,a=this.t.style,s=u.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),i=e.length;--i>-1;)n=e[i],u[n]&&(u[n].parse===s?r=!0:n="transformOrigin"===n?Rt:u[n].p),Wt(a,n);r&&(Wt(a,At),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Tt("clearProps",{parser:function(t,e,i,r,o){return o=new yt(t,i,0,0,o,2),o.setRatio=qt,o.e=e,o.pr=-10,o.data=r._tween,n=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),bt=c.length;bt--;)Mt(c[bt]);c=a.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,s,c){if(!t.nodeType)return!1;this._target=g=t,this._tween=s,this._vars=e,v=c,l=e.autoRound,n=!1,i=e.suffixMap||a.suffixMap,r=J(t,""),o=this._overwriteProps;var p,m,y,_,x,b,w,T,E,S=t.style;if(h&&""===S.zIndex&&(p=Q(t,"zIndex",r),"auto"!==p&&""!==p||this._addLazySet(S,"zIndex",0)),"string"==typeof e&&(_=S.cssText,p=et(t,r),S.cssText=_+";"+e,p=nt(t,p,et(t)).difs,!W&&M.test(e)&&(p.opacity=parseFloat(RegExp.$1)),e=p,S.cssText=_),e.className?this._firstPT=m=u.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=m=this.parse(t,e,null),this._transformType){for(E=3===this._transformType,At?f&&(h=!0,""===S.zIndex&&(w=Q(t,"zIndex",r),"auto"!==w&&""!==w||this._addLazySet(S,"zIndex",0)),d&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(E?"visible":"hidden"))):S.zoom=1,y=m;y&&y._next;)y=y._next;T=new yt(t,"transform",0,0,null,2),this._linkCSSP(T,null,y),T.setRatio=At?Ht:Gt,T.data=this._transform||jt(t,r,!0),T.tween=s,T.pr=-1,o.pop()}if(n){for(;m;){for(b=m._next,y=_;y&&y.pr>m.pr;)y=y._next;(m._prev=y?y._prev:x)?m._prev._next=m:_=m,(m._next=y)?y._prev=m:x=m,m=b}this._firstPT=_}return!0},c.parse=function(t,e,n,o){var a,s,c,h,f,p,d,m,y,_,x=t.style;for(a in e)p=e[a],"function"==typeof p&&(p=p(v,g)),s=u[a],s?n=s.parse(t,p,a,this,n,o,e):(f=Q(t,a,r)+"",y="string"==typeof p,"color"===a||"fill"===a||"stroke"===a||a.indexOf("Color")!==-1||y&&S.test(p)?(y||(p=ft(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),n=xt(x,a,f,p,!0,"transparent",n,0,o)):y&&N.test(p)?n=xt(x,a,f,p,!0,null,n,0,o):(c=parseFloat(f),d=c||0===c?f.substr((c+"").length):"",""!==f&&"auto"!==f||("width"===a||"height"===a?(c=ot(t,a,r),d="px"):"left"===a||"top"===a?(c=tt(t,a,r),d="px"):(c="opacity"!==a?0:1,d="")),_=y&&"="===p.charAt(1),_?(h=parseInt(p.charAt(0)+"1",10),p=p.substr(2),h*=parseFloat(p),m=p.replace(w,"")):(h=parseFloat(p),m=y?p.replace(w,""):""),""===m&&(m=a in i?i[a]:d),p=h||0===h?(_?h+c:h)+m:e[a],d!==m&&""!==m&&(h||0===h)&&c&&(c=K(t,a,c,d),"%"===m?(c/=K(t,a,100,"%")/100,e.strictUnits!==!0&&(f=c+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?c/=K(t,a,1,m):"px"!==m&&(h=K(t,a,h,m),m="px"),_&&(h||0===h)&&(p=h+c+m)),_&&(h+=c),!c&&0!==c||!h&&0!==h?void 0!==x[a]&&(p||p+""!="NaN"&&null!=p)?(n=new yt(x,a,h||c||0,0,n,(-1),a,(!1),0,f,p),n.xs0="none"!==p||"display"!==a&&a.indexOf("Style")===-1?p:f):q("invalid "+a+" tween value: "+e[a]):(n=new yt(x,a,c,h-c,n,0,a,l!==!1&&("px"===m||"zIndex"===a),0,f,p),n.xs0=m))),o&&n&&!n.plugin&&(n.plugin=o);return n},c.setRatio=function(t){var e,n,i,r=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):e<o&&e>-o&&(e=0),r.type)if(1===r.type)if(i=r.l,2===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(n=r.xs0+e+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}else r.type===-1?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&r.type!==-1)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(i=r.l,n=r.xs0+e+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},c._enableTransforms=function(t){this._transform=this._transform||jt(this._target,r,!0),this._transformType=this._transform.svg&&Et||!t&&3!==this._transformType?2:3};var Yt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,n){var i=this._firstPT=new yt(t,e,0,0,this._firstPT,2);i.e=n,i.setRatio=Yt,i.data=this},c._linkCSSP=function(t,e,n,i){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,i=!0),n?n._next=t:i||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=n),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},c._kill=function(e){var n,i,r,o=e;if(e.autoAlpha||e.alpha){o={};for(i in e)o[i]=e[i];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(e.className&&(n=this._classNamePT)&&(r=n.xfirst,r&&r._prev?this._linkCSSP(r._prev,n._next,r._prev._prev):r===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,r._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==i&&n.plugin._kill&&(n.plugin._kill(e),i=n.plugin),n=n._next;return t.prototype._kill.call(this,o)};var Zt=function(t,e,n){var i,r,o,a;if(t.slice)for(r=t.length;--r>-1;)Zt(t[r],e,n);else for(i=t.childNodes,r=i.length;--r>-1;)o=i[r],a=o.type,o.style&&(e.push(et(o)),n&&n.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Zt(o,e,n)};return a.cascadeTo=function(t,n,i){var r,o,a,s,u=e.to(t,n,i),c=[u],l=[],h=[],f=[],p=e._internals.reservedProps;for(t=u._targets||u.target,Zt(t,l,f),u.render(n,!0,!0),Zt(t,h),u.render(0,!0,!0),u._enabled(!0),r=f.length;--r>-1;)if(o=nt(f[r],l[r],h[r]),o.firstMPT){o=o.difs;for(a in i)p[a]&&(o[a]=i[a]);s={};for(a in o)s[a]=l[r][a];c.push(e.fromTo(f[r],n,s,o))}return c},t.activate([a]),a},!0),function(){var t=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,n){return this._tween=n,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},n=t.prototype;n._onInitAllProps=function(){for(var t,n,i,r=this._tween,o=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),a=o.length,s={},u=r._propLookup.roundProps;--a>-1;)s[o[a]]=Math.round;for(a=o.length;--a>-1;)for(t=o[a],n=r._firstPT;n;)i=n._next,n.pg?n.t._mod(s):n.n===t&&(2===n.f&&n.t?e(n.t._firstPT):(this._add(n.t,t,n.s,n.c),i&&(i._prev=n._prev),n._prev?n._prev._next=i:r._firstPT===n&&(r._firstPT=i),n._next=n._prev=null,r._propLookup[t]=u)),n=i;return!1},n._add=function(t,e,n,i){this._addTween(t,e,n,n+i,e,Math.round),this._overwriteProps.push(e)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(t,e,n,i){var r,o;if("function"!=typeof t.setAttribute)return!1;for(r in e)o=e[r],"function"==typeof o&&(o=o(i,t)),this._addTween(t,"setAttribute",t.getAttribute(r)+"",o+"",r,!1,r),this._overwriteProps.push(r);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(t,e,n,i){"object"!=typeof e&&(e={rotation:e}),this.finals={};var r,o,a,s,u,c,l=e.useRadians===!0?2*Math.PI:360,h=1e-6;for(r in e)"useRadians"!==r&&(s=e[r],"function"==typeof s&&(s=s(i,t)),c=(s+"").split("_"),o=c[0],a=parseFloat("function"!=typeof t[r]?t[r]:t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),s=this.finals[r]="string"==typeof o&&"="===o.charAt(1)?a+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0,u=s-a,c.length&&(o=c.join("_"),o.indexOf("short")!==-1&&(u%=l,u!==u%(l/2)&&(u=u<0?u+l:u-l)),o.indexOf("_cw")!==-1&&u<0?u=(u+9999999999*l)%l-(u/l|0)*l:o.indexOf("ccw")!==-1&&u>0&&(u=(u-9999999999*l)%l-(u/l|0)*l)),(u>h||u<-h)&&(this._addTween(t,r,a,a+u,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,n,i,r=_gsScope.GreenSockGlobals||_gsScope,o=r.com.greensock,a=2*Math.PI,s=Math.PI/2,u=o._class,c=function(e,n){var i=u("easing."+e,function(){},!0),r=i.prototype=new t;return r.constructor=i,r.getRatio=n,i},l=t.register||function(){},h=function(t,e,n,i,r){var o=u("easing."+t,{easeOut:new e,easeIn:new n,easeInOut:new i},!0);return l(o,t),o},f=function(t,e,n){this.t=t,this.v=e,n&&(this.next=n,n.prev=this,this.c=n.v-e,this.gap=n.t-t)},p=function(e,n){var i=u("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=i.prototype=new t;return r.constructor=i,r.getRatio=n,r.config=function(t){return new i(t)},i},d=h("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=u("easing.SlowMo",function(t,e,n){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),g=m.prototype=new t;return g.constructor=m,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),g.config=m.config=function(t,e,n){return new m(t,e,n)},e=u("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),g=e.prototype=new t,g.constructor=e,g.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},g.config=e.config=function(t){return new e(t)},n=u("easing.RoughEase",function(e){e=e||{};for(var n,i,r,o,a,s,u=e.taper||"none",c=[],l=0,h=0|(e.points||20),p=h,d=e.randomize!==!1,m=e.clamp===!0,g=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)n=d?Math.random():1/h*p,i=g?g.getRatio(n):n,"none"===u?r=v:"out"===u?(o=1-n,r=o*o*v):"in"===u?r=n*n*v:n<.5?(o=2*n,r=o*o*.5*v):(o=2*(1-n),r=o*o*.5*v),d?i+=Math.random()*r-.5*r:p%2?i+=.5*r:i-=.5*r,m&&(i>1?i=1:i<0&&(i=0)),c[l++]={x:n,y:i};for(c.sort(function(t,e){return t.x-e.x}),s=new f(1,1,null),p=h;--p>-1;)a=c[p],s=new f(a.x,a.y,s);this._prev=new f(0,0,0!==s.t?s:s.next)},!0),g=n.prototype=new t,g.constructor=n,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new n(t)},n.ease=new n,h("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t=t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),h("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),i=function(e,n,i){var r=u("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||i)/(t<1?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),o=r.prototype=new t;return o.constructor=r,o.getRatio=n,o.config=function(t,e){return new r(t,e)},r},h("Elastic",i("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),i("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),i("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),h("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),h("Sine",c("SineOut",function(t){return Math.sin(t*s)}),c("SineIn",function(t){return-Math.cos(t*s)+1}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),u("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),l(r.SlowMo,"SlowMo","ease,"),l(n,"RoughEase","ease,"),l(e,"SteppedEase","ease,"),d},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t,e){"use strict";var n={},i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var r,o,a,s,u,c=function(t){var e,n=t.split("."),r=i;for(e=0;e<n.length;e++)r[n[e]]=r=r[n[e]]||{};return r},l=c("com.greensock"),h=1e-10,f=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},p=function(){},d=function(){var t=Object.prototype.toString,e=t.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&t.call(n)===e)}}(),m={},g=function(r,o,a,s){this.sc=m[r]?m[r].sc:[],m[r]=this,this.gsClass=null,this.func=a;var u=[];this.check=function(l){for(var h,f,p,d,v,y=o.length,_=y;--y>-1;)(h=m[o[y]]||new g(o[y],[])).gsClass?(u[y]=h.gsClass,_--):l&&h.sc.push(this);if(0===_&&a){if(f=("com.greensock."+r).split("."),p=f.pop(),d=c(f.join("."))[p]=this.gsClass=a.apply(a,u),s)if(i[p]=n[p]=d,v="undefined"!=typeof module&&module.exports,!v&&"function"==typeof define&&define.amd)define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return d});else if(v)if(r===e){module.exports=n[e]=d;for(y in n)d[y]=n[y]}else n[e]&&(n[e][p]=d);for(y=0;y<this.sc.length;y++)this.sc[y].check()}},this.check(!0)},v=t._gsDefine=function(t,e,n,i){return new g(t,e,n,i)},y=l._class=function(t,e,n){return e=e||function(){},v(t,[],function(){return e},n),e};v.globals=i;var _=[0,0,1,1],x=y("easing.Ease",function(t,e,n,i){this._func=t,this._type=n||0,this._power=i||0,this._params=e?_.concat(e):_},!0),b=x.map={},w=x.register=function(t,e,n,i){for(var r,o,a,s,u=e.split(","),c=u.length,h=(n||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(o=u[c],r=i?y("easing."+o,null,!0):l.easing[o]||{},a=h.length;--a>-1;)s=h[a],b[o+"."+s]=b[s+o]=r[s]=t.getRatio?t:t[s]||new t};for(a=x.prototype,a._calcEnd=!1,a.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,n=this._power,i=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i),1===e?1-i:2===e?i:t<.5?i/2:1-i/2},r=["Linear","Quad","Cubic","Quart","Quint,Strong"],o=r.length;--o>-1;)a=r[o]+",Power"+o,w(new x(null,null,1,o),a,"easeOut",!0),w(new x(null,null,2,o),a,"easeIn"+(0===o?",easeNone":"")),w(new x(null,null,3,o),a,"easeInOut");b.linear=l.easing.Linear.easeIn,b.swing=l.easing.Quad.easeInOut;var T=y("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});a=T.prototype,a.addEventListener=function(t,e,n,i,r){r=r||0;var o,a,c=this._listeners[t],l=0;for(this!==s||u||s.wake(),null==c&&(this._listeners[t]=c=[]),a=c.length;--a>-1;)o=c[a],o.c===e&&o.s===n?c.splice(a,1):0===l&&o.pr<r&&(l=a+1);c.splice(l,0,{c:e,s:n,up:i,pr:r})},a.removeEventListener=function(t,e){var n,i=this._listeners[t];if(i)for(n=i.length;--n>-1;)if(i[n].c===e)return void i.splice(n,1)},a.dispatchEvent=function(t){var e,n,i,r=this._listeners[t];if(r)for(e=r.length,e>1&&(r=r.slice(0)),n=this._eventTarget;--e>-1;)i=r[e],i&&(i.up?i.c.call(i.s||n,{type:t,target:n}):i.c.call(i.s||n))};var M=t.requestAnimationFrame,E=t.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},A=S();for(r=["ms","moz","webkit","o"],o=r.length;--o>-1&&!M;)M=t[r[o]+"RequestAnimationFrame"],E=t[r[o]+"CancelAnimationFrame"]||t[r[o]+"CancelRequestAnimationFrame"];y("Ticker",function(t,e){var n,i,r,o,a,c=this,l=S(),f=!(e===!1||!M)&&"auto",d=500,m=33,g="tick",v=function(t){var e,s,u=S()-A;u>d&&(l+=u-m),A+=u,c.time=(A-l)/1e3,e=c.time-a,(!n||e>0||t===!0)&&(c.frame++,a+=e+(e>=o?.004:o-e),s=!0),t!==!0&&(r=i(v)),s&&c.dispatchEvent(g)};T.call(c),c.time=c.frame=0,c.tick=function(){v(!0)},c.lagSmoothing=function(t,e){d=t||1/h,m=Math.min(e,d,0)},c.sleep=function(){null!=r&&(f&&E?E(r):clearTimeout(r),i=p,r=null,c===s&&(u=!1))},c.wake=function(t){null!==r?c.sleep():t?l+=-A+(A=S()):c.frame>10&&(A=S()-d+5),i=0===n?p:f&&M?M:function(t){return setTimeout(t,1e3*(a-c.time)+1|0)},c===s&&(u=!0),v(2)},c.fps=function(t){return arguments.length?(n=t,o=1/(n||60),a=this.time+o,void c.wake()):n},c.useRAF=function(t){return arguments.length?(c.sleep(),f=t,void c.fps(n)):f},c.fps(t),setTimeout(function(){"auto"===f&&c.frame<5&&"hidden"!==document.visibilityState&&c.useRAF(!1)},1500)}),a=l.Ticker.prototype=new l.events.EventDispatcher,a.constructor=l.Ticker;var P=y("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,q){u||s.wake();var n=this.vars.useFrames?X:q;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});s=P.ticker=new l.Ticker,a=P.prototype,a._dirty=a._gc=a._initted=a._paused=!1,a._totalTime=a._time=0,a._rawPrevTime=-1,a._next=a._last=a._onUpdate=a._timeline=a.timeline=null,a._paused=!1;var R=function(){u&&S()-A>2e3&&s.wake(),setTimeout(R,2e3)};R(),a.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},a.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},a.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},a.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},a.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},a.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},a.render=function(t,e,n){},a.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},a.isActive=function(){var t,e=this._timeline,n=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=n&&t<n+this.totalDuration()/this._timeScale},a._enabled=function(t,e){return u||s.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},a._kill=function(t,e){return this._enabled(!1,!1)},a.kill=function(t,e){return this._kill(t,e),this},a._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},a._swapSelfInParams=function(t){for(var e=t.length,n=t.concat();--e>-1;)"{self}"===t[e]&&(n[e]=this);return n},a._callback=function(t){var e=this.vars,n=e[t],i=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this,o=i?i.length:0;switch(o){case 0:n.call(r);break;case 1:n.call(r,i[0]);break;case 2:n.call(r,i[0],i[1]);break;default:n.apply(r,i)}},a.eventCallback=function(t,e,n,i){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=d(n)&&n.join("").indexOf("{self}")!==-1?this._swapSelfInParams(n):n,r[t+"Scope"]=i),"onUpdate"===t&&(this._onUpdate=e)}return this},a.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},a.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},a.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},a.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},a.totalTime=function(t,e,n){if(u||s.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!n&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,r=this._timeline;if(t>i&&!n&&(t=i),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?i-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(I.length&&Z(),this.render(t,e,!1),I.length&&Z())}return this},a.progress=a.totalProgress=function(t,e){var n=this.duration();return arguments.length?this.totalTime(n*t,e):n?this._time/n:this.ratio},a.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},a.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},a.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||h,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,n=e||0===e?e:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},a.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},a.paused=function(t){if(!arguments.length)return this._paused;var e,n,i=this._timeline;return t!=this._paused&&i&&(u||t||s.wake(),e=i.rawTime(),n=e-this._pauseTime,!t&&i.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&(e=i.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var C=y("core.SimpleTimeline",function(t){P.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});a=C.prototype=new P,a.constructor=C,a.kill()._gc=!1,a._first=a._last=a._recent=null,a._sortChildren=!1,a.add=a.insert=function(t,e,n,i){var r,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(o=t._startTime;r&&r._startTime>o;)r=r._prev;
return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},a._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},a.render=function(t,e,n){var i,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)i=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)),r=i},a.rawTime=function(){return u||s.wake(),this._totalTime};var L=y("TweenLite",function(e,n,i){if(P.call(this,n,i),this.render=L.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:L.selector(e)||e;var r,o,a,s=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?W[L.defaultOverwrite]:"number"==typeof u?u>>0:W[u],(s||e instanceof Array||e.push&&d(e))&&"number"!=typeof e[0])for(this._targets=a=f(e),this._propLookup=[],this._siblings=[],r=0;r<a.length;r++)o=a[r],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(f(o))):(this._siblings[r]=$(o,this,!1),1===u&&this._siblings[r].length>1&&Q(o,this,null,1,this._siblings[r])):(o=a[r--]=L.selector(o),"string"==typeof o&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=$(e,this,!1),1===u&&this._siblings.length>1&&Q(e,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-h,this.render(Math.min(0,-this._delay)))},!0),O=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},D=function(t,e){var n,i={};for(n in t)V[n]||n in e&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!j[n]||j[n]&&j[n]._autoCSS)||(i[n]=t[n],delete t[n]);t.css=i};a=L.prototype=new P,a.constructor=L,a.kill()._gc=!1,a.ratio=0,a._firstPT=a._targets=a._overwrittenProps=a._startAt=null,a._notifyPluginsOfEnabled=a._lazy=!1,L.version="1.19.0",L.defaultEase=a._ease=new x(null,null,1,1),L.defaultOverwrite="auto",L.ticker=s,L.autoSleep=120,L.lagSmoothing=function(t,e){s.lagSmoothing(t,e)},L.selector=t.$||t.jQuery||function(e){var n=t.$||t.jQuery;return n?(L.selector=n,n(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var I=[],N={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,U=function(t){for(var e,n=this._firstPT,i=1e-6;n;)e=n.blob?t?this.join(""):this.start:n.c*t+n.s,n.m?e=n.m(e,this._target||n.t):e<i&&e>-i&&(e=0),n.f?n.fp?n.t[n.p](n.fp,e):n.t[n.p](e):n.t[n.p]=e,n=n._next},k=function(t,e,n,i){var r,o,a,s,u,c,l,h=[t,e],f=0,p="",d=0;for(h.start=t,n&&(n(h),t=h[0],e=h[1]),h.length=0,r=t.match(F)||[],o=e.match(F)||[],i&&(i._next=null,i.blob=1,h._firstPT=h._applyPT=i),u=o.length,s=0;s<u;s++)l=o[s],c=e.substr(f,e.indexOf(l,f)-f),p+=c||!s?c:",",f+=c.length,d?d=(d+1)%5:"rgba("===c.substr(-5)&&(d=1),l===r[s]||r.length<=s?p+=l:(p&&(h.push(p),p=""),a=parseFloat(r[s]),h.push(a),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:a,c:("="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*parseFloat(l.substr(2)):parseFloat(l)-a)||0,f:0,m:d&&d<4?Math.round:0}),f+=l.length;return p+=e.substr(f),p&&h.push(p),h.setRatio=U,h},z=function(t,e,n,i,r,o,a,s,u){"function"==typeof i&&(i=i(u||0,t));var c,l,h="get"===n?t[e]:n,f=typeof t[e],p="string"==typeof i&&"="===i.charAt(1),d={t:t,p:e,s:h,f:"function"===f,pg:0,n:r||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:p?parseInt(i.charAt(0)+"1",10)*parseFloat(i.substr(2)):parseFloat(i)-h||0};if("number"!==f&&("function"===f&&"get"===n&&(l=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),d.s=h=a?t[l](a):t[l]()),"string"==typeof h&&(a||isNaN(h))?(d.fp=a,c=k(h,i,s||L.defaultStringFilter,d),d={t:c,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):p||(d.s=parseFloat(h),d.c=parseFloat(i)-d.s||0)),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},B=L._internals={isArray:d,isSelector:O,lazyTweens:I,blobDif:k},j=L._plugins={},G=B.tweenLookup={},H=0,V=B.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},W={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},X=P._rootFramesTimeline=new C,q=P._rootTimeline=new C,Y=30,Z=B.lazyRender=function(){var t,e=I.length;for(N={};--e>-1;)t=I[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);I.length=0};q._startTime=s.time,X._startTime=s.frame,q._active=X._active=!0,setTimeout(Z,1),P._updateRoot=L.render=function(){var t,e,n;if(I.length&&Z(),q.render((s.time-q._startTime)*q._timeScale,!1,!1),X.render((s.frame-X._startTime)*X._timeScale,!1,!1),I.length&&Z(),s.frame>=Y){Y=s.frame+(parseInt(L.autoSleep,10)||120);for(n in G){for(e=G[n].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete G[n]}if(n=q._first,(!n||n._paused)&&L.autoSleep&&!X._first&&1===s._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||s.sleep()}}},s.addEventListener("tick",P._updateRoot);var $=function(t,e,n){var i,r,o=t._gsTweenID;if(G[o||(t._gsTweenID=o="t"+H++)]||(G[o]={target:t,tweens:[]}),e&&(i=G[o].tweens,i[r=i.length]=e,n))for(;--r>-1;)i[r]===e&&i.splice(r,1);return G[o].tweens},J=function(t,e,n,i){var r,o,a=t.vars.onOverwrite;return a&&(r=a(t,e,n,i)),a=L.onOverwrite,a&&(o=a(t,e,n,i)),r!==!1&&o!==!1},Q=function(t,e,n,i,r){var o,a,s,u;if(1===i||i>=4){for(u=r.length,o=0;o<u;o++)if((s=r[o])!==e)s._gc||s._kill(null,t,e)&&(a=!0);else if(5===i)break;return a}var c,l=e._startTime+h,f=[],p=0,d=0===e._duration;for(o=r.length;--o>-1;)(s=r[o])===e||s._gc||s._paused||(s._timeline!==e._timeline?(c=c||K(e,0,d),0===K(s,c,d)&&(f[p++]=s)):s._startTime<=l&&s._startTime+s.totalDuration()/s._timeScale>l&&((d||!s._initted)&&l-s._startTime<=2e-10||(f[p++]=s)));for(o=p;--o>-1;)if(s=f[o],2===i&&s._kill(n,t,e)&&(a=!0),2!==i||!s._firstPT&&s._initted){if(2!==i&&!J(s,e))continue;s._enabled(!1,!1)&&(a=!0)}return a},K=function(t,e,n){for(var i=t._timeline,r=i._timeScale,o=t._startTime;i._timeline;){if(o+=i._startTime,r*=i._timeScale,i._paused)return-100;i=i._timeline}return o/=r,o>e?o-e:n&&o===e||!t._initted&&o-e<2*h?h:(o+=t.totalDuration()/t._timeScale/r)>e+h?0:o-e-h};a._init=function(){var t,e,n,i,r,o,a=this.vars,s=this._overwrittenProps,u=this._duration,c=!!a.immediateRender,l=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(i in a.startAt)r[i]=a.startAt[i];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=c&&a.lazy!==!1,r.startAt=r.delay=null,this._startAt=L.to(this.target,0,r),c)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(a.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(c=!1),n={};for(i in a)V[i]&&"autoCSS"!==i||(n[i]=a[i]);if(n.overwrite=0,n.data="isFromStart",n.lazy=c&&a.lazy!==!1,n.immediateRender=c,this._startAt=L.to(this.target,0,n),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof x?l:"function"==typeof l?new x(l,a.easeParams):b[l]||L.defaultEase:L.defaultEase,a.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(e&&L._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},a._initProps=function(e,n,i,r,o){var a,s,u,c,l,h;if(null==e)return!1;N[e._gsTweenID]&&Z(),this.vars.css||e.style&&e!==t&&e.nodeType&&j.css&&this.vars.autoCSS!==!1&&D(this.vars,e);for(a in this.vars)if(h=this.vars[a],V[a])h&&(h instanceof Array||h.push&&d(h))&&h.join("").indexOf("{self}")!==-1&&(this.vars[a]=h=this._swapSelfInParams(h,this));else if(j[a]&&(c=new j[a])._onInitTween(e,this.vars[a],this,o)){for(this._firstPT=l={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)n[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(u=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),l._next&&(l._next._prev=l)}else n[a]=z.call(this,e,a,"get",h,a,0,null,this.vars.stringFilter,o);return r&&this._kill(r,e)?this._initProps(e,n,i,r,o):this._overwrite>1&&this._firstPT&&i.length>1&&Q(e,this,n,this._overwrite,i)?(this._kill(n,e),this._initProps(e,n,i,r,o)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(N[e._gsTweenID]=!0),u)},a.render=function(t,e,n){var i,r,o,a,s=this._time,u=this._duration,c=this._rawPrevTime;if(t>=u-1e-7)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,r="onComplete",n=n||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(c<0||t<=0&&t>=-1e-7||c===h&&"isPause"!==this.data)&&c!==t&&(n=!0,c>h&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||c===t?t:h);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&c>0)&&(r="onReverseComplete",i=this._reversed),t<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||n)&&(c>=0&&(c!==h||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!e||t||c===t?t:h)),this._initted||(n=!0);else if(this._totalTime=this._time=t,this._easeType){var l=t/u,f=this._easeType,p=this._easePower;(1===f||3===f&&l>=.5)&&(l=1-l),3===f&&(l*=2),1===p?l*=l:2===p?l*=l*l:3===p?l*=l*l*l:4===p&&(l*=l*l*l*l),1===f?this.ratio=1-l:2===f?this.ratio=l:t/u<.5?this.ratio=l/2:this.ratio=1-l/2}else this.ratio=this._ease.getRatio(t/u);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,I.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/u):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,e,n):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,n),e||(this._time!==s||i||n)&&this._callback("onUpdate")),r&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===u&&this._rawPrevTime===h&&a!==h&&(this._rawPrevTime=0)))}},a._kill=function(t,e,n){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:L.selector(e)||e;var i,r,o,a,s,u,c,l,h,f=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((d(e)||O(e))&&"number"!=typeof e[0])for(i=e.length;--i>-1;)this._kill(t,e[i],n)&&(u=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(e===this._targets[i]){s=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){if(c=t||s,l=t!==r&&"all"!==r&&t!==s&&("object"!=typeof t||!t._tempKill),n&&(L.onOverwrite||this.vars.onOverwrite)){for(o in c)s[o]&&(h||(h=[]),h.push(o));if((h||!t)&&!J(this,n,e,h))return!1}for(o in c)(a=s[o])&&(f&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,u=!0),a.pg&&a.t._kill(c)&&(u=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),l&&(r[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},a.invalidate=function(){return this._notifyPluginsOfEnabled&&L._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],P.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-h,this.render(Math.min(0,-this._delay))),this},a._enabled=function(t,e){if(u||s.wake(),t&&this._gc){var n,i=this._targets;if(i)for(n=i.length;--n>-1;)this._siblings[n]=$(i[n],this,!0);else this._siblings=$(this.target,this,!0)}return P.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&L._onPluginEvent(t?"_onEnable":"_onDisable",this)},L.to=function(t,e,n){return new L(t,e,n)},L.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new L(t,e,n)},L.fromTo=function(t,e,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new L(t,e,i)},L.delayedCall=function(t,e,n,i,r){return new L(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},L.set=function(t,e){return new L(t,0,e)},L.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:L.selector(t)||t;var n,i,r,o;if((d(t)||O(t))&&"number"!=typeof t[0]){for(n=t.length,i=[];--n>-1;)i=i.concat(L.getTweensOf(t[n],e));for(n=i.length;--n>-1;)for(o=i[n],r=n;--r>-1;)o===i[r]&&i.splice(n,1)}else for(i=$(t).concat(),n=i.length;--n>-1;)(i[n]._gc||e&&!i[n].isActive())&&i.splice(n,1);return i},L.killTweensOf=L.killDelayedCallsTo=function(t,e,n){"object"==typeof e&&(n=e,e=!1);for(var i=L.getTweensOf(t,e),r=i.length;--r>-1;)i[r]._kill(n,t)};var tt=y("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=tt.prototype},!0);if(a=tt.prototype,tt.version="1.19.0",tt.API=2,a._firstPT=null,a._addTween=z,a.setRatio=U,a._kill=function(t){var e,n=this._overwriteProps,i=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=n.length;--e>-1;)null!=t[n[e]]&&n.splice(e,1);for(;i;)null!=t[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},a._mod=a._roundProps=function(t){for(var e,n=this._firstPT;n;)e=t[this._propName]||null!=n.n&&t[n.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===n.f?n.t._applyPT.m=e:n.m=e),n=n._next},L._onPluginEvent=function(t,e){var n,i,r,o,a,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(a=s._next,i=r;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:o)?s._prev._next=s:r=s,(s._next=i)?i._prev=s:o=s,s=a}s=e._firstPT=r}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(n=!0),s=s._next;return n},tt.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===tt.API&&(j[(new t[e])._propName]=t[e]);return!0},v.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,n=t.propName,i=t.priority||0,r=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=y("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){tt.call(this,n,i),this._overwriteProps=r||[]},t.global===!0),s=a.prototype=new tt(n);s.constructor=a,a.API=t.API;for(e in o)"function"==typeof t[e]&&(s[o[e]]=t[e]);return a.version=t.version,tt.activate([a]),a},r=t._gsQueue){for(o=0;o<r.length;o++)r[o]();for(a in m)m[a].func||t.console.log("GSAP encountered missing dependency: "+a)}u=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax"),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.THREE=t.THREE||{})}(this,function(t){"use strict";function e(){}function n(t,e){this.x=t||0,this.y=e||0}function i(t,e,o,a,s,u,c,l,h,f){Object.defineProperty(this,"id",{value:r()}),this.uuid=Ua.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==t?t:i.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:i.DEFAULT_MAPPING,this.wrapS=void 0!==o?o:Co,this.wrapT=void 0!==a?a:Co,this.magFilter=void 0!==s?s:Fo,this.minFilter=void 0!==u?u:ko,this.anisotropy=void 0!==h?h:1,this.format=void 0!==c?c:ta,this.type=void 0!==l?l:Bo,this.offset=new n(0,0),this.repeat=new n(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==f?f:Aa,this.version=0,this.onUpdate=null}function r(){return ka++}function o(t,e,n,i){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==i?i:1}function a(t,e,n){this.uuid=Ua.generateUUID(),this.width=t,this.height=e,this.scissor=new o(0,0,t,e),this.scissorTest=!1,this.viewport=new o(0,0,t,e),n=n||{},void 0===n.minFilter&&(n.minFilter=Fo),this.texture=new i((void 0),(void 0),n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function s(t,e,n){a.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function u(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==i?i:1}function c(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function l(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function h(t,e,n,r,o,a,s,u,c,l){t=void 0!==t?t:[],e=void 0!==e?e:bo,i.call(this,t,e,n,r,o,a,s,u,c,l),this.flipY=!1}function f(){this.seq=[],this.map={}}function p(t,e,n){var i=t[0];if(i<=0||i>0)return t;var r=e*n,o=ja[r];if(void 0===o&&(o=new Float32Array(r),ja[r]=o),0!==e){i.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function d(t,e){var n=Ga[e];void 0===n&&(n=new Int32Array(e),Ga[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocTextureUnit();return n}function m(t,e){t.uniform1f(this.addr,e)}function g(t,e){t.uniform1i(this.addr,e)}function v(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function y(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function _(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function x(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function b(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function w(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function T(t,e,n){var i=n.allocTextureUnit();t.uniform1i(this.addr,i),n.setTexture2D(e||za,i)}function M(t,e,n){var i=n.allocTextureUnit();t.uniform1i(this.addr,i),n.setTextureCube(e||Ba,i)}function E(t,e){t.uniform2iv(this.addr,e)}function S(t,e){t.uniform3iv(this.addr,e)}function A(t,e){t.uniform4iv(this.addr,e)}function P(t){switch(t){case 5126:return m;case 35664:return v;case 35665:return y;case 35666:return _;case 35674:return x;case 35675:return b;case 35676:return w;case 35678:return T;case 35680:return M;case 5124:case 35670:return g;case 35667:case 35671:return E;case 35668:case 35672:return S;case 35669:case 35673:return A}}function R(t,e){t.uniform1fv(this.addr,e)}function C(t,e){t.uniform1iv(this.addr,e)}function L(t,e){t.uniform2fv(this.addr,p(e,this.size,2))}function O(t,e){t.uniform3fv(this.addr,p(e,this.size,3))}function D(t,e){t.uniform4fv(this.addr,p(e,this.size,4))}function I(t,e){t.uniformMatrix2fv(this.addr,!1,p(e,this.size,4))}function N(t,e){t.uniformMatrix3fv(this.addr,!1,p(e,this.size,9))}function F(t,e){t.uniformMatrix4fv(this.addr,!1,p(e,this.size,16))}function U(t,e,n){var i=e.length,r=d(n,i);t.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.setTexture2D(e[o]||za,r[o])}function k(t,e,n){var i=e.length,r=d(n,i);t.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.setTextureCube(e[o]||Ba,r[o])}function z(t){switch(t){case 5126:return R;case 35664:return L;case 35665:return O;case 35666:return D;case 35674:return I;case 35675:return N;case 35676:return F;case 35678:return U;case 35680:return k;case 5124:case 35670:return C;case 35667:case 35671:return E;case 35668:case 35672:return S;case 35669:case 35673:return A}}function B(t,e,n){this.id=t,this.addr=n,this.setValue=P(e.type)}function j(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=z(e.type)}function G(t){this.id=t,f.call(this)}function H(t,e){t.seq.push(e),t.map[e.id]=e}function V(t,e,n){var i=t.name,r=i.length;for(Ha.lastIndex=0;;){var o=Ha.exec(i),a=Ha.lastIndex,s=o[1],u="]"===o[2],c=o[3];if(u&&(s=0|s),void 0===c||"["===c&&a+2===r){H(n,void 0===c?new B(s,t,e):new j(s,t,e));break}var l=n.map,h=l[s];void 0===h&&(h=new G(s),H(n,h)),n=h}}function W(t,e,n){f.call(this),this.renderer=n;for(var i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=0;r!==i;++r){var o=t.getActiveUniform(e,r),a=o.name,s=t.getUniformLocation(e,a);V(o,s,this)}}function X(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function q(t,e){this.min=void 0!==t?t:new n((+(1/0)),(+(1/0))),this.max=void 0!==e?e:new n((-(1/0)),(-(1/0)))}function Y(t,e){function i(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=d.createBuffer(),a=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,o),d.bufferData(d.ARRAY_BUFFER,t,d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),d.bufferData(d.ELEMENT_ARRAY_BUFFER,e,d.STATIC_DRAW),f=d.createTexture(),p=d.createTexture(),m.bindTexture(d.TEXTURE_2D,f),d.texImage2D(d.TEXTURE_2D,0,d.RGB,16,16,0,d.RGB,d.UNSIGNED_BYTE,null),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),m.bindTexture(d.TEXTURE_2D,p),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,16,16,0,d.RGBA,d.UNSIGNED_BYTE,null),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),s={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},u=r(s),l={vertex:d.getAttribLocation(u,"position"),uv:d.getAttribLocation(u,"uv")},h={renderType:d.getUniformLocation(u,"renderType"),map:d.getUniformLocation(u,"map"),occlusionMap:d.getUniformLocation(u,"occlusionMap"),opacity:d.getUniformLocation(u,"opacity"),color:d.getUniformLocation(u,"color"),scale:d.getUniformLocation(u,"scale"),rotation:d.getUniformLocation(u,"rotation"),screenPosition:d.getUniformLocation(u,"screenPosition")}}function r(e){var n=d.createProgram(),i=d.createShader(d.FRAGMENT_SHADER),r=d.createShader(d.VERTEX_SHADER),o="precision "+t.getPrecision()+" float;\n";return d.shaderSource(i,o+e.fragmentShader),d.shaderSource(r,o+e.vertexShader),d.compileShader(i),d.compileShader(r),d.attachShader(n,i),d.attachShader(n,r),d.linkProgram(n),n}var o,a,s,u,l,h,f,p,d=t.context,m=t.state;this.render=function(r,s,g){if(0!==e.length){var v=new c,y=g.w/g.z,_=.5*g.z,x=.5*g.w,b=16/g.w,w=new n(b*y,b),T=new c(1,1,0),M=new n(1,1),E=new q;E.min.set(g.x,g.y),E.max.set(g.x+(g.z-16),g.y+(g.w-16)),void 0===u&&i(),d.useProgram(u),m.initAttributes(),m.enableAttribute(l.vertex),m.enableAttribute(l.uv),m.disableUnusedAttributes(),d.uniform1i(h.occlusionMap,0),d.uniform1i(h.map,1),d.bindBuffer(d.ARRAY_BUFFER,o),d.vertexAttribPointer(l.vertex,2,d.FLOAT,!1,16,0),d.vertexAttribPointer(l.uv,2,d.FLOAT,!1,16,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),m.disable(d.CULL_FACE),m.setDepthWrite(!1);for(var S=0,A=e.length;S<A;S++){b=16/g.w,w.set(b*y,b);var P=e[S];if(v.set(P.matrixWorld.elements[12],P.matrixWorld.elements[13],P.matrixWorld.elements[14]),v.applyMatrix4(s.matrixWorldInverse),v.applyProjection(s.projectionMatrix),T.copy(v),M.x=g.x+T.x*_+_-8,M.y=g.y+T.y*x+x-8,E.containsPoint(M)===!0){m.activeTexture(d.TEXTURE0),m.bindTexture(d.TEXTURE_2D,null),m.activeTexture(d.TEXTURE1),m.bindTexture(d.TEXTURE_2D,f),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGB,M.x,M.y,16,16,0),d.uniform1i(h.renderType,0),d.uniform2f(h.scale,w.x,w.y),d.uniform3f(h.screenPosition,T.x,T.y,T.z),m.disable(d.BLEND),m.enable(d.DEPTH_TEST),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),m.activeTexture(d.TEXTURE0),m.bindTexture(d.TEXTURE_2D,p),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,M.x,M.y,16,16,0),d.uniform1i(h.renderType,1),m.disable(d.DEPTH_TEST),m.activeTexture(d.TEXTURE1),m.bindTexture(d.TEXTURE_2D,f),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),P.positionScreen.copy(T),P.customUpdateCallback?P.customUpdateCallback(P):P.updateLensFlares(),d.uniform1i(h.renderType,2),m.enable(d.BLEND);for(var R=0,C=P.lensFlares.length;R<C;R++){var L=P.lensFlares[R];L.opacity>.001&&L.scale>.001&&(T.x=L.x,T.y=L.y,T.z=L.z,b=L.size*L.scale/g.w,w.x=b*y,w.y=b,d.uniform3f(h.screenPosition,T.x,T.y,T.z),d.uniform2f(h.scale,w.x,w.y),d.uniform1f(h.rotation,L.rotation),d.uniform1f(h.opacity,L.opacity),d.uniform3f(h.color,L.color.r,L.color.g,L.color.b),m.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),t.setTexture2D(L.texture,1),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0))}}}m.enable(d.CULL_FACE),m.enable(d.DEPTH_TEST),m.setDepthWrite(!0),t.resetGLState()}}}function Z(t,e){function n(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);a=d.createBuffer(),s=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,a),d.bufferData(d.ARRAY_BUFFER,t,d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s),d.bufferData(d.ELEMENT_ARRAY_BUFFER,e,d.STATIC_DRAW),l=r(),h={position:d.getAttribLocation(l,"position"),uv:d.getAttribLocation(l,"uv")},f={uvOffset:d.getUniformLocation(l,"uvOffset"),uvScale:d.getUniformLocation(l,"uvScale"),rotation:d.getUniformLocation(l,"rotation"),scale:d.getUniformLocation(l,"scale"),color:d.getUniformLocation(l,"color"),map:d.getUniformLocation(l,"map"),opacity:d.getUniformLocation(l,"opacity"),modelViewMatrix:d.getUniformLocation(l,"modelViewMatrix"),projectionMatrix:d.getUniformLocation(l,"projectionMatrix"),fogType:d.getUniformLocation(l,"fogType"),fogDensity:d.getUniformLocation(l,"fogDensity"),fogNear:d.getUniformLocation(l,"fogNear"),fogFar:d.getUniformLocation(l,"fogFar"),fogColor:d.getUniformLocation(l,"fogColor"),alphaTest:d.getUniformLocation(l,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var o=n.getContext("2d");o.fillStyle="white",o.fillRect(0,0,8,8),p=new i(n),p.needsUpdate=!0}function r(){var e=d.createProgram(),n=d.createShader(d.VERTEX_SHADER),i=d.createShader(d.FRAGMENT_SHADER);return d.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),d.shaderSource(i,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),d.compileShader(n),d.compileShader(i),d.attachShader(e,n),d.attachShader(e,i),d.linkProgram(e),e}function o(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var a,s,l,h,f,p,d=t.context,m=t.state,g=new c,v=new u,y=new c;this.render=function(i,r){if(0!==e.length){void 0===l&&n(),d.useProgram(l),m.initAttributes(),m.enableAttribute(h.position),m.enableAttribute(h.uv),
m.disableUnusedAttributes(),m.disable(d.CULL_FACE),m.enable(d.BLEND),d.bindBuffer(d.ARRAY_BUFFER,a),d.vertexAttribPointer(h.position,2,d.FLOAT,!1,16,0),d.vertexAttribPointer(h.uv,2,d.FLOAT,!1,16,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s),d.uniformMatrix4fv(f.projectionMatrix,!1,r.projectionMatrix.elements),m.activeTexture(d.TEXTURE0),d.uniform1i(f.map,0);var u=0,c=0,_=i.fog;_?(d.uniform3f(f.fogColor,_.color.r,_.color.g,_.color.b),_&&_.isFog?(d.uniform1f(f.fogNear,_.near),d.uniform1f(f.fogFar,_.far),d.uniform1i(f.fogType,1),u=1,c=1):_&&_.isFogExp2&&(d.uniform1f(f.fogDensity,_.density),d.uniform1i(f.fogType,2),u=2,c=2)):(d.uniform1i(f.fogType,0),u=0,c=0);for(var x=0,b=e.length;x<b;x++){var w=e[x];w.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,w.matrixWorld),w.z=-w.modelViewMatrix.elements[14]}e.sort(o);for(var T=[],x=0,b=e.length;x<b;x++){var w=e[x],M=w.material;if(M.visible!==!1){d.uniform1f(f.alphaTest,M.alphaTest),d.uniformMatrix4fv(f.modelViewMatrix,!1,w.modelViewMatrix.elements),w.matrixWorld.decompose(g,v,y),T[0]=y.x,T[1]=y.y;var E=0;i.fog&&M.fog&&(E=c),u!==E&&(d.uniform1i(f.fogType,E),u=E),null!==M.map?(d.uniform2f(f.uvOffset,M.map.offset.x,M.map.offset.y),d.uniform2f(f.uvScale,M.map.repeat.x,M.map.repeat.y)):(d.uniform2f(f.uvOffset,0,0),d.uniform2f(f.uvScale,1,1)),d.uniform1f(f.opacity,M.opacity),d.uniform3f(f.color,M.color.r,M.color.g,M.color.b),d.uniform1f(f.rotation,M.rotation),d.uniform2fv(f.scale,T),m.setBlending(M.blending,M.blendEquation,M.blendSrc,M.blendDst),m.setDepthTest(M.depthTest),m.setDepthWrite(M.depthWrite),M.map?t.setTexture2D(M.map,0):t.setTexture2D(p,0),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0)}}m.enable(d.CULL_FACE),t.resetGLState()}}}function $(){Object.defineProperty(this,"id",{value:J()}),this.uuid=Ua.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Nr,this.side=Sr,this.shading=Cr,this.vertexColors=Lr,this.opacity=1,this.transparent=!1,this.blendSrc=$r,this.blendDst=Jr,this.blendEquation=jr,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ao,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function J(){return Xu++}function Q(t){$.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function K(t){$.call(this),this.type="MeshDepthMaterial",this.depthPacking=Na,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function tt(t,e){this.min=void 0!==t?t:new c((+(1/0)),(+(1/0)),(+(1/0))),this.max=void 0!==e?e:new c((-(1/0)),(-(1/0)),(-(1/0)))}function et(t,e){this.center=void 0!==t?t:new c,this.radius=void 0!==e?e:0}function nt(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function it(t,e){this.normal=void 0!==t?t:new c(1,0,0),this.constant=void 0!==e?e:0}function rt(t,e,n,i,r,o){this.planes=[void 0!==t?t:new it,void 0!==e?e:new it,void 0!==n?n:new it,void 0!==i?i:new it,void 0!==r?r:new it,void 0!==o?o:new it]}function ot(t,e,i,r){function s(e,n,i,r){var o=e.geometry,a=null,s=M,u=e.customDepthMaterial;if(i&&(s=E,u=e.customDistanceMaterial),u)a=u;else{var c=!1;n.morphTargets&&(o&&o.isBufferGeometry?c=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(c=o.morphTargets&&o.morphTargets.length>0));var l=e.isSkinnedMesh&&n.skinning,h=0;c&&(h|=b),l&&(h|=w),a=s[h]}if(t.localClippingEnabled&&n.clipShadows===!0&&0!==n.clippingPlanes.length){var f=a.uuid,p=n.uuid,d=S[f];void 0===d&&(d={},S[f]=d);var m=d[p];void 0===m&&(m=a.clone(),d[p]=m),a=m}a.visible=n.visible,a.wireframe=n.wireframe;var g=n.side;return k.renderSingleSided&&g==Pr&&(g=Sr),k.renderReverseSided&&(g===Sr?g=Ar:g===Ar&&(g=Sr)),a.side=g,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,i&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(r),a}function u(t,e,n){if(t.visible!==!1){var i=0!==(t.layers.mask&e.layers.mask);if(i&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(t.frustumCulled===!1||p.intersectsObject(t)===!0)){var r=t.material;r.visible===!0&&(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),x.push(t))}for(var o=t.children,a=0,s=o.length;a<s;a++)u(o[a],e,n)}}var h=t.context,f=t.state,p=new rt,d=new l,m=e.shadows,g=new n,v=new n(r.maxTextureSize,r.maxTextureSize),y=new c,_=new c,x=[],b=1,w=2,T=(b|w)+1,M=new Array(T),E=new Array(T),S={},A=[new c(1,0,0),new c((-1),0,0),new c(0,0,1),new c(0,0,(-1)),new c(0,1,0),new c(0,(-1),0)],P=[new c(0,1,0),new c(0,1,0),new c(0,1,0),new c(0,1,0),new c(0,0,1),new c(0,0,(-1))],R=[new o,new o,new o,new o,new o,new o],C=new K;C.depthPacking=Fa,C.clipping=!0;for(var L=Wu.distanceRGBA,O=Va.clone(L.uniforms),D=0;D!==T;++D){var I=0!==(D&b),N=0!==(D&w),F=C.clone();F.morphTargets=I,F.skinning=N,M[D]=F;var U=new Q({defines:{USE_SHADOWMAP:""},uniforms:O,vertexShader:L.vertexShader,fragmentShader:L.fragmentShader,morphTargets:I,skinning:N,clipping:!0});E[D]=U}var k=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Mr,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,n){if(k.enabled!==!1&&(k.autoUpdate!==!1||k.needsUpdate!==!1)&&0!==m.length){f.clearColor(1,1,1,1),f.disable(h.BLEND),f.setDepthTest(!0),f.setScissorTest(!1);for(var r,o,c=0,l=m.length;c<l;c++){var b=m[c],w=b.shadow;if(void 0!==w){var T=w.camera;if(g.copy(w.mapSize),g.min(v),b&&b.isPointLight){r=6,o=!0;var M=g.x,E=g.y;R[0].set(2*M,E,M,E),R[1].set(0,E,M,E),R[2].set(3*M,E,M,E),R[3].set(M,E,M,E),R[4].set(3*M,0,M,E),R[5].set(M,0,M,E),g.x*=4,g.y*=2}else r=1,o=!1;if(null===w.map){var S={minFilter:Do,magFilter:Do,format:ta};w.map=new a(g.x,g.y,S),T.updateProjectionMatrix()}w&&w.isSpotLightShadow&&w.update(b);var C=w.map,L=w.matrix;_.setFromMatrixPosition(b.matrixWorld),T.position.copy(_),t.setRenderTarget(C),t.clear();for(var O=0;O<r;O++){if(o){y.copy(T.position),y.add(A[O]),T.up.copy(P[O]),T.lookAt(y);var D=R[O];f.viewport(D)}else y.setFromMatrixPosition(b.target.matrixWorld),T.lookAt(y);T.updateMatrixWorld(),T.matrixWorldInverse.getInverse(T.matrixWorld),L.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),L.multiply(T.projectionMatrix),L.multiply(T.matrixWorldInverse),d.multiplyMatrices(T.projectionMatrix,T.matrixWorldInverse),p.setFromMatrix(d),x.length=0,u(e,n,T);for(var I=0,N=x.length;I<N;I++){var F=x[I],U=i.update(F),z=F.material;if(z&&z.isMultiMaterial)for(var B=U.groups,j=z.materials,G=0,H=B.length;G<H;G++){var V=B[G],W=j[V.materialIndex];if(W.visible===!0){var X=s(F,W,o,_);t.renderBufferDirect(T,null,U,X,F,V)}}else{var X=s(F,z,o,_);t.renderBufferDirect(T,null,U,X,F,null)}}}}else console.warn("THREE.WebGLShadowMap:",b,"has no shadow.")}var q=t.getClearColor(),Y=t.getClearAlpha();t.setClearColor(q,Y),k.needsUpdate=!1}}}function at(t,e){this.origin=void 0!==t?t:new c,this.direction=void 0!==e?e:new c}function st(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._order=i||st.DefaultOrder}function ut(){this.mask=1}function ct(){function t(){r.setFromEuler(i,!1)}function e(){i.setFromQuaternion(r,void 0,!1)}Object.defineProperty(this,"id",{value:lt()}),this.uuid=Ua.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ct.DefaultUp.clone();var n=new c,i=new st,r=new u,o=new c(1,1,1);i.onChange(t),r.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:i},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new l},normalMatrix:{value:new nt}}),this.matrix=new l,this.matrixWorld=new l,this.matrixAutoUpdate=ct.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ut,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function lt(){return qu++}function ht(t,e){this.start=void 0!==t?t:new c,this.end=void 0!==e?e:new c}function ft(t,e,n){this.a=void 0!==t?t:new c,this.b=void 0!==e?e:new c,this.c=void 0!==n?n:new c}function pt(t,e,n,i,r,o){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new c,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new X,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==o?o:0}function dt(t){$.call(this),this.type="MeshBasicMaterial",this.color=new X(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ho,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function mt(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Ua.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function gt(t,e){return new mt(new Int8Array(t),e)}function vt(t,e){return new mt(new Uint8Array(t),e)}function yt(t,e){return new mt(new Uint8ClampedArray(t),e)}function _t(t,e){return new mt(new Int16Array(t),e)}function xt(t,e){return new mt(new Uint16Array(t),e)}function bt(t,e){return new mt(new Int32Array(t),e)}function wt(t,e){return new mt(new Uint32Array(t),e)}function Tt(t,e){return new mt(new Float32Array(t),e)}function Mt(t,e){return new mt(new Float64Array(t),e)}function Et(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new mt(t,e).setDynamic(!0)}function St(){Object.defineProperty(this,"id",{value:At()}),this.uuid=Ua.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function At(){return Yu++}function Pt(){Object.defineProperty(this,"id",{value:At()}),this.uuid=Ua.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Rt(){Object.defineProperty(this,"id",{value:At()}),this.uuid=Ua.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Ct(t,e){ct.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Rt,this.material=void 0!==e?e:new dt({color:16777215*Math.random()}),this.drawMode=Ma,this.updateMorphTargets()}function Lt(t,e,n,i,r,o){function a(t,e,n){var i=0;return i+=(t+1)*(e+1)*2,i+=(t+1)*(n+1)*2,i+=(n+1)*(e+1)*2}function s(t,e,n){var i=0;return i+=t*e*2,i+=t*n*2,i+=n*e*2,6*i}function u(t,e,n,i,r,o,a,s,u,h,f){for(var w=o/u,T=a/h,M=o/2,E=a/2,S=s/2,A=u+1,P=h+1,R=0,C=0,L=new c,O=0;O<P;O++)for(var D=O*T-E,I=0;I<A;I++){var N=I*w-M;L[t]=N*i,L[e]=D*r,L[n]=S,d[v]=L.x,d[v+1]=L.y,d[v+2]=L.z,L[t]=0,L[e]=0,L[n]=s>0?1:-1,m[v]=L.x,m[v+1]=L.y,m[v+2]=L.z,g[y]=I/u,g[y+1]=1-O/h,v+=3,y+=2,R+=1}for(O=0;O<h;O++)for(I=0;I<u;I++){var F=x+I+A*O,U=x+I+A*(O+1),k=x+(I+1)+A*(O+1),z=x+(I+1)+A*O;p[_]=F,p[_+1]=U,p[_+2]=z,p[_+3]=U,p[_+4]=k,p[_+5]=z,_+=6,C+=6}l.addGroup(b,C,f),b+=C,x+=R}Rt.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};var l=this;i=Math.floor(i)||1,r=Math.floor(r)||1,o=Math.floor(o)||1;var h=a(i,r,o),f=s(i,r,o),p=new(f>65535?Uint32Array:Uint16Array)(f),d=new Float32Array(3*h),m=new Float32Array(3*h),g=new Float32Array(2*h),v=0,y=0,_=0,x=0,b=0;u("z","y","x",-1,-1,n,e,t,o,r,0),u("z","y","x",1,-1,n,e,-t,o,r,1),u("x","z","y",1,1,t,n,e,i,o,2),u("x","z","y",1,-1,t,n,-e,i,o,3),u("x","y","z",1,-1,t,e,n,i,r,4),u("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(new mt(p,1)),this.addAttribute("position",new mt(d,3)),this.addAttribute("normal",new mt(m,3)),this.addAttribute("uv",new mt(g,2))}function Ot(t,e,n,i){Rt.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};for(var r=t/2,o=e/2,a=Math.floor(n)||1,s=Math.floor(i)||1,u=a+1,c=s+1,l=t/a,h=e/s,f=new Float32Array(u*c*3),p=new Float32Array(u*c*3),d=new Float32Array(u*c*2),m=0,g=0,v=0;v<c;v++)for(var y=v*h-o,_=0;_<u;_++){var x=_*l-r;f[m]=x,f[m+1]=-y,p[m+2]=1,d[g]=_/a,d[g+1]=1-v/s,m+=3,g+=2}m=0;for(var b=new(f.length/3>65535?Uint32Array:Uint16Array)(a*s*6),v=0;v<s;v++)for(var _=0;_<a;_++){var w=_+u*v,T=_+u*(v+1),M=_+1+u*(v+1),E=_+1+u*v;b[m]=w,b[m+1]=T,b[m+2]=E,b[m+3]=T,b[m+4]=M,b[m+5]=E,m+=6}this.setIndex(new mt(b,1)),this.addAttribute("position",new mt(f,3)),this.addAttribute("normal",new mt(p,3)),this.addAttribute("uv",new mt(d,2))}function Dt(){ct.call(this),this.type="Camera",this.matrixWorldInverse=new l,this.projectionMatrix=new l}function It(t,e,n,i){Dt.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Nt(t,e,n,i,r,o){Dt.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=void 0!==r?r:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Ft(t,e,n){function i(t){s=t}function r(n){n.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(u=t.UNSIGNED_INT,c=4):(u=t.UNSIGNED_SHORT,c=2)}function o(e,i){t.drawElements(s,i,u,e*c),n.calls++,n.vertices+=i,s===t.TRIANGLES&&(n.faces+=i/3)}function a(i,r,o){var a=e.get("ANGLE_instanced_arrays");return null===a?void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(a.drawElementsInstancedANGLE(s,o,u,r*c,i.maxInstancedCount),n.calls++,n.vertices+=o*i.maxInstancedCount,void(s===t.TRIANGLES&&(n.faces+=i.maxInstancedCount*o/3)))}var s,u,c;return{setMode:i,setIndex:r,render:o,renderInstances:a}}function Ut(t,e,n){function i(t){a=t}function r(e,i){t.drawArrays(a,e,i),n.calls++,n.vertices+=i,a===t.TRIANGLES&&(n.faces+=i/3)}function o(i){var r=e.get("ANGLE_instanced_arrays");if(null===r)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var o=i.attributes.position,s=0;o&&o.isInterleavedBufferAttribute?(s=o.data.count,r.drawArraysInstancedANGLE(a,0,s,i.maxInstancedCount)):(s=o.count,r.drawArraysInstancedANGLE(a,0,s,i.maxInstancedCount)),n.calls++,n.vertices+=s*i.maxInstancedCount,a===t.TRIANGLES&&(n.faces+=i.maxInstancedCount*s/3)}var a;return{setMode:i,render:r,renderInstances:o}}function kt(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new c,color:new X,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"SpotLight":i={position:new c,direction:new c,color:new X,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"PointLight":i={position:new c,color:new X,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"HemisphereLight":i={direction:new c,skyColor:new X,groundColor:new X}}return t[e.id]=i,i}}}function zt(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function Bt(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(i),zt(n)),i}function jt(t){switch(t){case Aa:return["Linear","( value )"];case Pa:return["sRGB","( value )"];case Ca:return["RGBE","( value )"];case Oa:return["RGBM","( value, 7.0 )"];case Da:return["RGBM","( value, 16.0 )"];case Ia:return["RGBD","( value, 256.0 )"];case Ra:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Gt(t,e){var n=jt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Ht(t,e){var n=jt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Vt(t,e){var n;switch(e){case go:n="Linear";break;case vo:n="Reinhard";break;case yo:n="Uncharted2";break;case _o:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Wt(t,e,n){t=t||{};var i=[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return i.filter(Yt).join("\n")}function Xt(t){var e=[];for(var n in t){var i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join("\n")}function qt(t,e,n){for(var i={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<r;o++){var a=t.getActiveAttrib(e,o),s=a.name;i[s]=t.getAttribLocation(e,s)}return i}function Yt(t){return""!==t}function Zt(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function $t(t){function e(t,e){var n=Gu[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return $t(n)}var n=/#include +<([\w\d.]+)>/g;return t.replace(n,e)}function Jt(t){function e(t,e,n,i){for(var r="",o=parseInt(e);o<parseInt(n);o++)r+=i.replace(/\[ i \]/g,"[ "+o+" ]");return r}var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return t.replace(n,e)}function Qt(t,e,n,i){var r=t.context,o=n.extensions,a=n.defines,s=n.__webglShader.vertexShader,u=n.__webglShader.fragmentShader,c="SHADOWMAP_TYPE_BASIC";i.shadowMapType===Mr?c="SHADOWMAP_TYPE_PCF":i.shadowMapType===Er&&(c="SHADOWMAP_TYPE_PCF_SOFT");var l="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(i.envMap){switch(n.envMap.mapping){case bo:case wo:l="ENVMAP_TYPE_CUBE";break;case So:case Ao:l="ENVMAP_TYPE_CUBE_UV";break;case To:case Mo:l="ENVMAP_TYPE_EQUIREC";break;case Eo:l="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case wo:case Mo:h="ENVMAP_MODE_REFRACTION"}switch(n.combine){case ho:f="ENVMAP_BLENDING_MULTIPLY";break;case fo:f="ENVMAP_BLENDING_MIX";break;case po:f="ENVMAP_BLENDING_ADD"}}var p,d,m=t.gammaFactor>0?t.gammaFactor:1,g=Wt(o,i,t.extensions),v=Xt(a),y=r.createProgram();n.isRawShaderMaterial?(p=[v,"\n"].filter(Yt).join("\n"),d=[g,v,"\n"].filter(Yt).join("\n")):(p=["precision "+i.precision+" float;","precision "+i.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,v,i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+i.maxBones,i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+h:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.vertexColors?"#define USE_COLOR":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+i.numClippingPlanes,i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+c:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Yt).join("\n"),d=[g,"precision "+i.precision+" float;","precision "+i.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,v,i.alphaTest?"#define ALPHATEST "+i.alphaTest:"","#define GAMMA_FACTOR "+m,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+l:"",i.envMap?"#define "+h:"",i.envMap?"#define "+f:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.vertexColors?"#define USE_COLOR":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+i.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(i.numClippingPlanes-i.numClipIntersection),i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+c:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",i.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",i.toneMapping!==mo?"#define TONE_MAPPING":"",i.toneMapping!==mo?Gu.tonemapping_pars_fragment:"",i.toneMapping!==mo?Vt("toneMapping",i.toneMapping):"",i.outputEncoding||i.mapEncoding||i.envMapEncoding||i.emissiveMapEncoding?Gu.encodings_pars_fragment:"",i.mapEncoding?Gt("mapTexelToLinear",i.mapEncoding):"",i.envMapEncoding?Gt("envMapTexelToLinear",i.envMapEncoding):"",i.emissiveMapEncoding?Gt("emissiveMapTexelToLinear",i.emissiveMapEncoding):"",i.outputEncoding?Ht("linearToOutputTexel",i.outputEncoding):"",i.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Yt).join("\n")),s=$t(s,i),s=Zt(s,i),u=$t(u,i),u=Zt(u,i),n.isShaderMaterial||(s=Jt(s),u=Jt(u));var _=p+s,x=d+u,b=Bt(r,r.VERTEX_SHADER,_),w=Bt(r,r.FRAGMENT_SHADER,x);r.attachShader(y,b),r.attachShader(y,w),void 0!==n.index0AttributeName?r.bindAttribLocation(y,0,n.index0AttributeName):i.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y);var T=r.getProgramInfoLog(y),M=r.getShaderInfoLog(b),E=r.getShaderInfoLog(w),S=!0,A=!0;r.getProgramParameter(y,r.LINK_STATUS)===!1?(S=!1,console.error("THREE.WebGLProgram: shader error: ",r.getError(),"gl.VALIDATE_STATUS",r.getProgramParameter(y,r.VALIDATE_STATUS),"gl.getProgramInfoLog",T,M,E)):""!==T?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",T):""!==M&&""!==E||(A=!1),A&&(this.diagnostics={runnable:S,material:n,programLog:T,vertexShader:{log:M,prefix:p},fragmentShader:{log:E,prefix:d}}),r.deleteShader(b),r.deleteShader(w);var P;this.getUniforms=function(){return void 0===P&&(P=new W(r,y,t)),P};var R;return this.getAttributes=function(){return void 0===R&&(R=qt(r,y)),R},this.destroy=function(){r.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Zu++,this.code=e,this.usedTimes=1,this.program=y,this.vertexShader=b,this.fragmentShader=w,this}function Kt(t,e){function n(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var n=e.maxVertexUniforms,i=Math.floor((n-20)/4),r=i;return void 0!==t&&t&&t.isSkinnedMesh&&(r=Math.min(t.skeleton.bones.length,r),r<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+r+" (try OpenGL instead of ANGLE)")),r}function i(t,e){var n;return t?t&&t.isTexture?n=t.encoding:t&&t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=Aa,n===Aa&&e&&(n=Ra),n}var r=[],o={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking"];this.getParameters=function(r,a,s,u,c,l){var h=o[r.type],f=n(l),p=t.getPrecision();null!==r.precision&&(p=e.getMaxPrecision(r.precision),p!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",p,"instead."));var d=t.getCurrentRenderTarget(),m={shaderID:h,precision:p,supportsVertexTextures:e.vertexTextures,outputEncoding:i(d?d.texture:null,t.gammaOutput),map:!!r.map,mapEncoding:i(r.map,t.gammaInput),envMap:!!r.envMap,envMapMode:r.envMap&&r.envMap.mapping,envMapEncoding:i(r.envMap,t.gammaInput),envMapCubeUV:!!r.envMap&&(r.envMap.mapping===So||r.envMap.mapping===Ao),lightMap:!!r.lightMap,aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:i(r.emissiveMap,t.gammaInput),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,combine:r.combine,vertexColors:r.vertexColors,fog:!!s,useFog:r.fog,fogExp:s&&s.isFogExp2,flatShading:r.shading===Rr,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:r.skinning,maxBones:f,useVertexTexture:e.floatVertexTextures&&l&&l.skeleton&&l.skeleton.useVertexTexture,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numHemiLights:a.hemi.length,numClippingPlanes:u,numClipIntersection:c,shadowMapEnabled:t.shadowMap.enabled&&l.receiveShadow&&a.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===Pr,flipSided:r.side===Ar,depthPacking:void 0!==r.depthPacking&&r.depthPacking};return m},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)n.push(i),n.push(t.defines[i]);for(var r=0;r<a.length;r++)n.push(e[a[r]]);return n.join()},this.acquireProgram=function(e,n,i){for(var o,a=0,s=r.length;a<s;a++){var u=r[a];if(u.code===i){o=u,++o.usedTimes;break}}return void 0===o&&(o=new Qt(t,i,e,n),r.push(o)),o},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=r.indexOf(t);r[e]=r[r.length-1],r.pop(),t.destroy()}},this.programs=r}function te(t,e,n){function i(t){var r=t.target,s=u[r.id];null!==s.index&&o(s.index),a(s.attributes),r.removeEventListener("dispose",i),delete u[r.id];var c=e.get(r);c.wireframe&&o(c.wireframe),e.delete(r);var l=e.get(s);l.wireframe&&o(l.wireframe),e.delete(s),n.memory.geometries--}function r(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function o(e){var n=r(e);void 0!==n&&(t.deleteBuffer(n),s(e))}function a(t){for(var e in t)o(t[e])}function s(t){t.isInterleavedBufferAttribute?e.delete(t.data):e.delete(t)}var u={};return{get:function(t){var e=t.geometry;if(void 0!==u[e.id])return u[e.id];e.addEventListener("dispose",i);var r;return e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Rt).setFromObject(t)),r=e._bufferGeometry),u[e.id]=r,n.memory.geometries++,r}}}function ee(t,e,n){function i(e){var n=c.get(e);e.geometry.isGeometry&&n.updateFromObject(e);var i=n.index,o=n.attributes;null!==i&&r(i,t.ELEMENT_ARRAY_BUFFER);for(var a in o)r(o[a],t.ARRAY_BUFFER);var s=n.morphAttributes;for(var a in s)for(var u=s[a],l=0,h=u.length;l<h;l++)r(u[l],t.ARRAY_BUFFER);
return n}function r(t,n){var i=t.isInterleavedBufferAttribute?t.data:t,r=e.get(i);void 0===r.__webglBuffer?o(r,i,n):r.version!==i.version&&a(r,i,n)}function o(e,n,i){e.__webglBuffer=t.createBuffer(),t.bindBuffer(i,e.__webglBuffer);var r=n.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(i,n.array,r),e.version=n.version}function a(e,n,i){t.bindBuffer(i,e.__webglBuffer),n.dynamic===!1?t.bufferData(i,n.array,t.STATIC_DRAW):n.updateRange.count===-1?t.bufferSubData(i,0,n.array):0===n.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(i,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0),e.version=n.version}function s(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function u(n){var i=e.get(n);if(void 0!==i.wireframe)return i.wireframe;var o=[],a=n.index,s=n.attributes,u=s.position;if(null!==a)for(var c=a.array,l=0,h=c.length;l<h;l+=3){var f=c[l+0],p=c[l+1],d=c[l+2];o.push(f,p,p,d,d,f)}else for(var c=s.position.array,l=0,h=c.length/3-1;l<h;l+=3){var f=l+0,p=l+1,d=l+2;o.push(f,p,p,d,d,f)}var m=u.count>65535?Uint32Array:Uint16Array,g=new mt(new m(o),1);return r(g,t.ELEMENT_ARRAY_BUFFER),i.wireframe=g,g}var c=new te(t,e,n);return{getAttributeBuffer:s,getWireframeAttribute:u,update:i}}function ne(t,e,n,i,r,o,a){function s(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=Math.floor(t.width*n),i.height=Math.floor(t.height*n);var r=i.getContext("2d");return r.drawImage(t,0,0,t.width,t.height,0,0,i.width,i.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+i.width+"x"+i.height,t),i}return t}function u(t){return Ua.isPowerOfTwo(t.width)&&Ua.isPowerOfTwo(t.height)}function c(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=Ua.nearestPowerOfTwo(t.width),e.height=Ua.nearestPowerOfTwo(t.height);var n=e.getContext("2d");return n.drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}function l(t){return t.wrapS!==Co||t.wrapT!==Co||t.minFilter!==Do&&t.minFilter!==Fo}function h(e){return e===Do||e===Io||e===No?t.NEAREST:t.LINEAR}function f(t){var e=t.target;e.removeEventListener("dispose",f),d(e),A.textures--}function p(t){var e=t.target;e.removeEventListener("dispose",p),m(e),A.textures--}function d(e){var n=i.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}i.delete(e)}function m(e){var n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e&&e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);i.delete(e.texture),i.delete(e)}}function g(e,r){var o=i.get(e);if(e.version>0&&o.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(a.complete!==!1)return void x(o,e,r);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}n.activeTexture(t.TEXTURE0+r),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function v(e,a){var c=i.get(e);if(6===e.image.length)if(e.version>0&&c.__version!==e.version){c.__image__webglTextureCube||(e.addEventListener("dispose",f),c.__image__webglTextureCube=t.createTexture(),A.textures++),n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var l=e&&e.isCompressedTexture,h=e.image[0]&&e.image[0].isDataTexture,p=[],d=0;d<6;d++)l||h?p[d]=h?e.image[d].image:e.image[d]:p[d]=s(e.image[d],r.maxCubemapSize);var m=p[0],g=u(m),v=o(e.format),y=o(e.type);_(t.TEXTURE_CUBE_MAP,e,g);for(var d=0;d<6;d++)if(l)for(var x,b=p[d].mipmaps,w=0,T=b.length;w<T;w++)x=b[w],e.format!==ta&&e.format!==Ko?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+d,w,v,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+d,w,v,x.width,x.height,0,v,y,x.data);else h?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+d,0,v,p[d].width,p[d].height,0,v,y,p[d].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+d,0,v,v,y,p[d]);e.generateMipmaps&&g&&t.generateMipmap(t.TEXTURE_CUBE_MAP),c.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)}function y(e,r){n.activeTexture(t.TEXTURE0+r),n.bindTexture(t.TEXTURE_CUBE_MAP,i.get(e).__webglTexture)}function _(n,a,s){var u;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,o(a.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o(a.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o(a.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===Co&&a.wrapT===Co||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),t.texParameteri(n,t.TEXTURE_MAG_FILTER,h(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,h(a.minFilter)),a.minFilter!==Do&&a.minFilter!==Fo&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),u=e.get("EXT_texture_filter_anisotropic")){if(a.type===Xo&&null===e.get("OES_texture_float_linear"))return;if(a.type===qo&&null===e.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(t.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function x(e,i,a){void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",f),e.__webglTexture=t.createTexture(),A.textures++),n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,i.unpackAlignment);var h=s(i.image,r.maxTextureSize);l(i)&&u(h)===!1&&(h=c(h));var p=u(h),d=o(i.format),m=o(i.type);_(t.TEXTURE_2D,i,p);var g,v=i.mipmaps;if(i&&i.isDepthTexture){var y=t.DEPTH_COMPONENT;if(i.type===Xo){if(!P)throw new Error("Float Depth Texture only supported in WebGL2.0");y=t.DEPTH_COMPONENT32F}else P&&(y=t.DEPTH_COMPONENT16);i.format===oa&&(y=t.DEPTH_STENCIL),n.texImage2D(t.TEXTURE_2D,0,y,h.width,h.height,0,d,m,null)}else if(i&&i.isDataTexture)if(v.length>0&&p){for(var x=0,b=v.length;x<b;x++)g=v[x],n.texImage2D(t.TEXTURE_2D,x,d,g.width,g.height,0,d,m,g.data);i.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,d,h.width,h.height,0,d,m,h.data);else if(i&&i.isCompressedTexture)for(var x=0,b=v.length;x<b;x++)g=v[x],i.format!==ta&&i.format!==Ko?n.getCompressedTextureFormats().indexOf(d)>-1?n.compressedTexImage2D(t.TEXTURE_2D,x,d,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,x,d,g.width,g.height,0,d,m,g.data);else if(v.length>0&&p){for(var x=0,b=v.length;x<b;x++)g=v[x],n.texImage2D(t.TEXTURE_2D,x,d,d,m,g);i.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,d,d,m,h);i.generateMipmaps&&p&&t.generateMipmap(t.TEXTURE_2D),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function b(e,r,a,s){var u=o(r.texture.format),c=o(r.texture.type);n.texImage2D(s,0,u,r.width,r.height,0,u,c,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function w(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function T(e,n){var r=n&&n.isWebGLRenderTargetCube;if(r)throw new Error("Depth Texture with cube render targets is not supported!");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),g(n.depthTexture,0);var o=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===ra)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0);else{if(n.depthTexture.format!==oa)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0)}}function M(e){var n=i.get(e),r=e&&e.isWebGLRenderTargetCube;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");T(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),w(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),w(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function E(e){var r=i.get(e),o=i.get(e.texture);e.addEventListener("dispose",p),o.__webglTexture=t.createTexture(),A.textures++;var a=e&&e.isWebGLRenderTargetCube,s=u(e);if(a){r.__webglFramebuffer=[];for(var c=0;c<6;c++)r.__webglFramebuffer[c]=t.createFramebuffer()}else r.__webglFramebuffer=t.createFramebuffer();if(a){n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),_(t.TEXTURE_CUBE_MAP,e.texture,s);for(var c=0;c<6;c++)b(r.__webglFramebuffer[c],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+c);e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),_(t.TEXTURE_2D,e.texture,s),b(r.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&M(e)}function S(e){var r=e.texture;if(r.generateMipmaps&&u(e)&&r.minFilter!==Do&&r.minFilter!==Fo){var o=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=i.get(r).__webglTexture;n.bindTexture(o,a),t.generateMipmap(o),n.bindTexture(o,null)}}var A=a.memory,P="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=g,this.setTextureCube=v,this.setTextureCubeDynamic=y,this.setupRenderTarget=E,this.updateRenderTargetMipmap=S}function ie(){var t={};return{get:function(e){var n=e.uuid,i=t[n];return void 0===i&&(i={},t[n]=i),i},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}}function re(t,e,n){function i(){var e=!1,n=new o,i=null,r=new o;return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,o,a){n.set(e,i,o,a),r.equals(n)===!1&&(t.clearColor(e,i,o,a),r.copy(n))},reset:function(){e=!1,i=null,r.set(0,0,0,1)}}}function r(){var e=!1,n=null,i=null,r=null;return{setTest:function(e){e?p(t.DEPTH_TEST):d(t.DEPTH_TEST)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case io:t.depthFunc(t.NEVER);break;case ro:t.depthFunc(t.ALWAYS);break;case oo:t.depthFunc(t.LESS);break;case ao:t.depthFunc(t.LEQUAL);break;case so:t.depthFunc(t.EQUAL);break;case uo:t.depthFunc(t.GEQUAL);break;case co:t.depthFunc(t.GREATER);break;case lo:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}}function a(){var e=!1,n=null,i=null,r=null,o=null,a=null,s=null,u=null,c=null;return{setTest:function(e){e?p(t.STENCIL_TEST):d(t.STENCIL_TEST)},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,a){i===e&&r===n&&o===a||(t.stencilFunc(e,n,a),i=e,r=n,o=a)},setOp:function(e,n,i){a===e&&s===n&&u===i||(t.stencilOp(e,n,i),a=e,s=n,u=i)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,i=null,r=null,o=null,a=null,s=null,u=null,c=null}}}function s(e,n,i){var r=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<i;a++)t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,r);return o}function u(){N(0,0,0,1),F(1),U(0),p(t.DEPTH_TEST),x(ao),E(!1),S(yr),p(t.CULL_FACE),p(t.BLEND),g(Nr)}function c(){for(var t=0,e=W.length;t<e;t++)W[t]=0}function l(n){if(W[n]=1,0===X[n]&&(t.enableVertexAttribArray(n),X[n]=1),0!==q[n]){var i=e.get("ANGLE_instanced_arrays");i.vertexAttribDivisorANGLE(n,0),q[n]=0}}function h(e,n,i){W[e]=1,0===X[e]&&(t.enableVertexAttribArray(e),X[e]=1),q[e]!==n&&(i.vertexAttribDivisorANGLE(e,n),q[e]=n)}function f(){for(var e=0,n=X.length;e!==n;++e)X[e]!==W[e]&&(t.disableVertexAttribArray(e),X[e]=0)}function p(e){Y[e]!==!0&&(t.enable(e),Y[e]=!0)}function d(e){Y[e]!==!1&&(t.disable(e),Y[e]=!1)}function m(){if(null===Z&&(Z=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),i=0;i<n.length;i++)Z.push(n[i]);return Z}function g(e,i,r,o,a,s,u,c){e!==Ir?p(t.BLEND):d(t.BLEND),e===$&&c===it||(e===Fr?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===Ur?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===kr?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),$=e,it=c),e===zr?(a=a||i,s=s||r,u=u||o,i===J&&a===tt||(t.blendEquationSeparate(n(i),n(a)),J=i,tt=a),r===Q&&o===K&&s===et&&u===nt||(t.blendFuncSeparate(n(r),n(o),n(s),n(u)),Q=r,K=o,et=s,nt=u)):(J=null,Q=null,K=null,tt=null,et=null,nt=null)}function v(t){j.setMask(t)}function y(t){G.setTest(t)}function _(t){G.setMask(t)}function x(t){G.setFunc(t)}function b(t){H.setTest(t)}function w(t){H.setMask(t)}function T(t,e,n){H.setFunc(t,e,n)}function M(t,e,n){H.setOp(t,e,n)}function E(e){rt!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),rt=e)}function S(e){e!==vr?(p(t.CULL_FACE),e!==ot&&(e===yr?t.cullFace(t.BACK):e===_r?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):d(t.CULL_FACE),ot=e}function A(e){e!==at&&(t.lineWidth(e),at=e)}function P(e,n,i){e?(p(t.POLYGON_OFFSET_FILL),st===n&&ut===i||(t.polygonOffset(n,i),st=n,ut=i)):d(t.POLYGON_OFFSET_FILL)}function R(){return ct}function C(e){ct=e,e?p(t.SCISSOR_TEST):d(t.SCISSOR_TEST)}function L(e){void 0===e&&(e=t.TEXTURE0+lt-1),ht!==e&&(t.activeTexture(e),ht=e)}function O(e,n){null===ht&&L();var i=ft[ht];void 0===i&&(i={type:void 0,texture:void 0},ft[ht]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||mt[e]),i.type=e,i.texture=n)}function D(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}}function I(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}}function N(t,e,n,i){j.setClear(t,e,n,i)}function F(t){G.setClear(t)}function U(t){H.setClear(t)}function k(e){pt.equals(e)===!1&&(t.scissor(e.x,e.y,e.z,e.w),pt.copy(e))}function z(e){dt.equals(e)===!1&&(t.viewport(e.x,e.y,e.z,e.w),dt.copy(e))}function B(){for(var e=0;e<X.length;e++)1===X[e]&&(t.disableVertexAttribArray(e),X[e]=0);Y={},Z=null,ht=null,ft={},$=null,rt=null,ot=null,j.reset(),G.reset(),H.reset()}var j=new i,G=new r,H=new a,V=t.getParameter(t.MAX_VERTEX_ATTRIBS),W=new Uint8Array(V),X=new Uint8Array(V),q=new Uint8Array(V),Y={},Z=null,$=null,J=null,Q=null,K=null,tt=null,et=null,nt=null,it=!1,rt=null,ot=null,at=null,st=null,ut=null,ct=null,lt=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),ht=null,ft={},pt=new o,dt=new o,mt={};return mt[t.TEXTURE_2D]=s(t.TEXTURE_2D,t.TEXTURE_2D,1),mt[t.TEXTURE_CUBE_MAP]=s(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:j,depth:G,stencil:H},init:u,initAttributes:c,enableAttribute:l,enableAttributeAndDivisor:h,disableUnusedAttributes:f,enable:p,disable:d,getCompressedTextureFormats:m,setBlending:g,setColorWrite:v,setDepthTest:y,setDepthWrite:_,setDepthFunc:x,setStencilTest:b,setStencilWrite:w,setStencilFunc:T,setStencilOp:M,setFlipSided:E,setCullFace:S,setLineWidth:A,setPolygonOffset:P,getScissorTest:R,setScissorTest:C,activeTexture:L,bindTexture:O,compressedTexImage2D:D,texImage2D:I,clearColor:N,clearDepth:F,clearStencil:U,scissor:k,viewport:z,reset:B}}function oe(t,e,n){function i(){if(void 0!==o)return o;var n=e.get("EXT_texture_filter_anisotropic");return o=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a=void 0!==n.precision?n.precision:"highp",s=r(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=n.logarithmicDepthBuffer===!0&&!!e.get("EXT_frag_depth"),c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),f=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),d=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),g=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),v=l>0,y=!!e.get("OES_texture_float"),_=v&&y;return{getMaxAnisotropy:i,getMaxPrecision:r,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:h,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:d,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:_}}function ae(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":i=t.getExtension("WEBGL_compressed_texture_etc1");break;default:i=t.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=i,i}}}function se(){function t(){c.value!==i&&(c.value=i,c.needsUpdate=r>0),n.numPlanes=r,n.numIntersection=0}function e(t,e,i,r){var o=null!==t?t.length:0,a=null;if(0!==o){if(a=c.value,r!==!0||null===a){var l=i+4*o,h=e.matrixWorldInverse;u.getNormalMatrix(h),(null===a||a.length<l)&&(a=new Float32Array(l));for(var f=0,p=i;f!==o;++f,p+=4)s.copy(t[f]).applyMatrix4(h,u),s.normal.toArray(a,p),a[p+3]=s.constant}c.value=a,c.needsUpdate=!0}return n.numPlanes=o,a}var n=this,i=null,r=0,o=!1,a=!1,s=new it,u=new nt,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var s=0!==t.length||n||0!==r||o;return o=n,i=e(t,a,0),r=t.length,s},this.beginShadows=function(){a=!0,e(null)},this.endShadows=function(){a=!1,t()},this.setState=function(n,s,u,l,h,f){if(!o||null===n||0===n.length||a&&!u)a?e(null):t();else{var p=a?0:r,d=4*p,m=h.clippingState||null;c.value=m,m=e(n,l,d,f);for(var g=0;g!==d;++g)m[g]=i[g];h.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=p}}}function ue(t){function e(){return null===ht?Et:1}function n(t,e,n,i){q===!0&&(t*=i,e*=i,n*=i),Jt.clearColor(t,e,n,i)}function i(){Jt.init(),Jt.scissor(vt.copy(St).multiplyScalar(Et)),Jt.viewport(_t.copy(Pt).multiplyScalar(Et)),n(bt.r,bt.g,bt.b,wt)}function r(){lt=null,gt=null,mt="",pt=-1,Jt.reset()}function a(t){t.preventDefault(),r(),i(),Qt.clear()}function s(t){var e=t.target;e.removeEventListener("dispose",s),u(e)}function u(t){h(t),Qt.delete(t)}function h(t){var e=Qt.get(t).program;t.program=void 0,void 0!==e&&ce.releaseProgram(e)}function f(t,e,n,i){var r;if(n&&n.isInstancedBufferGeometry&&(r=Zt.get("ANGLE_instanced_arrays"),null===r))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===i&&(i=0),Jt.initAttributes();var o=n.attributes,a=e.getAttributes(),s=t.defaultAttributeValues;for(var u in a){var c=a[u];if(c>=0){var l=o[u];if(void 0!==l){var h=qt.FLOAT,f=l.array,p=l.normalized;f instanceof Float32Array?h=qt.FLOAT:f instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):f instanceof Uint16Array?h=qt.UNSIGNED_SHORT:f instanceof Int16Array?h=qt.SHORT:f instanceof Uint32Array?h=qt.UNSIGNED_INT:f instanceof Int32Array?h=qt.INT:f instanceof Int8Array?h=qt.BYTE:f instanceof Uint8Array&&(h=qt.UNSIGNED_BYTE);var d=l.itemSize,m=ue.getAttributeBuffer(l);if(l.isInterleavedBufferAttribute){var g=l.data,v=g.stride,y=l.offset;g&&g.isInstancedInterleavedBuffer?(Jt.enableAttributeAndDivisor(c,g.meshPerAttribute,r),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):Jt.enableAttribute(c),qt.bindBuffer(qt.ARRAY_BUFFER,m),qt.vertexAttribPointer(c,d,h,p,v*g.array.BYTES_PER_ELEMENT,(i*v+y)*g.array.BYTES_PER_ELEMENT)}else l.isInstancedBufferAttribute?(Jt.enableAttributeAndDivisor(c,l.meshPerAttribute,r),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):Jt.enableAttribute(c),qt.bindBuffer(qt.ARRAY_BUFFER,m),qt.vertexAttribPointer(c,d,h,p,0,i*d*l.array.BYTES_PER_ELEMENT)}else if(void 0!==s){var _=s[u];if(void 0!==_)switch(_.length){case 2:qt.vertexAttrib2fv(c,_);break;case 3:qt.vertexAttrib3fv(c,_);break;case 4:qt.vertexAttrib4fv(c,_);break;default:qt.vertexAttrib1fv(c,_)}}}}Jt.disableUnusedAttributes()}function p(t,e){return Math.abs(e[0])-Math.abs(t[0])}function d(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function m(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function g(t,e,n,i,r){var o,a;n.transparent?(o=nt,a=++it):(o=K,a=++tt);var s=o[a];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=n,s.z=Vt.z,s.group=r):(s={id:t.id,object:t,geometry:e,material:n,z:Vt.z,group:r},o.push(s))}function v(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Gt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),_(Gt)}function y(t){return Gt.center.set(0,0,0),Gt.radius=.7071067811865476,Gt.applyMatrix4(t.matrixWorld),_(Gt)}function _(t){if(!Dt.intersectsSphere(t))return!1;var e=zt.numPlanes;if(0===e)return!0;var n=ct.clippingPlanes,i=t.center,r=-t.radius,o=0;do if(n[o].distanceToPoint(i)<r)return!1;while(++o!==e);return!0}function x(t,e){if(t.visible!==!1){var n=0!==(t.layers.mask&e.layers.mask);if(n)if(t.isLight)J.push(t);else if(t.isSprite)t.frustumCulled!==!1&&y(t)!==!0||st.push(t);else if(t.isLensFlare)ut.push(t);else if(t.isImmediateRenderObject)ct.sortObjects===!0&&(Vt.setFromMatrixPosition(t.matrixWorld),Vt.applyProjection(Ht)),g(t,null,t.material,Vt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),t.frustumCulled===!1||v(t)===!0)){var i=t.material;if(i.visible===!0){ct.sortObjects===!0&&(Vt.setFromMatrixPosition(t.matrixWorld),Vt.applyProjection(Ht));var r=ue.update(t);if(i.isMultiMaterial)for(var o=r.groups,a=i.materials,s=0,u=o.length;s<u;s++){var c=o[s],l=a[c.materialIndex];l.visible===!0&&g(t,r,l,Vt.z,c)}else g(t,r,i,Vt.z,null)}}for(var h=t.children,s=0,u=h.length;s<u;s++)x(h[s],e)}}function b(t,e,n,i){for(var r=0,o=t.length;r<o;r++){var a=t[r],s=a.object,u=a.geometry,c=void 0===i?a.material:i,l=a.group;if(s.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(ct,e,n,u,c,l),s.isImmediateRenderObject){T(c);var h=M(n,e.fog,c,s);mt="",s.render(function(t){ct.renderBufferImmediate(t,h,c)})}else ct.renderBufferDirect(n,e.fog,u,c,s,l);s.onAfterRender(ct,e,n,u,c,l)}}function w(t,e,n){var i=Qt.get(t),r=ce.getParameters(t,Wt,e,zt.numPlanes,zt.numIntersection,n),o=ce.getProgramCode(t,r),a=i.program,u=!0;if(void 0===a)t.addEventListener("dispose",s);else if(a.code!==o)h(t);else{if(void 0!==r.shaderID)return;u=!1}if(u){if(r.shaderID){var c=Wu[r.shaderID];i.__webglShader={name:t.type,uniforms:Va.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else i.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=i.__webglShader,a=ce.acquireProgram(t,r,o),i.program=a,t.program=a}var l=a.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var f=0;f<ct.maxMorphTargets;f++)l["morphTarget"+f]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var f=0;f<ct.maxMorphNormals;f++)l["morphNormal"+f]>=0&&t.numSupportedMorphNormals++}var p=i.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&t.clipping!==!0||(i.numClippingPlanes=zt.numPlanes,i.numIntersection=zt.numIntersection,p.clippingPlanes=zt.uniform),i.fog=e,i.lightsHash=Wt.hash,t.lights&&(p.ambientLightColor.value=Wt.ambient,p.directionalLights.value=Wt.directional,p.spotLights.value=Wt.spot,p.pointLights.value=Wt.point,p.hemisphereLights.value=Wt.hemi,p.directionalShadowMap.value=Wt.directionalShadowMap,p.directionalShadowMatrix.value=Wt.directionalShadowMatrix,p.spotShadowMap.value=Wt.spotShadowMap,p.spotShadowMatrix.value=Wt.spotShadowMatrix,p.pointShadowMap.value=Wt.pointShadowMap,p.pointShadowMatrix.value=Wt.pointShadowMatrix);var d=i.program.getUniforms(),m=W.seqWithValue(d.seq,p);i.uniformsList=m}function T(t){t.side===Pr?Jt.disable(qt.CULL_FACE):Jt.enable(qt.CULL_FACE),Jt.setFlipSided(t.side===Ar),t.transparent===!0?Jt.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):Jt.setBlending(Ir),Jt.setDepthFunc(t.depthFunc),Jt.setDepthTest(t.depthTest),Jt.setDepthWrite(t.depthWrite),Jt.setColorWrite(t.colorWrite),Jt.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function M(t,e,n,i){xt=0;var r=Qt.get(n);if(Bt&&(jt||t!==gt)){var o=t===gt&&n.id===pt;zt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,r,o)}n.needsUpdate===!1&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==e?n.needsUpdate=!0:n.lights&&r.lightsHash!==Wt.hash?n.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===zt.numPlanes&&r.numIntersection===zt.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(w(n,e,i),n.needsUpdate=!1);var a=!1,s=!1,u=!1,c=r.program,l=c.getUniforms(),h=r.__webglShader.uniforms;if(c.id!==lt&&(qt.useProgram(c.program),lt=c.id,a=!0,s=!0,u=!0),n.id!==pt&&(pt=n.id,s=!0),a||t!==gt){if(l.set(qt,t,"projectionMatrix"),$t.logarithmicDepthBuffer&&l.setValue(qt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==gt&&(gt=t,s=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var f=l.map.cameraPosition;void 0!==f&&f.setValue(qt,Vt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&l.setValue(qt,"viewMatrix",t.matrixWorldInverse),l.set(qt,ct,"toneMappingExposure"),l.set(qt,ct,"toneMappingWhitePoint")}if(n.skinning){l.setOptional(qt,i,"bindMatrix"),l.setOptional(qt,i,"bindMatrixInverse");var p=i.skeleton;p&&($t.floatVertexTextures&&p.useVertexTexture?(l.set(qt,p,"boneTexture"),l.set(qt,p,"boneTextureWidth"),l.set(qt,p,"boneTextureHeight")):l.setOptional(qt,p,"boneMatrices"))}return s&&(n.lights&&I(h,u),e&&n.fog&&R(h,e),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshDepthMaterial)&&E(h,n),n.isLineBasicMaterial?S(h,n):n.isLineDashedMaterial?(S(h,n),A(h,n)):n.isPointsMaterial?P(h,n):n.isMeshLambertMaterial?C(h,n):n.isMeshPhongMaterial?L(h,n):n.isMeshPhysicalMaterial?D(h,n):n.isMeshStandardMaterial?O(h,n):n.isMeshDepthMaterial?n.displacementMap&&(h.displacementMap.value=n.displacementMap,h.displacementScale.value=n.displacementScale,h.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&(h.opacity.value=n.opacity),W.upload(qt,r.uniformsList,h,ct)),l.set(qt,i,"modelViewMatrix"),l.set(qt,i,"normalMatrix"),l.setValue(qt,"modelMatrix",i.matrixWorld),c}function E(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;if(e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var i=n.offset,r=n.repeat;t.offsetRepeat.value.set(i.x,i.y,r.x,r.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function S(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function A(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function P(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*Et,t.scale.value=.5*Mt,
t.map.value=e.map,null!==e.map){var n=e.map.offset,i=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,i.x,i.y)}}function R(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function C(t,e){e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function L(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function O(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function D(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,O(t,e)}function I(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function N(t){for(var e=0,n=0,i=t.length;n<i;n++){var r=t[n];r.castShadow&&(Wt.shadows[e++]=r)}Wt.shadows.length=e}function F(t,e){var n,i,r,o,a,s,u,c=0,h=0,f=0,p=e.matrixWorldInverse,d=0,m=0,g=0,v=0;for(n=0,i=t.length;n<i;n++)if(r=t[n],o=r.color,a=r.intensity,s=r.distance,u=r.shadow&&r.shadow.map?r.shadow.map.texture:null,r.isAmbientLight)c+=o.r*a,h+=o.g*a,f+=o.b*a;else if(r.isDirectionalLight){var y=le.get(r);y.color.copy(r.color).multiplyScalar(r.intensity),y.direction.setFromMatrixPosition(r.matrixWorld),Vt.setFromMatrixPosition(r.target.matrixWorld),y.direction.sub(Vt),y.direction.transformDirection(p),y.shadow=r.castShadow,r.castShadow&&(y.shadowBias=r.shadow.bias,y.shadowRadius=r.shadow.radius,y.shadowMapSize=r.shadow.mapSize),Wt.directionalShadowMap[d]=u,Wt.directionalShadowMatrix[d]=r.shadow.matrix,Wt.directional[d++]=y}else if(r.isSpotLight){var y=le.get(r);y.position.setFromMatrixPosition(r.matrixWorld),y.position.applyMatrix4(p),y.color.copy(o).multiplyScalar(a),y.distance=s,y.direction.setFromMatrixPosition(r.matrixWorld),Vt.setFromMatrixPosition(r.target.matrixWorld),y.direction.sub(Vt),y.direction.transformDirection(p),y.coneCos=Math.cos(r.angle),y.penumbraCos=Math.cos(r.angle*(1-r.penumbra)),y.decay=0===r.distance?0:r.decay,y.shadow=r.castShadow,r.castShadow&&(y.shadowBias=r.shadow.bias,y.shadowRadius=r.shadow.radius,y.shadowMapSize=r.shadow.mapSize),Wt.spotShadowMap[g]=u,Wt.spotShadowMatrix[g]=r.shadow.matrix,Wt.spot[g++]=y}else if(r.isPointLight){var y=le.get(r);y.position.setFromMatrixPosition(r.matrixWorld),y.position.applyMatrix4(p),y.color.copy(r.color).multiplyScalar(r.intensity),y.distance=r.distance,y.decay=0===r.distance?0:r.decay,y.shadow=r.castShadow,r.castShadow&&(y.shadowBias=r.shadow.bias,y.shadowRadius=r.shadow.radius,y.shadowMapSize=r.shadow.mapSize),Wt.pointShadowMap[m]=u,void 0===Wt.pointShadowMatrix[m]&&(Wt.pointShadowMatrix[m]=new l),Vt.setFromMatrixPosition(r.matrixWorld).negate(),Wt.pointShadowMatrix[m].identity().setPosition(Vt),Wt.point[m++]=y}else if(r.isHemisphereLight){var y=le.get(r);y.direction.setFromMatrixPosition(r.matrixWorld),y.direction.transformDirection(p),y.direction.normalize(),y.skyColor.copy(r.color).multiplyScalar(a),y.groundColor.copy(r.groundColor).multiplyScalar(a),Wt.hemi[v++]=y}Wt.ambient[0]=c,Wt.ambient[1]=h,Wt.ambient[2]=f,Wt.directional.length=d,Wt.spot.length=g,Wt.point.length=m,Wt.hemi.length=v,Wt.hash=d+","+m+","+g+","+v+","+Wt.shadows.length}function U(){var t=xt;return t>=$t.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+$t.maxTextures),xt+=1,t}function k(t){var e;if(t===Ro)return qt.REPEAT;if(t===Co)return qt.CLAMP_TO_EDGE;if(t===Lo)return qt.MIRRORED_REPEAT;if(t===Do)return qt.NEAREST;if(t===Io)return qt.NEAREST_MIPMAP_NEAREST;if(t===No)return qt.NEAREST_MIPMAP_LINEAR;if(t===Fo)return qt.LINEAR;if(t===Uo)return qt.LINEAR_MIPMAP_NEAREST;if(t===ko)return qt.LINEAR_MIPMAP_LINEAR;if(t===Bo)return qt.UNSIGNED_BYTE;if(t===Yo)return qt.UNSIGNED_SHORT_4_4_4_4;if(t===Zo)return qt.UNSIGNED_SHORT_5_5_5_1;if(t===$o)return qt.UNSIGNED_SHORT_5_6_5;if(t===jo)return qt.BYTE;if(t===Go)return qt.SHORT;if(t===Ho)return qt.UNSIGNED_SHORT;if(t===Vo)return qt.INT;if(t===Wo)return qt.UNSIGNED_INT;if(t===Xo)return qt.FLOAT;if(t===qo&&(e=Zt.get("OES_texture_half_float"),null!==e))return e.HALF_FLOAT_OES;if(t===Qo)return qt.ALPHA;if(t===Ko)return qt.RGB;if(t===ta)return qt.RGBA;if(t===ea)return qt.LUMINANCE;if(t===na)return qt.LUMINANCE_ALPHA;if(t===ra)return qt.DEPTH_COMPONENT;if(t===oa)return qt.DEPTH_STENCIL;if(t===jr)return qt.FUNC_ADD;if(t===Gr)return qt.FUNC_SUBTRACT;if(t===Hr)return qt.FUNC_REVERSE_SUBTRACT;if(t===Xr)return qt.ZERO;if(t===qr)return qt.ONE;if(t===Yr)return qt.SRC_COLOR;if(t===Zr)return qt.ONE_MINUS_SRC_COLOR;if(t===$r)return qt.SRC_ALPHA;if(t===Jr)return qt.ONE_MINUS_SRC_ALPHA;if(t===Qr)return qt.DST_ALPHA;if(t===Kr)return qt.ONE_MINUS_DST_ALPHA;if(t===to)return qt.DST_COLOR;if(t===eo)return qt.ONE_MINUS_DST_COLOR;if(t===no)return qt.SRC_ALPHA_SATURATE;if((t===aa||t===sa||t===ua||t===ca)&&(e=Zt.get("WEBGL_compressed_texture_s3tc"),null!==e)){if(t===aa)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===sa)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===ua)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===ca)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===la||t===ha||t===fa||t===pa)&&(e=Zt.get("WEBGL_compressed_texture_pvrtc"),null!==e)){if(t===la)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===ha)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===fa)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===pa)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===da&&(e=Zt.get("WEBGL_compressed_texture_etc1"),null!==e))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===Vr||t===Wr)&&(e=Zt.get("EXT_blend_minmax"),null!==e)){if(t===Vr)return e.MIN_EXT;if(t===Wr)return e.MAX_EXT}return t===Jo&&(e=Zt.get("WEBGL_depth_texture"),null!==e)?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer",mr),t=t||{};var z=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),B=void 0!==t.context?t.context:null,j=void 0!==t.alpha&&t.alpha,G=void 0===t.depth||t.depth,H=void 0===t.stencil||t.stencil,V=void 0!==t.antialias&&t.antialias,q=void 0===t.premultipliedAlpha||t.premultipliedAlpha,$=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,J=[],K=[],tt=-1,nt=[],it=-1,at=new Float32Array(8),st=[],ut=[];this.domElement=z,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=go,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var ct=this,lt=null,ht=null,ft=null,pt=-1,mt="",gt=null,vt=new o,yt=null,_t=new o,xt=0,bt=new X(0),wt=0,Tt=z.width,Mt=z.height,Et=1,St=new o(0,0,Tt,Mt),At=!1,Pt=new o(0,0,Tt,Mt),Dt=new rt,zt=new se,Bt=!1,jt=!1,Gt=new et,Ht=new l,Vt=new c,Wt={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Xt={calls:0,vertices:0,faces:0,points:0};this.info={render:Xt,memory:{geometries:0,textures:0},programs:null};var qt;try{var Yt={alpha:j,depth:G,stencil:H,antialias:V,premultipliedAlpha:q,preserveDrawingBuffer:$};if(qt=B||z.getContext("webgl",Yt)||z.getContext("experimental-webgl",Yt),null===qt)throw null!==z.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===qt.getShaderPrecisionFormat&&(qt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),z.addEventListener("webglcontextlost",a,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var Zt=new ae(qt);Zt.get("WEBGL_depth_texture"),Zt.get("OES_texture_float"),Zt.get("OES_texture_float_linear"),Zt.get("OES_texture_half_float"),Zt.get("OES_texture_half_float_linear"),Zt.get("OES_standard_derivatives"),Zt.get("ANGLE_instanced_arrays"),Zt.get("OES_element_index_uint")&&(Rt.MaxIndex=4294967296);var $t=new oe(qt,Zt,t),Jt=new re(qt,Zt,k),Qt=new ie,te=new ne(qt,Zt,Jt,Qt,$t,k,this.info),ue=new ee(qt,Qt,this.info),ce=new Kt(this,$t),le=new kt;this.info.programs=ce.programs;var he=new Ut(qt,Zt,Xt),fe=new Ft(qt,Zt,Xt),pe=new Nt((-1),1,1,(-1),0,1),de=new It,me=new Ct(new Ot(2,2),new dt({depthTest:!1,depthWrite:!1,fog:!1})),ge=Wu.cube,ve=new Ct(new Lt(5,5,5),new Q({uniforms:ge.uniforms,vertexShader:ge.vertexShader,fragmentShader:ge.fragmentShader,side:Ar,depthTest:!1,depthWrite:!1,fog:!1}));i(),this.context=qt,this.capabilities=$t,this.extensions=Zt,this.properties=Qt,this.state=Jt;var ye=new ot(this,Wt,ue,$t);this.shadowMap=ye;var _e=new Z(this,st),xe=new Y(this,ut);this.getContext=function(){return qt},this.getContextAttributes=function(){return qt.getContextAttributes()},this.forceContextLoss=function(){Zt.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return $t.getMaxAnisotropy()},this.getPrecision=function(){return $t.precision},this.getPixelRatio=function(){return Et},this.setPixelRatio=function(t){void 0!==t&&(Et=t,this.setSize(Pt.z,Pt.w,!1))},this.getSize=function(){return{width:Tt,height:Mt}},this.setSize=function(t,e,n){Tt=t,Mt=e,z.width=t*Et,z.height=e*Et,n!==!1&&(z.style.width=t+"px",z.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,i){Jt.viewport(Pt.set(t,e,n,i))},this.setScissor=function(t,e,n,i){Jt.scissor(St.set(t,e,n,i))},this.setScissorTest=function(t){Jt.setScissorTest(At=t)},this.getClearColor=function(){return bt},this.setClearColor=function(t,e){bt.set(t),wt=void 0!==e?e:1,n(bt.r,bt.g,bt.b,wt)},this.getClearAlpha=function(){return wt},this.setClearAlpha=function(t){wt=t,n(bt.r,bt.g,bt.b,wt)},this.clear=function(t,e,n){var i=0;(void 0===t||t)&&(i|=qt.COLOR_BUFFER_BIT),(void 0===e||e)&&(i|=qt.DEPTH_BUFFER_BIT),(void 0===n||n)&&(i|=qt.STENCIL_BUFFER_BIT),qt.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,i){this.setRenderTarget(t),this.clear(e,n,i)},this.resetGLState=r,this.dispose=function(){nt=[],it=-1,K=[],tt=-1,z.removeEventListener("webglcontextlost",a,!1)},this.renderBufferImmediate=function(t,e,n){Jt.initAttributes();var i=Qt.get(t);t.hasPositions&&!i.position&&(i.position=qt.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=qt.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=qt.createBuffer()),t.hasColors&&!i.color&&(i.color=qt.createBuffer());var r=e.getAttributes();if(t.hasPositions&&(qt.bindBuffer(qt.ARRAY_BUFFER,i.position),qt.bufferData(qt.ARRAY_BUFFER,t.positionArray,qt.DYNAMIC_DRAW),Jt.enableAttribute(r.position),qt.vertexAttribPointer(r.position,3,qt.FLOAT,!1,0,0)),t.hasNormals){if(qt.bindBuffer(qt.ARRAY_BUFFER,i.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&n.shading===Rr)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,u=(s[o+0]+s[o+3]+s[o+6])/3,c=(s[o+1]+s[o+4]+s[o+7])/3,l=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=u,s[o+1]=c,s[o+2]=l,s[o+3]=u,s[o+4]=c,s[o+5]=l,s[o+6]=u,s[o+7]=c,s[o+8]=l}qt.bufferData(qt.ARRAY_BUFFER,t.normalArray,qt.DYNAMIC_DRAW),Jt.enableAttribute(r.normal),qt.vertexAttribPointer(r.normal,3,qt.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(qt.bindBuffer(qt.ARRAY_BUFFER,i.uv),qt.bufferData(qt.ARRAY_BUFFER,t.uvArray,qt.DYNAMIC_DRAW),Jt.enableAttribute(r.uv),qt.vertexAttribPointer(r.uv,2,qt.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==Lr&&(qt.bindBuffer(qt.ARRAY_BUFFER,i.color),qt.bufferData(qt.ARRAY_BUFFER,t.colorArray,qt.DYNAMIC_DRAW),Jt.enableAttribute(r.color),qt.vertexAttribPointer(r.color,3,qt.FLOAT,!1,0,0)),Jt.disableUnusedAttributes(),qt.drawArrays(qt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,i,r,o,a){T(r);var s=M(t,n,r,o),u=!1,c=i.id+"_"+s.id+"_"+r.wireframe;c!==mt&&(mt=c,u=!0);var l=o.morphTargetInfluences;if(void 0!==l){for(var h=[],d=0,m=l.length;d<m;d++){var g=l[d];h.push([g,d])}h.sort(p),h.length>8&&(h.length=8);for(var v=i.morphAttributes,d=0,m=h.length;d<m;d++){var g=h[d];if(at[d]=g[0],0!==g[0]){var y=g[1];r.morphTargets===!0&&v.position&&i.addAttribute("morphTarget"+d,v.position[y]),r.morphNormals===!0&&v.normal&&i.addAttribute("morphNormal"+d,v.normal[y])}else r.morphTargets===!0&&i.removeAttribute("morphTarget"+d),r.morphNormals===!0&&i.removeAttribute("morphNormal"+d)}for(var d=h.length,_=at.length;d<_;d++)at[d]=0;s.getUniforms().setValue(qt,"morphTargetInfluences",at),u=!0}var y=i.index,x=i.attributes.position,b=1;r.wireframe===!0&&(y=ue.getWireframeAttribute(i),b=2);var w;null!==y?(w=fe,w.setIndex(y)):w=he,u&&(f(r,s,i),null!==y&&qt.bindBuffer(qt.ELEMENT_ARRAY_BUFFER,ue.getAttributeBuffer(y)));var E=0;null!==y?E=y.count:void 0!==x&&(E=x.count);var S=i.drawRange.start*b,A=i.drawRange.count*b,P=null!==a?a.start*b:0,R=null!==a?a.count*b:1/0,C=Math.max(S,P),L=Math.min(E,S+A,P+R)-1,O=Math.max(0,L-C+1);if(0!==O){if(o.isMesh)if(r.wireframe===!0)Jt.setLineWidth(r.wireframeLinewidth*e()),w.setMode(qt.LINES);else switch(o.drawMode){case Ma:w.setMode(qt.TRIANGLES);break;case Ea:w.setMode(qt.TRIANGLE_STRIP);break;case Sa:w.setMode(qt.TRIANGLE_FAN)}else if(o.isLine){var D=r.linewidth;void 0===D&&(D=1),Jt.setLineWidth(D*e()),o.isLineSegments?w.setMode(qt.LINES):w.setMode(qt.LINE_STRIP)}else o.isPoints&&w.setMode(qt.POINTS);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&w.renderInstances(i,C,O):w.render(C,O)}},this.render=function(t,e,i,r){if(void 0!==e&&e.isCamera!==!0)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");mt="",pt=-1,gt=null,t.autoUpdate===!0&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),Ht.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Dt.setFromMatrix(Ht),J.length=0,tt=-1,it=-1,st.length=0,ut.length=0,jt=this.localClippingEnabled,Bt=zt.init(this.clippingPlanes,jt,e),x(t,e),K.length=tt+1,nt.length=it+1,ct.sortObjects===!0&&(K.sort(d),nt.sort(m)),Bt&&zt.beginShadows(),N(J),ye.render(t,e),F(J,e),Bt&&zt.endShadows(),Xt.calls=0,Xt.vertices=0,Xt.faces=0,Xt.points=0,void 0===i&&(i=null),this.setRenderTarget(i);var o=t.background;if(null===o?n(bt.r,bt.g,bt.b,wt):o&&o.isColor&&(n(o.r,o.g,o.b,1),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),o&&o.isCubeTexture?(de.projectionMatrix.copy(e.projectionMatrix),de.matrixWorld.extractRotation(e.matrixWorld),de.matrixWorldInverse.getInverse(de.matrixWorld),ve.material.uniforms.tCube.value=o,ve.modelViewMatrix.multiplyMatrices(de.matrixWorldInverse,ve.matrixWorld),ue.update(ve),ct.renderBufferDirect(de,null,ve.geometry,ve.material,ve,null)):o&&o.isTexture&&(me.material.map=o,ue.update(me),ct.renderBufferDirect(pe,null,me.geometry,me.material,me,null)),t.overrideMaterial){var a=t.overrideMaterial;b(K,t,e,a),b(nt,t,e,a)}else Jt.setBlending(Ir),b(K,t,e),b(nt,t,e);_e.render(t,e),xe.render(t,e,_t),i&&te.updateRenderTargetMipmap(i),Jt.setDepthTest(!0),Jt.setDepthWrite(!0),Jt.setColorWrite(!0)},this.setFaceCulling=function(t,e){Jt.setCullFace(t),Jt.setFlipSided(e===br)},this.allocTextureUnit=U,this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),te.setTexture2D(e,n)}}(),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),te.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?te.setTextureCube(e,n):te.setTextureCubeDynamic(e,n)}}(),this.getCurrentRenderTarget=function(){return ht},this.setRenderTarget=function(t){ht=t,t&&void 0===Qt.get(t).__webglFramebuffer&&te.setupRenderTarget(t);var e,n=t&&t.isWebGLRenderTargetCube;if(t){var i=Qt.get(t);e=n?i.__webglFramebuffer[t.activeCubeFace]:i.__webglFramebuffer,vt.copy(t.scissor),yt=t.scissorTest,_t.copy(t.viewport)}else e=null,vt.copy(St).multiplyScalar(Et),yt=At,_t.copy(Pt).multiplyScalar(Et);if(ft!==e&&(qt.bindFramebuffer(qt.FRAMEBUFFER,e),ft=e),Jt.scissor(vt),Jt.setScissorTest(yt),Jt.viewport(_t),n){var r=Qt.get(t.texture);qt.framebufferTexture2D(qt.FRAMEBUFFER,qt.COLOR_ATTACHMENT0,qt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,r.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,i,r,o){if((t&&t.isWebGLRenderTarget)===!1)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=Qt.get(t).__webglFramebuffer;if(a){var s=!1;a!==ft&&(qt.bindFramebuffer(qt.FRAMEBUFFER,a),s=!0);try{var u=t.texture,c=u.format,l=u.type;if(c!==ta&&k(c)!==qt.getParameter(qt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===Bo||k(l)===qt.getParameter(qt.IMPLEMENTATION_COLOR_READ_TYPE)||l===Xo&&(Zt.get("OES_texture_float")||Zt.get("WEBGL_color_buffer_float"))||l===qo&&Zt.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");qt.checkFramebufferStatus(qt.FRAMEBUFFER)===qt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&qt.readPixels(e,n,i,r,k(c),k(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&qt.bindFramebuffer(qt.FRAMEBUFFER,ft)}}}}function ce(t,e){this.name="",this.color=new X(t),this.density=void 0!==e?e:25e-5}function le(t,e,n){this.name="",this.color=new X(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function he(){ct.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function fe(t,e,n,i,r){ct.call(this),this.lensFlares=[],this.positionScreen=new c,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,i,r)}function pe(t){$.call(this),this.type="SpriteMaterial",this.color=new X(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function de(t){ct.call(this),this.type="Sprite",this.material=void 0!==t?t:new pe}function me(){ct.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ge(t,e,n,r,o,a,s,u,c,l,h,f){i.call(this,null,a,s,u,c,l,r,o,h,f),this.image={data:t,width:e,height:n},this.magFilter=void 0!==c?c:Do,this.minFilter=void 0!==l?l:Do,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function ve(t,e,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new l,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var i=Math.sqrt(4*this.bones.length);i=Ua.nextPowerOfTwo(Math.ceil(i)),i=Math.max(i,4),this.boneTextureWidth=i,this.boneTextureHeight=i,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new ge(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,ta,Xo)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var r=0,o=this.bones.length;r<o;r++)this.boneInverses.push(new l)}}function ye(t){ct.call(this),this.type="Bone",this.skin=t}function _e(t,e,n){Ct.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new l,this.bindMatrixInverse=new l;var i=[];if(this.geometry&&void 0!==this.geometry.bones){for(var r,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],r=new ye(this),i.push(r),r.name=o.name,r.position.fromArray(o.pos),r.quaternion.fromArray(o.rotq),void 0!==o.scl&&r.scale.fromArray(o.scl);for(var a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],o.parent!==-1&&null!==o.parent&&void 0!==i[o.parent]?i[o.parent].add(i[a]):this.add(i[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new ve(i,(void 0),n),this.matrixWorld)}function xe(t){$.call(this),this.type="LineBasicMaterial",this.color=new X(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function be(t,e,n){return 1===n?(console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new we(t,e)):(ct.call(this),this.type="Line",this.geometry=void 0!==t?t:new Rt,void(this.material=void 0!==e?e:new xe({color:16777215*Math.random()})))}function we(t,e){be.call(this,t,e),this.type="LineSegments"}function Te(t){$.call(this),this.type="PointsMaterial",this.color=new X(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Me(t,e){ct.call(this),this.type="Points",this.geometry=void 0!==t?t:new Rt,this.material=void 0!==e?e:new Te({color:16777215*Math.random()})}function Ee(){ct.call(this),this.type="Group"}function Se(t,e,n,r,o,a,s,u,c){function l(){requestAnimationFrame(l),t.readyState>=t.HAVE_CURRENT_DATA&&(h.needsUpdate=!0)}i.call(this,t,e,n,r,o,a,s,u,c),this.generateMipmaps=!1;var h=this;l()}function Ae(t,e,n,r,o,a,s,u,c,l,h,f){i.call(this,null,a,s,u,c,l,r,o,h,f),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Pe(t,e,n,r,o,a,s,u,c){i.call(this,t,e,n,r,o,a,s,u,c),this.needsUpdate=!0}function Re(t,e,n,r,o,a,s,u,c,l){if(l=void 0!==l?l:ra,l!==ra&&l!==oa)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i.call(this,null,r,o,a,s,u,l,n,c),this.image={width:t,height:e},this.type=void 0!==n?n:Ho,this.magFilter=void 0!==s?s:Do,this.minFilter=void 0!==u?u:Do,this.flipY=!1,this.generateMipmaps=!1}function Ce(t){function e(t,e){return t-e}Rt.call(this);var n=[0,0],i={},r=["a","b","c"];if(t&&t.isGeometry){for(var o=t.vertices,a=t.faces,s=0,u=new Uint32Array(6*a.length),c=0,l=a.length;c<l;c++)for(var h=a[c],f=0;f<3;f++){n[0]=h[r[f]],n[1]=h[r[(f+1)%3]],n.sort(e);var p=n.toString();void 0===i[p]&&(u[2*s]=n[0],u[2*s+1]=n[1],i[p]=!0,s++)}for(var d=new Float32Array(2*s*3),c=0,l=s;c<l;c++)for(var f=0;f<2;f++){var m=o[u[2*c+f]],g=6*c+3*f;d[g+0]=m.x,d[g+1]=m.y,d[g+2]=m.z}this.addAttribute("position",new mt(d,3))}else if(t&&t.isBufferGeometry)if(null!==t.index){var v=t.index.array,o=t.attributes.position,y=t.groups,s=0;0===y.length&&t.addGroup(0,v.length);for(var u=new Uint32Array(2*v.length),_=0,x=y.length;_<x;++_)for(var b=y[_],w=b.start,T=b.count,c=w,M=w+T;c<M;c+=3)for(var f=0;f<3;f++){n[0]=v[c+f],n[1]=v[c+(f+1)%3],n.sort(e);var p=n.toString();void 0===i[p]&&(u[2*s]=n[0],u[2*s+1]=n[1],i[p]=!0,s++)}for(var d=new Float32Array(2*s*3),c=0,l=s;c<l;c++)for(var f=0;f<2;f++){var g=6*c+3*f,E=u[2*c+f];d[g+0]=o.getX(E),d[g+1]=o.getY(E),d[g+2]=o.getZ(E)}this.addAttribute("position",new mt(d,3))}else{for(var o=t.attributes.position.array,s=o.length/3,S=s/3,d=new Float32Array(2*s*3),c=0,l=S;c<l;c++)for(var f=0;f<3;f++){var g=18*c+6*f,A=9*c+3*f;d[g+0]=o[A],d[g+1]=o[A+1],d[g+2]=o[A+2];var E=9*c+3*((f+1)%3);d[g+3]=o[E],d[g+4]=o[E+1],d[g+5]=o[E+2]}this.addAttribute("position",new mt(d,3))}}function Le(t,e,n){Rt.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var i,r,o,a,s,u=[],c=[],l=e+1;for(i=0;i<=n;i++)for(s=i/n,r=0;r<=e;r++)a=r/e,o=t(a,s),u.push(o.x,o.y,o.z),c.push(a,s);var h,f,p,d,m=[];for(i=0;i<n;i++)for(r=0;r<e;r++)h=i*l+r,f=i*l+r+1,p=(i+1)*l+r+1,d=(i+1)*l+r,m.push(h,f,d),m.push(f,p,d);this.setIndex((m.length>65535?wt:xt)(m,1)),this.addAttribute("position",Tt(u,3)),this.addAttribute("uv",Tt(c,2)),this.computeVertexNormals()}function Oe(t,e,n){St.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Le(t,e,n)),this.mergeVertices()}function De(t,e,i,r){function o(t){for(var n=new c,i=new c,r=new c,o=0;o<e.length;o+=3)f(e[o+0],n),f(e[o+1],i),f(e[o+2],r),a(n,i,r,t)}function a(t,e,n,i){var r,o,a=Math.pow(2,i),s=[];for(r=0;r<=a;r++){s[r]=[];var u=t.clone().lerp(n,r/a),c=e.clone().lerp(n,r/a),l=a-r;for(o=0;o<=l;o++)0===o&&r===a?s[r][o]=u:s[r][o]=u.clone().lerp(c,o/l)}for(r=0;r<a;r++)for(o=0;o<2*(a-r)-1;o++){var f=Math.floor(o/2);o%2===0?(h(s[r][f+1]),h(s[r+1][f]),h(s[r][f])):(h(s[r][f+1]),h(s[r+1][f+1]),h(s[r+1][f]))}}function s(t){for(var e=new c,n=0;n<v.length;n+=3)e.x=v[n+0],e.y=v[n+1],e.z=v[n+2],e.normalize().multiplyScalar(t),v[n+0]=e.x,v[n+1]=e.y,v[n+2]=e.z}function u(){for(var t=new c,e=0;e<v.length;e+=3){t.x=v[e+0],t.y=v[e+1],t.z=v[e+2];var n=m(t)/2/Math.PI+.5,i=g(t)/Math.PI+.5;y.push(n,1-i)}p(),l()}function l(){for(var t=0;t<y.length;t+=6){var e=y[t+0],n=y[t+2],i=y[t+4],r=Math.max(e,n,i),o=Math.min(e,n,i);r>.9&&o<.1&&(e<.2&&(y[t+0]+=1),n<.2&&(y[t+2]+=1),i<.2&&(y[t+4]+=1))}}function h(t){v.push(t.x,t.y,t.z)}function f(e,n){var i=3*e;n.x=t[i+0],n.y=t[i+1],n.z=t[i+2]}function p(){for(var t=new c,e=new c,i=new c,r=new c,o=new n,a=new n,s=new n,u=0,l=0;u<v.length;u+=9,l+=6){t.set(v[u+0],v[u+1],v[u+2]),e.set(v[u+3],v[u+4],v[u+5]),i.set(v[u+6],v[u+7],v[u+8]),o.set(y[l+0],y[l+1]),a.set(y[l+2],y[l+3]),s.set(y[l+4],y[l+5]),r.copy(t).add(e).add(i).divideScalar(3);var h=m(r);d(o,l+0,t,h),d(a,l+2,e,h),d(s,l+4,i,h)}}function d(t,e,n,i){i<0&&1===t.x&&(y[e]=t.x-1),0===n.x&&0===n.z&&(y[e]=i/2/Math.PI+.5)}function m(t){return Math.atan2(t.z,-t.x)}function g(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}Rt.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},i=i||1,r=r||0;var v=[],y=[];o(r),s(i),u(),this.addAttribute("position",Tt(v,3)),this.addAttribute("normal",Tt(v.slice(),3)),this.addAttribute("uv",Tt(y,2)),this.normalizeNormals(),this.boundingSphere=new et(new c,i)}function Ie(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];De.call(this,n,i,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ne(t,e){St.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ie(t,e)),this.mergeVertices()}function Fe(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];De.call(this,n,i,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ue(t,e){St.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Fe(t,e)),this.mergeVertices()}function ke(t,e){var n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];De.call(this,i,r,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ze(t,e){St.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ke(t,e)),this.mergeVertices()}function Be(t,e){var n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];De.call(this,r,o,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function je(t,e){St.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Be(t,e)),this.mergeVertices()}function Ge(t,e,n,i){St.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},this.fromBufferGeometry(new De(t,e,n,i)),this.mergeVertices()}function He(t,e,i,r,o){function a(){for(f=0;f<e;f++)s(f);s(o===!1?e:0),l(),u()}function s(n){var o=t.getPointAt(n/e),a=h.normals[n],s=h.binormals[n];for(p=0;p<=r;p++){var u=p/r*Math.PI*2,c=Math.sin(u),l=-Math.cos(u);m.x=l*a.x+c*s.x,m.y=l*a.y+c*s.y,m.z=l*a.z+c*s.z,m.normalize(),y.push(m.x,m.y,m.z),d.x=o.x+i*m.x,d.y=o.y+i*m.y,d.z=o.z+i*m.z,v.push(d.x,d.y,d.z)}}function u(){for(p=1;p<=e;p++)for(f=1;f<=r;f++){var t=(r+1)*(p-1)+(f-1),n=(r+1)*p+(f-1),i=(r+1)*p+f,o=(r+1)*(p-1)+f;x.push(t,n,o),x.push(n,i,o)}}function l(){for(f=0;f<=e;f++)for(p=0;p<=r;p++)g.x=f/e,g.y=p/r,_.push(g.x,g.y)}Rt.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:o},e=e||64,i=i||1,r=r||8,o=o||!1;var h=t.computeFrenetFrames(e,o);this.tangents=h.tangents,this.normals=h.normals,this.binormals=h.binormals;var f,p,d=new c,m=new c,g=new n,v=[],y=[],_=[],x=[];a(),this.setIndex((x.length>65535?wt:xt)(x,1)),this.addAttribute("position",Tt(v,3)),this.addAttribute("normal",Tt(y,3)),this.addAttribute("uv",Tt(_,2))}function Ve(t,e,n,i,r,o){St.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:r},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new He(t,e,n,i,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function We(t,e,i,r,o,a){function s(t,e,n,i,r){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,u=Math.cos(s);r.x=i*(2+u)*.5*o,r.y=i*(2+u)*a*.5,r.z=i*Math.sin(s)*.5}Rt.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:o,q:a},t=t||100,e=e||40,i=Math.floor(i)||64,r=Math.floor(r)||8,o=o||2,a=a||3;var u,l,h=(r+1)*(i+1),f=r*i*2*3,p=new mt(new(f>65535?Uint32Array:Uint16Array)(f),1),d=new mt(new Float32Array(3*h),3),m=new mt(new Float32Array(3*h),3),g=new mt(new Float32Array(2*h),2),v=0,y=0,_=new c,x=new c,b=new n,w=new c,T=new c,M=new c,E=new c,S=new c;for(u=0;u<=i;++u){var A=u/i*o*Math.PI*2;for(s(A,o,a,t,w),s(A+.01,o,a,t,T),E.subVectors(T,w),S.addVectors(T,w),M.crossVectors(E,S),S.crossVectors(M,E),M.normalize(),S.normalize(),l=0;l<=r;++l){var P=l/r*Math.PI*2,R=-e*Math.cos(P),C=e*Math.sin(P);_.x=w.x+(R*S.x+C*M.x),_.y=w.y+(R*S.y+C*M.y),_.z=w.z+(R*S.z+C*M.z),d.setXYZ(v,_.x,_.y,_.z),x.subVectors(_,w).normalize(),m.setXYZ(v,x.x,x.y,x.z),b.x=u/i,b.y=l/r,g.setXY(v,b.x,b.y),v++}}for(l=1;l<=i;l++)for(u=1;u<=r;u++){var L=(r+1)*(l-1)+(u-1),O=(r+1)*l+(u-1),D=(r+1)*l+u,I=(r+1)*(l-1)+u;p.setX(y,L),y++,p.setX(y,O),y++,p.setX(y,I),y++,p.setX(y,O),y++,p.setX(y,D),y++,p.setX(y,I),y++}this.setIndex(p),this.addAttribute("position",d),this.addAttribute("normal",m),
this.addAttribute("uv",g)}function Xe(t,e,n,i,r,o,a){St.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new We(t,e,n,i,r,o)),this.mergeVertices()}function qe(t,e,n,i,r){Rt.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},t=t||100,e=e||40,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var o,a,s=(n+1)*(i+1),u=n*i*2*3,l=new(u>65535?Uint32Array:Uint16Array)(u),h=new Float32Array(3*s),f=new Float32Array(3*s),p=new Float32Array(2*s),d=0,m=0,g=0,v=new c,y=new c,_=new c;for(o=0;o<=n;o++)for(a=0;a<=i;a++){var x=a/i*r,b=o/n*Math.PI*2;y.x=(t+e*Math.cos(b))*Math.cos(x),y.y=(t+e*Math.cos(b))*Math.sin(x),y.z=e*Math.sin(b),h[d]=y.x,h[d+1]=y.y,h[d+2]=y.z,v.x=t*Math.cos(x),v.y=t*Math.sin(x),_.subVectors(y,v).normalize(),f[d]=_.x,f[d+1]=_.y,f[d+2]=_.z,p[m]=a/i,p[m+1]=o/n,d+=3,m+=2}for(o=1;o<=n;o++)for(a=1;a<=i;a++){var w=(i+1)*o+a-1,T=(i+1)*(o-1)+a-1,M=(i+1)*(o-1)+a,E=(i+1)*o+a;l[g]=w,l[g+1]=T,l[g+2]=E,l[g+3]=T,l[g+4]=M,l[g+5]=E,g+=6}this.setIndex(new mt(l,1)),this.addAttribute("position",new mt(h,3)),this.addAttribute("normal",new mt(f,3)),this.addAttribute("uv",new mt(p,2))}function Ye(t,e,n,i,r){St.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new qe(t,e,n,i,r))}function Ze(t,e){return"undefined"==typeof t?void(t=[]):(St.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),void this.computeFaceNormals())}function $e(t,e){e=e||{};var n=e.font;if((n&&n.isFont)===!1)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new St;var i=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Ze.call(this,i,e),this.type="TextGeometry"}function Je(t,e,n,i,r,o,a){Rt.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;for(var s=o+a,u=(e+1)*(n+1),l=new mt(new Float32Array(3*u),3),h=new mt(new Float32Array(3*u),3),f=new mt(new Float32Array(2*u),2),p=0,d=[],m=new c,g=0;g<=n;g++){for(var v=[],y=g/n,_=0;_<=e;_++){var x=_/e,b=-t*Math.cos(i+x*r)*Math.sin(o+y*a),w=t*Math.cos(o+y*a),T=t*Math.sin(i+x*r)*Math.sin(o+y*a);m.set(b,w,T).normalize(),l.setXYZ(p,b,w,T),h.setXYZ(p,m.x,m.y,m.z),f.setXY(p,x,1-y),v.push(p),p++}d.push(v)}for(var M=[],g=0;g<n;g++)for(var _=0;_<e;_++){var E=d[g][_+1],S=d[g][_],A=d[g+1][_],P=d[g+1][_+1];(0!==g||o>0)&&M.push(E,S,P),(g!==n-1||s<Math.PI)&&M.push(S,A,P)}this.setIndex(new(l.count>65535?wt:xt)(M,1)),this.addAttribute("position",l),this.addAttribute("normal",h),this.addAttribute("uv",f),this.boundingSphere=new et(new c,t)}function Qe(t,e,n,i,r,o,a){St.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Je(t,e,n,i,r,o,a))}function Ke(t,e,i,r,o,a){Rt.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:o,thetaLength:a},t=t||20,e=e||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8,r=void 0!==r?Math.max(1,r):1;var s,u,l,h=(i+1)*(r+1),f=i*r*2*3,p=new mt(new(f>65535?Uint32Array:Uint16Array)(f),1),d=new mt(new Float32Array(3*h),3),m=new mt(new Float32Array(3*h),3),g=new mt(new Float32Array(2*h),2),v=0,y=0,_=t,x=(e-t)/r,b=new c,w=new n;for(u=0;u<=r;u++){for(l=0;l<=i;l++)s=o+l/i*a,b.x=_*Math.cos(s),b.y=_*Math.sin(s),d.setXYZ(v,b.x,b.y,b.z),m.setXYZ(v,0,0,1),w.x=(b.x/e+1)/2,w.y=(b.y/e+1)/2,g.setXY(v,w.x,w.y),v++;_+=x}for(u=0;u<r;u++){var T=u*(i+1);for(l=0;l<i;l++){s=l+T;var M=s,E=s+i+1,S=s+i+2,A=s+1;p.setX(y,M),y++,p.setX(y,E),y++,p.setX(y,S),y++,p.setX(y,M),y++,p.setX(y,S),y++,p.setX(y,A),y++}}this.setIndex(p),this.addAttribute("position",d),this.addAttribute("normal",m),this.addAttribute("uv",g)}function tn(t,e,n,i,r,o){St.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},this.fromBufferGeometry(new Ke(t,e,n,i,r,o))}function en(t,e,n,i){St.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Ot(t,e,n,i))}function nn(t,e,i,r){Rt.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e)||12,i=i||0,r=r||2*Math.PI,r=Ua.clamp(r,0,2*Math.PI);var o,a,s,u=(e+1)*t.length,l=e*t.length*2*3,h=new mt(new(l>65535?Uint32Array:Uint16Array)(l),1),f=new mt(new Float32Array(3*u),3),p=new mt(new Float32Array(2*u),2),d=0,m=0,g=1/e,v=new c,y=new n;for(a=0;a<=e;a++){var _=i+a*g*r,x=Math.sin(_),b=Math.cos(_);for(s=0;s<=t.length-1;s++)v.x=t[s].x*x,v.y=t[s].y,v.z=t[s].x*b,f.setXYZ(d,v.x,v.y,v.z),y.x=a/e,y.y=s/(t.length-1),p.setXY(d,y.x,y.y),d++}for(a=0;a<e;a++)for(s=0;s<t.length-1;s++){o=s+a*t.length;var w=o,T=o+t.length,M=o+t.length+1,E=o+1;h.setX(m,w),m++,h.setX(m,T),m++,h.setX(m,E),m++,h.setX(m,T),m++,h.setX(m,M),m++,h.setX(m,E),m++}if(this.setIndex(h),this.addAttribute("position",f),this.addAttribute("uv",p),this.computeVertexNormals(),r===2*Math.PI){var S=this.attributes.normal.array,A=new c,P=new c,R=new c;for(o=e*t.length*3,a=0,s=0;a<t.length;a++,s+=3)A.x=S[s+0],A.y=S[s+1],A.z=S[s+2],P.x=S[o+s+0],P.y=S[o+s+1],P.z=S[o+s+2],R.addVectors(A,P).normalize(),S[s+0]=S[o+s+0]=R.x,S[s+1]=S[o+s+1]=R.y,S[s+2]=S[o+s+2]=R.z}}function rn(t,e,n,i){St.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},this.fromBufferGeometry(new nn(t,e,n,i)),this.mergeVertices()}function on(t,e){St.call(this),this.type="ShapeGeometry",Array.isArray(t)===!1&&(t=[t]),this.addShapeList(t,e),this.computeFaceNormals()}function an(t,e){function n(t,e){return t-e}Rt.call(this),e=void 0!==e?e:1;var i,r=Math.cos(Ua.DEG2RAD*e),o=[0,0],a={},s=["a","b","c"];t&&t.isBufferGeometry?(i=new St,i.fromBufferGeometry(t)):i=t.clone(),i.mergeVertices(),i.computeFaceNormals();for(var u=i.vertices,c=i.faces,l=0,h=c.length;l<h;l++)for(var f=c[l],p=0;p<3;p++){o[0]=f[s[p]],o[1]=f[s[(p+1)%3]],o.sort(n);var d=o.toString();void 0===a[d]?a[d]={vert1:o[0],vert2:o[1],face1:l,face2:void 0}:a[d].face2=l}var m=[];for(var d in a){var g=a[d];if(void 0===g.face2||c[g.face1].normal.dot(c[g.face2].normal)<=r){var v=u[g.vert1];m.push(v.x),m.push(v.y),m.push(v.z),v=u[g.vert2],m.push(v.x),m.push(v.y),m.push(v.z)}}this.addAttribute("position",new mt(new Float32Array(m),3))}function sn(t,e,i,r,o,a,s,u){function l(){var t=(r+1)*(o+1);return a===!1&&(t+=(r+1)*m+r*m),t}function h(){var t=r*o*2*3;return a===!1&&(t+=r*m*3),t}function f(){var n,a,l=new c,h=new c,f=0,p=(e-t)/i;for(a=0;a<=o;a++){var m=[],g=a/o,v=g*(e-t)+t;for(n=0;n<=r;n++){var A=n/r,P=A*u+s,R=Math.sin(P),C=Math.cos(P);h.x=v*R,h.y=-g*i+E,h.z=v*C,_.setXYZ(w,h.x,h.y,h.z),l.set(R,p,C).normalize(),x.setXYZ(w,l.x,l.y,l.z),b.setXY(w,A,1-g),m.push(w),w++}M.push(m)}for(n=0;n<r;n++)for(a=0;a<o;a++){var L=M[a][n],O=M[a+1][n],D=M[a+1][n+1],I=M[a][n+1];y.setX(T,L),T++,y.setX(T,O),T++,y.setX(T,I),T++,y.setX(T,O),T++,y.setX(T,D),T++,y.setX(T,I),T++,f+=6}d.addGroup(S,f,0),S+=f}function p(i){var o,a,l,h=new n,f=new c,p=0,m=i===!0?t:e,g=i===!0?1:-1;for(a=w,o=1;o<=r;o++)_.setXYZ(w,0,E*g,0),x.setXYZ(w,0,g,0),h.x=.5,h.y=.5,b.setXY(w,h.x,h.y),w++;for(l=w,o=0;o<=r;o++){var v=o/r,M=v*u+s,A=Math.cos(M),P=Math.sin(M);f.x=m*P,f.y=E*g,f.z=m*A,_.setXYZ(w,f.x,f.y,f.z),x.setXYZ(w,0,g,0),h.x=.5*A+.5,h.y=.5*P*g+.5,b.setXY(w,h.x,h.y),w++}for(o=0;o<r;o++){var R=a+o,C=l+o;i===!0?(y.setX(T,C),T++,y.setX(T,C+1),T++,y.setX(T,R),T++):(y.setX(T,C+1),T++,y.setX(T,C),T++,y.setX(T,R),T++),p+=3}d.addGroup(S,p,i===!0?1:2),S+=p}Rt.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:u};var d=this;t=void 0!==t?t:20,e=void 0!==e?e:20,i=void 0!==i?i:100,r=Math.floor(r)||8,o=Math.floor(o)||1,a=void 0!==a&&a,s=void 0!==s?s:0,u=void 0!==u?u:2*Math.PI;var m=0;a===!1&&(t>0&&m++,e>0&&m++);var g=l(),v=h(),y=new mt(new(v>65535?Uint32Array:Uint16Array)(v),1),_=new mt(new Float32Array(3*g),3),x=new mt(new Float32Array(3*g),3),b=new mt(new Float32Array(2*g),2),w=0,T=0,M=[],E=i/2,S=0;f(),a===!1&&(t>0&&p(!0),e>0&&p(!1)),this.setIndex(y),this.addAttribute("position",_),this.addAttribute("normal",x),this.addAttribute("uv",b)}function un(t,e,n,i,r,o,a,s){St.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new sn(t,e,n,i,r,o,a,s)),this.mergeVertices()}function cn(t,e,n,i,r,o,a){un.call(this,0,t,e,n,i,r,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:a}}function ln(t,e,n,i,r,o,a){sn.call(this,0,t,e,n,i,r,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:a}}function hn(t,e,n,i){Rt.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var r=e+2,o=new Float32Array(3*r),a=new Float32Array(3*r),s=new Float32Array(2*r);a[2]=1,s[0]=.5,s[1]=.5;for(var u=0,l=3,h=2;u<=e;u++,l+=3,h+=2){var f=n+u/e*i;o[l]=t*Math.cos(f),o[l+1]=t*Math.sin(f),a[l+2]=1,s[h]=(o[l]/t+1)/2,s[h+1]=(o[l+1]/t+1)/2}for(var p=[],l=1;l<=e;l++)p.push(l,l+1,0);this.setIndex(new mt(new Uint16Array(p),1)),this.addAttribute("position",new mt(o,3)),this.addAttribute("normal",new mt(a,3)),this.addAttribute("uv",new mt(s,2)),this.boundingSphere=new et(new c,t)}function fn(t,e,n,i){St.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new hn(t,e,n,i))}function pn(t,e,n,i,r,o){St.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o},this.fromBufferGeometry(new Lt(t,e,n,i,r,o)),this.mergeVertices()}function dn(){Q.call(this,{uniforms:Va.merge([Vu.lights,{opacity:{value:1}}]),vertexShader:Gu.shadow_vert,fragmentShader:Gu.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function mn(t){Q.call(this,t),this.type="RawShaderMaterial"}function gn(t){this.uuid=Ua.generateUUID(),this.type="MultiMaterial",this.materials=t instanceof Array?t:[],this.visible=!0}function vn(t){$.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new X(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function yn(t){vn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function _n(t){$.call(this),this.type="MeshPhongMaterial",this.color=new X(16777215),this.specular=new X(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ho,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function xn(t){$.call(this,t),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.morphTargets=!1,this.setValues(t)}function bn(t){$.call(this),this.type="MeshLambertMaterial",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ho,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function wn(t){$.call(this),this.type="LineDashedMaterial",this.color=new X(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function Tn(t,e,n){var i=this,r=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,r===!1&&void 0!==i.onStart&&i.onStart(t,o,a),r=!0},this.itemEnd=function(t){o++,void 0!==i.onProgress&&i.onProgress(t,o,a),o===a&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)}}function Mn(t){this.manager=void 0!==t?t:tc}function En(t){this.manager=void 0!==t?t:tc,this._parser=null}function Sn(t){this.manager=void 0!==t?t:tc,this._parser=null}function An(t){this.manager=void 0!==t?t:tc}function Pn(t){this.manager=void 0!==t?t:tc}function Rn(t){this.manager=void 0!==t?t:tc}function Cn(t,e){ct.call(this),this.type="Light",this.color=new X(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Ln(t,e,n){Cn.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ct.DefaultUp),this.updateMatrix(),this.groundColor=new X(e)}function On(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new n(512,512),this.map=null,this.matrix=new l}function Dn(){On.call(this,new It(50,1,.5,500))}function In(t,e,n,i,r,o){Cn.call(this,t,e),this.type="SpotLight",this.position.copy(ct.DefaultUp),this.updateMatrix(),this.target=new ct,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new Dn}function Nn(t,e,n,i){Cn.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new On(new It(90,1,.5,500))}function Fn(t){On.call(this,new Nt((-5),5,5,(-5),.5,500))}function Un(t,e){Cn.call(this,t,e),this.type="DirectionalLight",this.position.copy(ct.DefaultUp),this.updateMatrix(),this.target=new ct,this.shadow=new Fn}function kn(t,e){Cn.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function zn(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Bn(t,e,n,i){zn.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function jn(t,e,n,i){zn.call(this,t,e,n,i)}function Gn(t,e,n,i){zn.call(this,t,e,n,i)}function Hn(t,e,n,i){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=nc.convertArray(e,this.TimeBufferType),this.values=nc.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation),this.validate(),this.optimize()}function Vn(t,e,n,i){Hn.call(this,t,e,n,i)}function Wn(t,e,n,i){zn.call(this,t,e,n,i)}function Xn(t,e,n,i){Hn.call(this,t,e,n,i)}function qn(t,e,n,i){Hn.call(this,t,e,n,i)}function Yn(t,e,n,i){Hn.call(this,t,e,n,i)}function Zn(t,e,n){Hn.call(this,t,e,n)}function $n(t,e,n,i){Hn.call(this,t,e,n,i)}function Jn(t,e,n,i){Hn.apply(this,arguments)}function Qn(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=Ua.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Kn(t){this.manager=void 0!==t?t:tc,this.textures={}}function ti(t){this.manager=void 0!==t?t:tc}function ei(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function ni(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:tc,this.withCredentials=!1}function ii(t){this.manager=void 0!==t?t:tc,this.texturePath=""}function ri(){}function oi(t,e){this.v1=t,this.v2=e}function ai(){this.curves=[],this.autoClose=!1}function si(t,e,n,i,r,o,a,s){this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function ui(t){this.points=void 0===t?[]:t}function ci(t,e,n,i){this.v0=t,this.v1=e,this.v2=n,this.v3=i}function li(t,e,n){this.v0=t,this.v1=e,this.v2=n}function hi(){fi.apply(this,arguments),this.holes=[]}function fi(t){ai.call(this),this.currentPoint=new n,t&&this.fromPoints(t)}function pi(){this.subPaths=[],this.currentPath=null}function di(t){this.data=t}function mi(t){this.manager=void 0!==t?t:tc}function gi(){return void 0===ac&&(ac=new(window.AudioContext||window.webkitAudioContext)),ac}function vi(t){this.manager=void 0!==t?t:tc}function yi(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new It,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new It,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function _i(t,e,n){ct.call(this),this.type="CubeCamera";var i=90,r=1,o=new It(i,r,t,e);o.up.set(0,-1,0),o.lookAt(new c(1,0,0)),this.add(o);var a=new It(i,r,t,e);a.up.set(0,-1,0),a.lookAt(new c((-1),0,0)),this.add(a);var u=new It(i,r,t,e);u.up.set(0,0,1),u.lookAt(new c(0,1,0)),this.add(u);var l=new It(i,r,t,e);l.up.set(0,0,-1),l.lookAt(new c(0,(-1),0)),this.add(l);var h=new It(i,r,t,e);h.up.set(0,-1,0),h.lookAt(new c(0,0,1)),this.add(h);var f=new It(i,r,t,e);f.up.set(0,-1,0),f.lookAt(new c(0,0,(-1))),this.add(f);var p={format:Ko,magFilter:Fo,minFilter:Fo};this.renderTarget=new s(n,n,p),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,o,n),n.activeCubeFace=1,t.render(e,a,n),n.activeCubeFace=2,t.render(e,u,n),n.activeCubeFace=3,t.render(e,l,n),n.activeCubeFace=4,t.render(e,h,n),n.texture.generateMipmaps=i,n.activeCubeFace=5,t.render(e,f,n),t.setRenderTarget(null)}}function xi(){ct.call(this),this.type="AudioListener",this.context=gi(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function bi(t){ct.call(this),this.type="Audio",this.context=t.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function wi(t){bi.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Ti(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Mi(t,e,n){this.binding=t,this.valueSize=n;var i,r=Float64Array;switch(e){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Ei(t,e,n){this.path=e,this.parsedPath=n||Ei.parseTrackName(e),this.node=Ei.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Si(t){this.uuid=Ua.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Ai(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var i=e.tracks,r=i.length,o=new Array(r),a={endingStart:ba,endingEnd:ba},s=0;s!==r;++s){var u=i[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ga,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Pi(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Ri(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function Ci(){Rt.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Li(t,e,n,i){this.uuid=Ua.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=i===!0}function Oi(t,e){this.uuid=Ua.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Di(t,e,n){Oi.call(this,t,e),this.meshPerAttribute=n||1}function Ii(t,e,n){mt.call(this,t,e),this.meshPerAttribute=n||1}function Ni(t,e,n,i){this.ray=new at(t,e),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Fi(t,e){return t.distance-e.distance}function Ui(t,e,n,i){if(t.visible!==!1&&(t.raycast(e,n),i===!0))for(var r=t.children,o=0,a=r.length;o<a;o++)Ui(r[o],e,n,!0)}function ki(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function zi(t){function e(t,e,n,i,r,o,a){var s=.5*(n-t),u=.5*(i-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*r+e}this.points=t;var n,i,r,o,a,s,u,l,h,f=[],p={x:0,y:0,z:0};this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return n=(this.points.length-1)*t,i=Math.floor(n),r=n-i,f[0]=0===i?i:i-1,f[1]=i,f[2]=i>this.points.length-2?this.points.length-1:i+1,f[3]=i>this.points.length-3?this.points.length-1:i+2,s=this.points[f[0]],u=this.points[f[1]],l=this.points[f[2]],h=this.points[f[3]],o=r*r,a=r*o,p.x=e(s.x,u.x,l.x,h.x,r,o,a),p.y=e(s.y,u.y,l.y,h.y,r,o,a),p.z=e(s.z,u.z,l.z,h.z,r,o,a),p},this.getControlPointsArray=function(){var t,e,n=this.points.length,i=[];for(t=0;t<n;t++)e=this.points[t],i[t]=[e.x,e.y,e.z];return i},this.getLength=function(t){var e,n,i,r,o=0,a=0,s=0,u=new c,l=new c,h=[],f=0;for(h[0]=0,t||(t=100),i=this.points.length*t,u.copy(this.points[0]),e=1;e<i;e++)n=e/i,r=this.getPoint(n),l.copy(r),f+=l.distanceTo(u),u.copy(r),o=(this.points.length-1)*n,a=Math.floor(o),a!==s&&(h[a]=f,s=a);return h[h.length]=f,{chunks:h,total:f}},this.reparametrizeByArcLength=function(t){var e,n,i,r,o,a,s,u,l=[],h=new c,f=this.getLength();for(l.push(h.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(a=f.chunks[e]-f.chunks[e-1],s=Math.ceil(t*a/f.total),r=(e-1)/(this.points.length-1),o=e/(this.points.length-1),n=1;n<s-1;n++)i=r+n*(1/s)*(o-r),u=this.getPoint(i),l.push(h.copy(u).clone());l.push(h.copy(this.points[e]).clone())}this.points=l}}function Bi(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function ji(t,e){Ct.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,i="__default",r=0,o=n-1,a=n/1;this.createAnimation(i,r,o,a),this.setAnimationWeight(i,1)}function Gi(t){ct.call(this),this.material=t,this.render=function(t){}}function Hi(t,e,n,i){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==n?n:16711680,o=void 0!==i?i:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new Rt,c=new Tt(2*a*3,3);u.addAttribute("position",c),we.call(this,u,new xe({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Vi(t){ct.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new Rt,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,r=1,o=32;i<o;i++,r++){var a=i/o*Math.PI*2,s=r/o*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}e.addAttribute("position",new Tt(n,3));var u=new xe({fog:!1});this.cone=new we(e,u),this.add(this.cone),this.update()}function Wi(t){this.bones=this.getBoneList(t);for(var e=new St,n=0;n<this.bones.length;n++){var i=this.bones[n];i.parent&&i.parent.isBone&&(e.vertices.push(new c),e.vertices.push(new c),e.colors.push(new X(0,0,1)),e.colors.push(new X(0,1,0)))}e.dynamic=!0;var r=new xe({vertexColors:Dr,depthTest:!1,depthWrite:!1,transparent:!0});we.call(this,e,r),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Xi(t,e){this.light=t,this.light.updateMatrixWorld();var n=new Je(e,4,2),i=new dt({wireframe:!0,fog:!1});i.color.copy(this.light.color).multiplyScalar(this.light.intensity),Ct.call(this,n,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function qi(t,e){ct.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new X,new X];var n=new Qe(e,4,2);n.rotateX(-Math.PI/2);for(var i=0,r=8;i<r;i++)n.faces[i].color=this.colors[i<4?0:1];var o=new dt({vertexColors:Or,wireframe:!0});this.lightSphere=new Ct(n,o),this.add(this.lightSphere),this.update()}function Yi(t,e,n,i){e=e||1,n=new X(void 0!==n?n:4473924),i=new X(void 0!==i?i:8947848);for(var r=e/2,o=2*t/e,a=[],s=[],u=0,c=0,l=-t;u<=e;u++,l+=o){a.push(-t,0,l,t,0,l),a.push(l,0,-t,l,0,t);var h=u===r?n:i;h.toArray(s,c),c+=3,h.toArray(s,c),c+=3,h.toArray(s,c),c+=3,h.toArray(s,c),c+=3}var f=new Rt;f.addAttribute("position",new Tt(a,3)),f.addAttribute("color",new Tt(s,3));var p=new xe({vertexColors:Dr});we.call(this,f,p)}function Zi(t,e,n,i){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==n?n:16776960,o=void 0!==i?i:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new Rt,c=new Tt(2*a*3,3);u.addAttribute("position",c),we.call(this,u,new xe({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function $i(t,e){ct.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new Rt;n.addAttribute("position",new Tt([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var i=new xe({fog:!1});this.add(new be(n,i)),n=new Rt,n.addAttribute("position",new Tt([0,0,0,0,0,1],3)),this.add(new be(n,i)),this.update()}function Ji(t){function e(t,e,i){n(t,i),n(e,i)}function n(t,e){i.vertices.push(new c),i.colors.push(new X(e)),void 0===o[t]&&(o[t]=[]),o[t].push(i.vertices.length-1)}var i=new St,r=new xe({color:16777215,vertexColors:Or}),o={},a=16755200,s=16711680,u=43775,l=16777215,h=3355443;e("n1","n2",a),e("n2","n4",a),e("n4","n3",a),e("n3","n1",a),e("f1","f2",a),e("f2","f4",a),e("f4","f3",a),e("f3","f1",a),e("n1","f1",a),e("n2","f2",a),e("n3","f3",a),e("n4","f4",a),e("p","n1",s),e("p","n2",s),e("p","n3",s),e("p","n4",s),e("u1","u2",u),e("u2","u3",u),e("u3","u1",u),e("c","t",l),e("p","c",h),e("cn1","cn2",h),e("cn3","cn4",h),e("cf1","cf2",h),e("cf3","cf4",h),we.call(this,i,r),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Qi(t,e){var n=void 0!==e?e:8947848;this.object=t,this.box=new tt,Ct.call(this,new pn(1,1,1),new dt({color:n,wireframe:!0}))}function Ki(t,e){void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new Rt;r.setIndex(new mt(n,1)),r.addAttribute("position",new mt(i,3)),we.call(this,r,new xe({color:e})),void 0!==t&&this.update(t)}function tr(t,e,n,i,r,o){ct.call(this),void 0===i&&(i=16776960),void 0===n&&(n=1),void 0===r&&(r=.2*n),void 0===o&&(o=.2*r),this.position.copy(e),this.line=new be(sc,new xe({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ct(uc,new dt({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,r,o)}function er(t){t=t||1;var e=new Float32Array([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t]),n=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),i=new Rt;i.addAttribute("position",new mt(e,3)),i.addAttribute("color",new mt(n,3));var r=new xe({vertexColors:Dr});we.call(this,i,r)}function nr(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3."),cc.call(this,t),this.type="catmullrom",this.closed=!0}function ir(t,e,n,i,r,o){si.call(this,t,e,n,n,i,r,o)}function rr(t,e,n,i,r,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new pt(t,e,n,r,o,a)}function or(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Me(t,e)}function ar(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Me(t,e)}function sr(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Te(t)}function ur(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Te(t)}function cr(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Te(t)}function lr(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new c(t,e,n)}function hr(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new we(new an(t.geometry),new xe({color:void 0!==e?e:16777215}))}function fr(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new we(new Ce(t.geometry),new xe({color:void 0!==e?e:16777215}))}function pr(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),
t.unproject(e)},this.pickingRay=function(t,e){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function dr(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),void 0===Object.assign&&!function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}}(),Object.assign(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&n[t].indexOf(e)!==-1},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,i=n[t];if(void 0!==i){var r=i.indexOf(e);r!==-1&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;var i=[],r=0,o=n.length;for(r=0;r<o;r++)i[r]=n[r];for(r=0;r<o;r++)i[r].call(this,t)}}}});var mr="82",gr={LEFT:0,MIDDLE:1,RIGHT:2},vr=0,yr=1,_r=2,xr=3,br=0,wr=1,Tr=0,Mr=1,Er=2,Sr=0,Ar=1,Pr=2,Rr=1,Cr=2,Lr=0,Or=1,Dr=2,Ir=0,Nr=1,Fr=2,Ur=3,kr=4,zr=5,Br={NoBlending:Ir,NormalBlending:Nr,AdditiveBlending:Fr,SubtractiveBlending:Ur,MultiplyBlending:kr,CustomBlending:zr},jr=100,Gr=101,Hr=102,Vr=103,Wr=104,Xr=200,qr=201,Yr=202,Zr=203,$r=204,Jr=205,Qr=206,Kr=207,to=208,eo=209,no=210,io=0,ro=1,oo=2,ao=3,so=4,uo=5,co=6,lo=7,ho=0,fo=1,po=2,mo=0,go=1,vo=2,yo=3,_o=4,xo=300,bo=301,wo=302,To=303,Mo=304,Eo=305,So=306,Ao=307,Po={UVMapping:xo,CubeReflectionMapping:bo,CubeRefractionMapping:wo,EquirectangularReflectionMapping:To,EquirectangularRefractionMapping:Mo,SphericalReflectionMapping:Eo,CubeUVReflectionMapping:So,CubeUVRefractionMapping:Ao},Ro=1e3,Co=1001,Lo=1002,Oo={RepeatWrapping:Ro,ClampToEdgeWrapping:Co,MirroredRepeatWrapping:Lo},Do=1003,Io=1004,No=1005,Fo=1006,Uo=1007,ko=1008,zo={NearestFilter:Do,NearestMipMapNearestFilter:Io,NearestMipMapLinearFilter:No,LinearFilter:Fo,LinearMipMapNearestFilter:Uo,LinearMipMapLinearFilter:ko},Bo=1009,jo=1010,Go=1011,Ho=1012,Vo=1013,Wo=1014,Xo=1015,qo=1016,Yo=1017,Zo=1018,$o=1019,Jo=1020,Qo=1021,Ko=1022,ta=1023,ea=1024,na=1025,ia=ta,ra=1026,oa=1027,aa=2001,sa=2002,ua=2003,ca=2004,la=2100,ha=2101,fa=2102,pa=2103,da=2151,ma=2200,ga=2201,va=2202,ya=2300,_a=2301,xa=2302,ba=2400,wa=2401,Ta=2402,Ma=0,Ea=1,Sa=2,Aa=3e3,Pa=3001,Ra=3007,Ca=3002,La=3003,Oa=3004,Da=3005,Ia=3006,Na=3200,Fa=3201,Ua={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),i=0;return function(){for(var r=0;r<36;r++)8===r||13===r||18===r||23===r?n[r]="-":14===r?n[r]="4":(i<=2&&(i=33554432+16777216*Math.random()|0),t=15&i,i>>=4,n[r]=e[19===r?3&t|8:t]);return n.join("")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(6*t-15)+10))},random16:function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Ua.DEG2RAD},radToDeg:function(t){return t*Ua.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}};n.prototype={constructor:n,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(i,r){return void 0===t&&(t=new n,e=new n),t.set(i,i),e.set(r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this},rotateAround:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}},i.DEFAULT_IMAGE=void 0,i.DEFAULT_MAPPING=xo,i.prototype={constructor:i,isTexture:!0,set needsUpdate(t){t===!0&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){function e(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;void 0===i.uuid&&(i.uuid=Ua.generateUUID()),void 0===t.images[i.uuid]&&(t.images[i.uuid]={uuid:i.uuid,url:e(i)}),n.image=i.uuid}return t.textures[this.uuid]=n,n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===xo){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case Ro:t.x=t.x-Math.floor(t.x);break;case Co:t.x=t.x<0?0:1;break;case Lo:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Ro:t.y=t.y-Math.floor(t.y);break;case Co:t.y=t.y<0?0:1;break;case Lo:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(i.prototype,e.prototype);var ka=0;o.prototype={constructor:o,isVector4:!0,set:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*n+o[11]*i+o[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,i,r,o=.01,a=.1,s=t.elements,u=s[0],c=s[4],l=s[8],h=s[1],f=s[5],p=s[9],d=s[2],m=s[6],g=s[10];if(Math.abs(c-h)<o&&Math.abs(l-d)<o&&Math.abs(p-m)<o){if(Math.abs(c+h)<a&&Math.abs(l+d)<a&&Math.abs(p+m)<a&&Math.abs(u+f+g-3)<a)return this.set(1,0,0,0),this;e=Math.PI;var v=(u+1)/2,y=(f+1)/2,_=(g+1)/2,x=(c+h)/4,b=(l+d)/4,w=(p+m)/4;return v>y&&v>_?v<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(v),i=x/n,r=b/n):y>_?y<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(y),n=x/i,r=w/i):_<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(_),n=b/r,i=w/r),this.set(n,i,r,e),this}var T=Math.sqrt((m-p)*(m-p)+(l-d)*(l-d)+(h-c)*(h-c));return Math.abs(T)<.001&&(T=1),this.x=(m-p)/T,this.y=(l-d)/T,this.z=(h-c)/T,this.w=Math.acos((u+f+g-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,i){return void 0===t&&(t=new o,e=new o),t.set(n,n,n,n),e.set(i,i,i,i),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this.w=t.array[e+3],this}},Object.assign(a.prototype,e.prototype,{isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.prototype.isWebGLRenderTargetCube=!0,u.prototype={constructor:u,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if((t&&t.isEuler)===!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=Math.cos(t._x/2),i=Math.cos(t._y/2),r=Math.cos(t._z/2),o=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2),u=t.order;return"XYZ"===u?(this._x=o*i*r+n*a*s,this._y=n*a*r-o*i*s,this._z=n*i*s+o*a*r,this._w=n*i*r-o*a*s):"YXZ"===u?(this._x=o*i*r+n*a*s,this._y=n*a*r-o*i*s,this._z=n*i*s-o*a*r,this._w=n*i*r+o*a*s):"ZXY"===u?(this._x=o*i*r-n*a*s,this._y=n*a*r+o*i*s,this._z=n*i*s+o*a*r,this._w=n*i*r-o*a*s):"ZYX"===u?(this._x=o*i*r-n*a*s,this._y=n*a*r+o*i*s,this._z=n*i*s-o*a*r,this._w=n*i*r+o*a*s):"YZX"===u?(this._x=o*i*r+n*a*s,this._y=n*a*r+o*i*s,this._z=n*i*s-o*a*r,this._w=n*i*r-o*a*s):"XZY"===u&&(this._x=o*i*r-n*a*s,this._y=n*a*r-o*i*s,this._z=n*i*s+o*a*r,this._w=n*i*r+o*a*s),e!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,i=n[0],r=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],f=i+s+h;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(l-u)*e,this._y=(o-c)*e,this._z=(a-r)*e):i>s&&i>h?(e=2*Math.sqrt(1+i-s-h),this._w=(l-u)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(o+c)/e):s>h?(e=2*Math.sqrt(1+s-i-h),this._w=(o-c)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(u+l)/e):(e=2*Math.sqrt(1+h-i-s),this._w=(a-r)/e,this._x=(o+c)/e,this._y=(u+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e,n=1e-6;return function(i,r){return void 0===t&&(t=new c),e=i.dot(r)+1,e<n?(e=0,Math.abs(i.x)>Math.abs(i.z)?t.set(-i.y,i.x,0):t.set(0,-i.z,i.y)):t.crossVectors(i,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,i=t._y,r=t._z,o=t._w,a=e._x,s=e._y,u=e._z,c=e._w;return this._x=n*c+o*a+i*u-r*s,this._y=i*c+o*s+r*a-n*u,this._z=r*c+o*u+n*s-i*a,this._w=o*c-n*a-i*s-r*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,o=this._w,a=o*t._w+n*t._x+i*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(i+this._y),this._z=.5*(r+this._z),this;var u=Math.atan2(s,a),c=Math.sin((1-e)*u)/s,l=Math.sin(e*u)/s;return this._w=o*c+this._w*l,this._x=n*c+this._x*l,this._y=i*c+this._y*l,this._z=r*c+this._z*l,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(u,{slerp:function(t,e,n,i){return n.copy(t).slerp(e,i)},slerpFlat:function(t,e,n,i,r,o,a){var s=n[i+0],u=n[i+1],c=n[i+2],l=n[i+3],h=r[o+0],f=r[o+1],p=r[o+2],d=r[o+3];if(l!==d||s!==h||u!==f||c!==p){var m=1-a,g=s*h+u*f+c*p+l*d,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var _=Math.sqrt(y),x=Math.atan2(_,g*v);m=Math.sin(m*x)/_,a=Math.sin(a*x)/_}var b=a*v;if(s=s*m+h*b,u=u*m+f*b,c=c*m+p*b,l=l*m+d*b,m===1-a){var w=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=w,u*=w,c*=w,l*=w}}t[e]=s,t[e+1]=u,t[e+2]=c,t[e+3]=l}}),c.prototype={constructor:c,isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return(e&&e.isEuler)===!1&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new u),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t;return function(e,n){return void 0===t&&(t=new u),this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i+r[12],this.y=r[1]*e+r[5]*n+r[9]*i+r[13],this.z=r[2]*e+r[6]*n+r[10]*i+r[14],this},applyProjection:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this},applyQuaternion:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,a=t.z,s=t.w,u=s*e+o*i-a*n,c=s*n+a*e-r*i,l=s*i+r*n-o*e,h=-r*e-o*n-a*i;return this.x=u*s+h*-r+c*-a-l*-o,this.y=c*s+h*-o+l*-r-u*-a,this.z=l*s+h*-a+u*-o-c*-r,this},project:function(){var t;return function(e){return void 0===t&&(t=new l),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyProjection(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new l),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(n,i){return void 0===t&&(t=new c,e=new c),t.set(n,n,n),e.set(i,i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,i=this.y,r=this.z;return this.x=i*t.z-r*t.y,this.y=r*t.x-n*t.z,this.z=n*t.y-i*t.x,this},crossVectors:function(t,e){var n=t.x,i=t.y,r=t.z,o=e.x,a=e.y,s=e.z;return this.x=i*s-r*a,this.y=r*o-n*s,this.z=n*a-i*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new c),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new c),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Ua.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this},setFromMatrixColumn:function(t,e){if("number"==typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var n=t;t=e,e=n}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this}},l.prototype={constructor:l,isMatrix4:!0,set:function(t,e,n,i,r,o,a,s,u,c,l,h,f,p,d,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=i,g[1]=r,g[5]=o,g[9]=a,g[13]=s,g[2]=u,g[6]=c,g[10]=l,g[14]=h,g[3]=f,g[7]=p,g[11]=d,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new l).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new c);var n=this.elements,i=e.elements,r=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,this}}(),makeRotationFromEuler:function(t){(t&&t.isEuler)===!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(i),u=Math.sin(i),c=Math.cos(r),l=Math.sin(r);if("XYZ"===t.order){var h=o*c,f=o*l,p=a*c,d=a*l;e[0]=s*c,e[4]=-s*l,e[8]=u,e[1]=f+p*u,e[5]=h-d*u,e[9]=-a*s,e[2]=d-h*u,e[6]=p+f*u,e[10]=o*s}else if("YXZ"===t.order){var m=s*c,g=s*l,v=u*c,y=u*l;e[0]=m+y*a,e[4]=v*a-g,e[8]=o*u,e[1]=o*l,e[5]=o*c,e[9]=-a,e[2]=g*a-v,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order){var m=s*c,g=s*l,v=u*c,y=u*l;e[0]=m-y*a,e[4]=-o*l,e[8]=v+g*a,e[1]=g+v*a,e[5]=o*c,e[9]=y-m*a,e[2]=-o*u,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){var h=o*c,f=o*l,p=a*c,d=a*l;e[0]=s*c,e[4]=p*u-f,e[8]=h*u+d,e[1]=s*l,e[5]=d*u+h,e[9]=f*u-p,e[2]=-u,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var _=o*s,x=o*u,b=a*s,w=a*u;e[0]=s*c,e[4]=w-_*l,e[8]=b*l+x,e[1]=l,e[5]=o*c,e[9]=-a*c,e[2]=-u*c,e[6]=x*l+b,e[10]=_-w*l}else if("XZY"===t.order){var _=o*s,x=o*u,b=a*s,w=a*u;
e[0]=s*c,e[4]=-l,e[8]=u*c,e[1]=_*l+w,e[5]=o*c,e[9]=x*l-b,e[2]=b*l-x,e[6]=a*c,e[10]=w*l+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z,o=t.w,a=n+n,s=i+i,u=r+r,c=n*a,l=n*s,h=n*u,f=i*s,p=i*u,d=r*u,m=o*a,g=o*s,v=o*u;return e[0]=1-(f+d),e[4]=l-v,e[8]=h+g,e[1]=l+v,e[5]=1-(c+d),e[9]=p-m,e[2]=h-g,e[6]=p+m,e[10]=1-(c+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t,e,n;return function(i,r,o){void 0===t&&(t=new c,e=new c,n=new c);var a=this.elements;return n.subVectors(i,r).normalize(),0===n.lengthSq()&&(n.z=1),t.crossVectors(o,n).normalize(),0===t.lengthSq()&&(n.z+=1e-4,t.crossVectors(o,n).normalize()),e.crossVectors(n,t),a[0]=t.x,a[4]=e.x,a[8]=n.x,a[1]=t.y,a[5]=e.y,a[9]=n.y,a[2]=t.z,a[6]=e.z,a[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],f=n[13],p=n[2],d=n[6],m=n[10],g=n[14],v=n[3],y=n[7],_=n[11],x=n[15],b=i[0],w=i[4],T=i[8],M=i[12],E=i[1],S=i[5],A=i[9],P=i[13],R=i[2],C=i[6],L=i[10],O=i[14],D=i[3],I=i[7],N=i[11],F=i[15];return r[0]=o*b+a*E+s*R+u*D,r[4]=o*w+a*S+s*C+u*I,r[8]=o*T+a*A+s*L+u*N,r[12]=o*M+a*P+s*O+u*F,r[1]=c*b+l*E+h*R+f*D,r[5]=c*w+l*S+h*C+f*I,r[9]=c*T+l*A+h*L+f*N,r[13]=c*M+l*P+h*O+f*F,r[2]=p*b+d*E+m*R+g*D,r[6]=p*w+d*S+m*C+g*I,r[10]=p*T+d*A+m*L+g*N,r[14]=p*M+d*P+m*O+g*F,r[3]=v*b+y*E+_*R+x*D,r[7]=v*w+y*S+_*C+x*I,r[11]=v*T+y*A+_*L+x*N,r[15]=v*M+y*P+_*O+x*F,this},multiplyToArray:function(t,e,n){var i=this.elements;return this.multiplyMatrices(t,e),n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToVector3Array:function(){var t;return function(e,n,i){void 0===t&&(t=new c),void 0===n&&(n=0),void 0===i&&(i=e.length);for(var r=0,o=n;r<i;r+=3,o+=3)t.fromArray(e,o),t.applyMatrix4(this),t.toArray(e,o);return e}}(),applyToBuffer:function(){var t;return function(e,n,i){void 0===t&&(t=new c),void 0===n&&(n=0),void 0===i&&(i=e.length/e.itemSize);for(var r=0,o=n;r<i;r++,o++)t.x=e.getX(o),t.y=e.getY(o),t.z=e.getZ(o),t.applyMatrix4(this),e.setXYZ(o,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],o=t[1],a=t[5],s=t[9],u=t[13],c=t[2],l=t[6],h=t[10],f=t[14],p=t[3],d=t[7],m=t[11],g=t[15];return p*(+r*s*l-i*u*l-r*a*h+n*u*h+i*a*f-n*s*f)+d*(+e*s*f-e*u*h+r*o*h-i*o*f+i*u*c-r*s*c)+m*(+e*u*l-e*a*f-r*o*l+n*o*f+r*a*c-n*u*c)+g*(-i*a*c-e*s*l+e*a*h+i*o*l-n*o*h+n*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new c),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,i=t.elements,r=i[0],o=i[1],a=i[2],s=i[3],u=i[4],c=i[5],l=i[6],h=i[7],f=i[8],p=i[9],d=i[10],m=i[11],g=i[12],v=i[13],y=i[14],_=i[15],x=p*y*h-v*d*h+v*l*m-c*y*m-p*l*_+c*d*_,b=g*d*h-f*y*h-g*l*m+u*y*m+f*l*_-u*d*_,w=f*v*h-g*p*h+g*c*m-u*v*m-f*c*_+u*p*_,T=g*p*l-f*v*l-g*c*d+u*v*d+f*c*y-u*p*y,M=r*x+o*b+a*w+s*T;if(0===M){var E="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(e===!0)throw new Error(E);return console.warn(E),this.identity()}var S=1/M;return n[0]=x*S,n[1]=(v*d*s-p*y*s-v*a*m+o*y*m+p*a*_-o*d*_)*S,n[2]=(c*y*s-v*l*s+v*a*h-o*y*h-c*a*_+o*l*_)*S,n[3]=(p*l*s-c*d*s-p*a*h+o*d*h+c*a*m-o*l*m)*S,n[4]=b*S,n[5]=(f*y*s-g*d*s+g*a*m-r*y*m-f*a*_+r*d*_)*S,n[6]=(g*l*s-u*y*s-g*a*h+r*y*h+u*a*_-r*l*_)*S,n[7]=(u*d*s-f*l*s+f*a*h-r*d*h-u*a*m+r*l*m)*S,n[8]=w*S,n[9]=(g*p*s-f*v*s-g*o*m+r*v*m+f*o*_-r*p*_)*S,n[10]=(u*v*s-g*c*s+g*o*h-r*v*h-u*o*_+r*c*_)*S,n[11]=(f*c*s-u*p*s-f*o*h+r*p*h+u*o*m-r*c*m)*S,n[12]=T*S,n[13]=(f*v*a-g*p*a+g*o*d-r*v*d-f*o*y+r*p*y)*S,n[14]=(g*c*a-u*v*a-g*o*l+r*v*l+u*o*y-r*c*y)*S,n[15]=(u*p*a-f*c*a+f*o*l-r*p*l-u*o*d+r*c*d)*S,this},scale:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,o=t.x,a=t.y,s=t.z,u=r*o,c=r*a;return this.set(u*o+n,u*a-i*s,u*s+i*a,0,u*a+i*s,c*a+n,c*s-i*o,0,u*s-i*a,c*s+i*o,r*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t,e;return function(n,i,r){void 0===t&&(t=new c,e=new l);var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),u=t.set(o[8],o[9],o[10]).length(),h=this.determinant();h<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],e.elements.set(this.elements);var f=1/a,p=1/s,d=1/u;return e.elements[0]*=f,e.elements[1]*=f,e.elements[2]*=f,e.elements[4]*=p,e.elements[5]*=p,e.elements[6]*=p,e.elements[8]*=d,e.elements[9]*=d,e.elements[10]*=d,i.setFromRotationMatrix(e),r.x=a,r.y=s,r.z=u,this}}(),makeFrustum:function(t,e,n,i,r,o){var a=this.elements,s=2*r/(e-t),u=2*r/(i-n),c=(e+t)/(e-t),l=(i+n)/(i-n),h=-(o+r)/(o-r),f=-2*o*r/(o-r);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(t,e,n,i){var r=n*Math.tan(Ua.DEG2RAD*t*.5),o=-r,a=o*e,s=r*e;return this.makeFrustum(a,s,o,r,n,i)},makeOrthographic:function(t,e,n,i,r,o){var a=this.elements,s=1/(e-t),u=1/(n-i),c=1/(o-r),l=(e+t)*s,h=(n+i)*u,f=(o+r)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},h.prototype=Object.create(i.prototype),h.prototype.constructor=h,h.prototype.isCubeTexture=!0,Object.defineProperty(h.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var za=new i,Ba=new h,ja=[],Ga=[];G.prototype.setValue=function(t,e){for(var n=this.seq,i=0,r=n.length;i!==r;++i){var o=n[i];o.setValue(t,e[o.id])}};var Ha=/([\w\d_]+)(\])?(\[|\.)?/g;W.prototype.setValue=function(t,e,n){var i=this.map[e];void 0!==i&&i.setValue(t,n,this.renderer)},W.prototype.set=function(t,e,n){var i=this.map[n];void 0!==i&&i.setValue(t,e[n],this.renderer)},W.prototype.setOptional=function(t,e,n){var i=e[n];void 0!==i&&this.setValue(t,n,i)},W.upload=function(t,e,n,i){for(var r=0,o=e.length;r!==o;++r){var a=e[r],s=n[a.id];s.needsUpdate!==!1&&a.setValue(t,s.value,i)}},W.seqWithValue=function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var o=t[i];o.id in e&&n.push(o)}return n};var Va={merge:function(t){for(var e={},n=0;n<t.length;n++){var i=this.clone(t[n]);for(var r in i)e[r]=i[r]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var i in t[n]){var r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}},Wa="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",Xa="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",qa="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",Ya="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",Za="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",$a="\nvec3 transformed = vec3( position );\n",Ja="\nvec3 objectNormal = vec3( normal );\n",Qa="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",Ka="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",ts="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",es="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",ns="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",is="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",rs="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",os="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",as="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",ss="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",us="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n",cs="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",ls="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",hs="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",fs="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",ps="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",ds="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",ms="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",gs="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",vs="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",ys="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",_s="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",xs="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",bs="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",ws="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",Ts="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",Ms="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Es="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",Ss="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#include <normal_flip>\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#include <normal_flip>\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",As="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",Ps="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",Rs="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",Cs="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",Ls="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\t\t\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",Os="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",Ds="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",Is="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",Ns="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",Fs="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",Us="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",ks="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",zs="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",Bs="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",js="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",Gs="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",Hs="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",Vs="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",Ws="#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",Xs="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",qs="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",Ys="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",Zs="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",$s="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",Js="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",Qs="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",Ks="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",tu="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",eu="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",nu="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",iu="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",ru="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",ou="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",au="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",su="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",uu="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",cu="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",lu="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",hu="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",fu="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",pu="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",du="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",mu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",gu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",vu="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",yu="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",_u="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",xu="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",bu="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",wu="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",Tu="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",Mu="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",Eu="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",Su="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Au="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Pu="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Ru="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n",Cu="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Lu="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",Ou="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Du="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",Iu="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Nu="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",Fu="uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n",Uu="varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",ku="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",zu="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",Bu="uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n",ju="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",Gu={
alphamap_fragment:Wa,alphamap_pars_fragment:Xa,alphatest_fragment:qa,aomap_fragment:Ya,aomap_pars_fragment:Za,begin_vertex:$a,beginnormal_vertex:Ja,bsdfs:Qa,bumpmap_pars_fragment:Ka,clipping_planes_fragment:ts,clipping_planes_pars_fragment:es,clipping_planes_pars_vertex:ns,clipping_planes_vertex:is,color_fragment:rs,color_pars_fragment:os,color_pars_vertex:as,color_vertex:ss,common:us,cube_uv_reflection_fragment:cs,defaultnormal_vertex:ls,displacementmap_pars_vertex:hs,displacementmap_vertex:fs,emissivemap_fragment:ps,emissivemap_pars_fragment:ds,encodings_fragment:ms,encodings_pars_fragment:gs,envmap_fragment:vs,envmap_pars_fragment:ys,envmap_pars_vertex:_s,envmap_vertex:xs,fog_fragment:bs,fog_pars_fragment:ws,lightmap_fragment:Ts,lightmap_pars_fragment:Ms,lights_lambert_vertex:Es,lights_pars:Ss,lights_phong_fragment:As,lights_phong_pars_fragment:Ps,lights_physical_fragment:Rs,lights_physical_pars_fragment:Cs,lights_template:Ls,logdepthbuf_fragment:Os,logdepthbuf_pars_fragment:Ds,logdepthbuf_pars_vertex:Is,logdepthbuf_vertex:Ns,map_fragment:Fs,map_pars_fragment:Us,map_particle_fragment:ks,map_particle_pars_fragment:zs,metalnessmap_fragment:Bs,metalnessmap_pars_fragment:js,morphnormal_vertex:Gs,morphtarget_pars_vertex:Hs,morphtarget_vertex:Vs,normal_flip:Ws,normal_fragment:Xs,normalmap_pars_fragment:qs,packing:Ys,premultiplied_alpha_fragment:Zs,project_vertex:$s,roughnessmap_fragment:Js,roughnessmap_pars_fragment:Qs,shadowmap_pars_fragment:Ks,shadowmap_pars_vertex:tu,shadowmap_vertex:eu,shadowmask_pars_fragment:nu,skinbase_vertex:iu,skinning_pars_vertex:ru,skinning_vertex:ou,skinnormal_vertex:au,specularmap_fragment:su,specularmap_pars_fragment:uu,tonemapping_fragment:cu,tonemapping_pars_fragment:lu,uv_pars_fragment:hu,uv_pars_vertex:fu,uv_vertex:pu,uv2_pars_fragment:du,uv2_pars_vertex:mu,uv2_vertex:gu,worldpos_vertex:vu,cube_frag:yu,cube_vert:_u,depth_frag:xu,depth_vert:bu,distanceRGBA_frag:wu,distanceRGBA_vert:Tu,equirect_frag:Mu,equirect_vert:Eu,linedashed_frag:Su,linedashed_vert:Au,meshbasic_frag:Pu,meshbasic_vert:Ru,meshlambert_frag:Cu,meshlambert_vert:Lu,meshphong_frag:Ou,meshphong_vert:Du,meshphysical_frag:Iu,meshphysical_vert:Nu,normal_frag:Fu,normal_vert:Uu,points_frag:ku,points_vert:zu,shadow_frag:Bu,shadow_vert:ju};X.prototype={constructor:X,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,i){if(e=Ua.euclideanModulo(e,1),n=Ua.clamp(n,0,1),i=Ua.clamp(i,0,1),0===n)this.r=this.g=this.b=i;else{var r=i<=.5?i*(1+n):i+n-i*n,o=2*i-r;this.r=t(o,r,e+1/3),this.g=t(o,r,e),this.b=t(o,r,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i,r=n[1],o=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,u=parseInt(i[3],10)/100;return e(i[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c=n[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(t&&t.length>0){var c=Hu[t];void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,i=t||{h:0,s:0,l:0},r=this.r,o=this.g,a=this.b,s=Math.max(r,o,a),u=Math.min(r,o,a),c=(u+s)/2;if(u===s)e=0,n=0;else{var l=s-u;switch(n=c<=.5?l/(s+u):l/(2-s-u),s){case r:e=(o-a)/l+(o<a?6:0);break;case o:e=(a-r)/l+2;break;case a:e=(r-o)/l+4}e/=6}return i.h=e,i.s=n,i.l=c,i},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var i=this.getHSL();return i.h+=t,i.s+=e,i.l+=n,this.setHSL(i.h,i.s,i.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var Hu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vu={common:{diffuse:{value:new X(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new o(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new X(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}}},points:{diffuse:{value:new X(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new o(0,0,1,1)}}},Wu={basic:{uniforms:Va.merge([Vu.common,Vu.aomap,Vu.fog]),vertexShader:Gu.meshbasic_vert,fragmentShader:Gu.meshbasic_frag},lambert:{uniforms:Va.merge([Vu.common,Vu.aomap,Vu.lightmap,Vu.emissivemap,Vu.fog,Vu.lights,{emissive:{value:new X(0)}}]),vertexShader:Gu.meshlambert_vert,fragmentShader:Gu.meshlambert_frag},phong:{uniforms:Va.merge([Vu.common,Vu.aomap,Vu.lightmap,Vu.emissivemap,Vu.bumpmap,Vu.normalmap,Vu.displacementmap,Vu.fog,Vu.lights,{emissive:{value:new X(0)},specular:{value:new X(1118481)},shininess:{value:30}}]),vertexShader:Gu.meshphong_vert,fragmentShader:Gu.meshphong_frag},standard:{uniforms:Va.merge([Vu.common,Vu.aomap,Vu.lightmap,Vu.emissivemap,Vu.bumpmap,Vu.normalmap,Vu.displacementmap,Vu.roughnessmap,Vu.metalnessmap,Vu.fog,Vu.lights,{emissive:{value:new X(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Gu.meshphysical_vert,fragmentShader:Gu.meshphysical_frag},points:{uniforms:Va.merge([Vu.points,Vu.fog]),vertexShader:Gu.points_vert,fragmentShader:Gu.points_frag},dashed:{uniforms:Va.merge([Vu.common,Vu.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Gu.linedashed_vert,fragmentShader:Gu.linedashed_frag},depth:{uniforms:Va.merge([Vu.common,Vu.displacementmap]),vertexShader:Gu.depth_vert,fragmentShader:Gu.depth_frag},normal:{uniforms:{opacity:{value:1}},vertexShader:Gu.normal_vert,fragmentShader:Gu.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Gu.cube_vert,fragmentShader:Gu.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:Gu.equirect_vert,fragmentShader:Gu.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new c}},vertexShader:Gu.distanceRGBA_vert,fragmentShader:Gu.distanceRGBA_frag}};Wu.physical={uniforms:Va.merge([Wu.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Gu.meshphysical_vert,fragmentShader:Gu.meshphysical_frag},q.prototype={constructor:q,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new n;return function(e,n){var i=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=+(1/0),this.max.x=this.max.y=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new n;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new n;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){var i=e||new n;return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){var i=e||new n;return i.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new n;return function(e){var n=t.copy(e).clamp(this.min,this.max);return n.sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},$.prototype={constructor:$,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){t===!0&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):"overdraw"===e?this[e]=Number(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}var n=void 0===t;n&&(t={textures:{},images:{}});var i={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Nr&&(i.blending=this.blending),this.shading!==Cr&&(i.shading=this.shading),this.side!==Sr&&(i.side=this.side),this.vertexColors!==Lr&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),i.skinning=this.skinning,i.morphTargets=this.morphTargets,n){var r=e(t.textures),o=e(t.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign($.prototype,e.prototype);var Xu=0;Q.prototype=Object.create($.prototype),Q.prototype.constructor=Q,Q.prototype.isShaderMaterial=!0,Q.prototype.copy=function(t){return $.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Va.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Q.prototype.toJSON=function(t){var e=$.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},K.prototype=Object.create($.prototype),K.prototype.constructor=K,K.prototype.isMeshDepthMaterial=!0,K.prototype.copy=function(t){return $.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},tt.prototype={constructor:tt,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=+(1/0),n=+(1/0),i=+(1/0),r=-(1/0),o=-(1/0),a=-(1/0),s=0,u=t.length;s<u;s+=3){var c=t[s],l=t[s+1],h=t[s+2];c<e&&(e=c),l<n&&(n=l),h<i&&(i=h),c>r&&(r=c),l>o&&(o=l),h>a&&(a=h)}this.min.set(e,n,i),this.max.set(r,o,a)},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new c;return function(e,n){var i=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}}(),setFromObject:function(){var t=new c;return function(e){var n=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse(function(e){var i=e.geometry;if(void 0!==i)if(i&&i.isGeometry)for(var r=i.vertices,o=0,a=r.length;o<a;o++)t.copy(r[o]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t);else if(i&&i.isBufferGeometry){var s=i.attributes.position;if(void 0!==s){var u,c,l;s&&s.isInterleavedBufferAttribute?(u=s.data.array,c=s.offset,l=s.data.stride):(u=s.array,c=0,l=3);for(var o=c,a=u.length;o<a;o+=l)t.fromArray(u,o),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}}}),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=+(1/0),this.max.x=this.max.y=this.max.z=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new c;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new c;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){var n=e||new c;return n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t;return function(e){return void 0===t&&(t=new c),this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){var n=e||new c;return n.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new c;return function(e){var n=t.copy(e).clamp(this.min,this.max);return n.sub(e).length()}}(),getBoundingSphere:function(){var t=new c;return function(e){var n=e||new et;return this.getCenter(n.center),n.radius=.5*this.getSize(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new c,new c,new c,new c,new c,new c,new c,new c];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},et.prototype={constructor:et,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new tt;return function(e,n){var i=this.center;void 0!==n?i.copy(n):t.setFromPoints(e).getCenter(i);for(var r=0,o=0,a=e.length;o<a;o++)r=Math.max(r,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),i=e||new c;return i.copy(t),n>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(t){var e=t||new tt;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},nt.prototype={constructor:nt,isMatrix3:!0,set:function(t,e,n,i,r,o,a,s,u){var c=this.elements;return c[0]=t,c[1]=i,c[2]=a,c[3]=e,c[4]=r,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToVector3Array:function(){var t;return function(e,n,i){void 0===t&&(t=new c),void 0===n&&(n=0),void 0===i&&(i=e.length);for(var r=0,o=n;r<i;r+=3,o+=3)t.fromArray(e,o),t.applyMatrix3(this),t.toArray(e,o);return e}}(),applyToBuffer:function(){var t;return function(e,n,i){void 0===t&&(t=new c),void 0===n&&(n=0),void 0===i&&(i=e.length/e.itemSize);for(var r=0,o=n;r<i;r++,o++)t.x=e.getX(o),t.y=e.getY(o),t.z=e.getZ(o),t.applyMatrix3(this),e.setXYZ(o,t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*o*c-e*a*u-n*r*c+n*a*s+i*r*u-i*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,i=this.elements,r=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],h=n[7],f=n[8],p=f*u-c*h,d=c*l-f*s,m=h*s-u*l,g=r*p+o*d+a*m;if(0===g){var v="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(e===!0)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return i[0]=p*y,i[1]=(a*h-f*o)*y,i[2]=(c*o-a*u)*y,i[3]=d*y,i[4]=(f*r-a*l)*y,i[5]=(a*s-c*r)*y,i[6]=m*y,i[7]=(o*l-h*r)*y,i[8]=(u*r-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),this.toArray(t,e)},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},it.prototype={constructor:it,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new c,e=new c;return function(n,i,r){var o=t.subVectors(r,i).cross(e.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t),i=e||new c;return i.copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new c;return function(e,n){var i=n||new c,r=e.delta(t),o=this.normal.dot(r);if(0!==o){var a=-(e.start.dot(this.normal)+this.constant)/o;if(!(a<0||a>1))return i.copy(r).multiplyScalar(a).add(e.start)}else if(0===this.distanceToPoint(e.start))return i.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){var e=t||new c;return e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new c,e=new nt;return function(n,i){var r=this.coplanarPoint(t).applyMatrix4(n),o=i||e.getNormalMatrix(n),a=this.normal.applyMatrix3(o).normalize();return this.constant=-r.dot(a),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},rt.prototype={constructor:rt,set:function(t,e,n,i,r,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this;
},setFromMatrix:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],f=n[9],p=n[10],d=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(a-i,l-s,d-h,y-m).normalize(),e[1].setComponents(a+i,l+s,d+h,y+m).normalize(),e[2].setComponents(a+r,l+u,d+f,y+g).normalize(),e[3].setComponents(a-r,l-u,d-f,y-g).normalize(),e[4].setComponents(a-o,l-c,d-p,y-v).normalize(),e[5].setComponents(a+o,l+c,d+p,y+v).normalize(),this},intersectsObject:function(){var t=new et;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new et;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++){var o=e[r].distanceToPoint(n);if(o<i)return!1}return!0},intersectsBox:function(){var t=new c,e=new c;return function(n){for(var i=this.planes,r=0;r<6;r++){var o=i[r];t.x=o.normal.x>0?n.min.x:n.max.x,e.x=o.normal.x>0?n.max.x:n.min.x,t.y=o.normal.y>0?n.min.y:n.max.y,e.y=o.normal.y>0?n.max.y:n.min.y,t.z=o.normal.z>0?n.min.z:n.max.z,e.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(t),s=o.distanceToPoint(e);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},at.prototype={constructor:at,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){var n=e||new c;return n.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new c;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new c;n.subVectors(t,this.origin);var i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new c;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new c,e=new c,n=new c;return function(i,r,o,a){t.copy(i).add(r).multiplyScalar(.5),e.copy(r).sub(i).normalize(),n.copy(this.origin).sub(t);var s,u,c,l,h=.5*i.distanceTo(r),f=-this.direction.dot(e),p=n.dot(this.direction),d=-n.dot(e),m=n.lengthSq(),g=Math.abs(1-f*f);if(g>0)if(s=f*d-p,u=f*p-d,l=h*g,s>=0)if(u>=-l)if(u<=l){var v=1/g;s*=v,u*=v,c=s*(s+f*u+2*p)+u*(f*s+u+2*d)+m}else u=h,s=Math.max(0,-(f*u+p)),c=-s*s+u*(u+2*d)+m;else u=-h,s=Math.max(0,-(f*u+p)),c=-s*s+u*(u+2*d)+m;else u<=-l?(s=Math.max(0,-(-f*h+p)),u=s>0?-h:Math.min(Math.max(-h,-d),h),c=-s*s+u*(u+2*d)+m):u<=l?(s=0,u=Math.min(Math.max(-h,-d),h),c=u*(u+2*d)+m):(s=Math.max(0,-(f*h+p)),u=s>0?h:Math.min(Math.max(-h,-d),h),c=-s*s+u*(u+2*d)+m);else u=f>0?-h:h,s=Math.max(0,-(f*u+p)),c=-s*s+u*(u+2*d)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(e).multiplyScalar(u).add(t),c}}(),intersectSphere:function(){var t=new c;return function(e,n){t.subVectors(e.center,this.origin);var i=t.dot(this.direction),r=t.dot(t)-i*i,o=e.radius*e.radius;if(r>o)return null;var a=Math.sqrt(o-r),s=i-a,u=i+a;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);if(0===e)return!0;var n=t.normal.dot(this.direction);return n*e<0},intersectBox:function(t,e){var n,i,r,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(n=(t.min.x-h.x)*u,i=(t.max.x-h.x)*u):(n=(t.max.x-h.x)*u,i=(t.min.x-h.x)*u),c>=0?(r=(t.min.y-h.y)*c,o=(t.max.y-h.y)*c):(r=(t.max.y-h.y)*c,o=(t.min.y-h.y)*c),n>o||r>i?null:((r>n||n!==n)&&(n=r),(o<i||i!==i)&&(i=o),l>=0?(a=(t.min.z-h.z)*l,s=(t.max.z-h.z)*l):(a=(t.max.z-h.z)*l,s=(t.min.z-h.z)*l),n>s||a>i?null:((a>n||n!==n)&&(n=a),(s<i||i!==i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))},intersectsBox:function(){var t=new c;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new c,e=new c,n=new c,i=new c;return function(r,o,a,s,u){e.subVectors(o,r),n.subVectors(a,r),i.crossVectors(e,n);var c,l=this.direction.dot(i);if(l>0){if(s)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}t.subVectors(this.origin,r);var h=c*this.direction.dot(n.crossVectors(t,n));if(h<0)return null;var f=c*this.direction.dot(e.cross(t));if(f<0)return null;if(h+f>l)return null;var p=-c*t.dot(i);return p<0?null:this.at(p/l,u)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},st.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],st.DefaultOrder="XYZ",st.prototype={constructor:st,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var i=Ua.clamp,r=t.elements,o=r[0],a=r[4],s=r[8],u=r[1],c=r[5],l=r[9],h=r[2],f=r[6],p=r[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0)):"YXZ"===e?(this._x=Math.asin(-i(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(i(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===e?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,p),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===e?(this._z=Math.asin(i(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-i(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,n!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,n,i){return void 0===t&&(t=new l),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,i)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new u;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new c(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},ut.prototype={constructor:ut,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!==(this.mask&t.mask)}},ct.DefaultUp=new c(0,1,0),ct.DefaultMatrixAutoUpdate=!0,Object.assign(ct.prototype,e.prototype,{isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new u;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new c(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new c(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new c(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new c;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new c(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new c(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new c(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new l;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new l;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);n!==-1&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n],o=r.getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){var e=t||new c;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new c,e=new c;return function(n){var i=n||new u;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,i,e),i}}(),getWorldRotation:function(){var t=new u;return function(e){var n=e||new st;return this.getWorldQuaternion(t),n.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new c,e=new u;return function(n){var i=n||new c;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(){var t=new u;return function(e){var n=e||new c;return this.getWorldQuaternion(t),n.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(this.visible!==!1){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&t!==!0||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}var n=void 0===t||""===t,i={};n&&(t={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var r={};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),r.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),r.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),r.material=this.material.uuid),this.children.length>0){r.children=[];for(var o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(t).object)}if(n){var a=e(t.geometries),s=e(t.materials),u=e(t.textures),c=e(t.images);a.length>0&&(i.geometries=a),s.length>0&&(i.materials=s),u.length>0&&(i.textures=u),c.length>0&&(i.images=c)}return i.object=r,i},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(var n=0;n<t.children.length;n++){var i=t.children[n];this.add(i.clone())}return this}});var qu=0;ht.prototype={constructor:ht,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){var e=t||new c;return e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){var e=t||new c;return e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new c;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new c,e=new c;return function(n,i){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var r=e.dot(e),o=e.dot(t),a=o/r;return i&&(a=Ua.clamp(a,0,1)),a}}(),closestPointToPoint:function(t,e,n){var i=this.closestPointToPointParameter(t,e),r=n||new c;return this.delta(r).multiplyScalar(i).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},ft.normal=function(){var t=new c;return function(e,n,i,r){var o=r||new c;o.subVectors(i,n),t.subVectors(e,n),o.cross(t);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),ft.barycoordFromPoint=function(){var t=new c,e=new c,n=new c;return function(i,r,o,a,s){t.subVectors(a,r),e.subVectors(o,r),n.subVectors(i,r);var u=t.dot(t),l=t.dot(e),h=t.dot(n),f=e.dot(e),p=e.dot(n),d=u*f-l*l,m=s||new c;if(0===d)return m.set(-2,-1,-1);var g=1/d,v=(f*h-l*p)*g,y=(u*p-l*h)*g;return m.set(1-v-y,y,v)}}(),ft.containsPoint=function(){var t=new c;return function(e,n,i,r){var o=ft.barycoordFromPoint(e,n,i,r,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),ft.prototype={constructor:ft,set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new c,e=new c;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){var e=t||new c;return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return ft.normal(this.a,this.b,this.c,t)},plane:function(t){var e=t||new it;return e.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return ft.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return ft.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,n,i;return function(r,o){void 0===t&&(t=new it,e=[new ht,new ht,new ht],n=new c,i=new c);var a=o||new c,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(r,n),this.containsPoint(n)===!0)a.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var u=0;u<e.length;u++){e[u].closestPointToPoint(n,!0,i);var l=n.distanceToSquared(i);l<s&&(s=l,a.copy(i))}}return a}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},pt.prototype={constructor:pt,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},dt.prototype=Object.create($.prototype),dt.prototype.constructor=dt,dt.prototype.isMeshBasicMaterial=!0,dt.prototype.copy=function(t){return $.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},mt.prototype={constructor:mt,isBufferAttribute:!0,set needsUpdate(t){t===!0&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new X),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,r=0,o=t.length;r<o;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new n),e[i++]=a.x,e[i++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new c),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new o),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},clone:function(){return(new this.constructor).copy(this)}},Object.assign(St.prototype,e.prototype,{isGeometry:!0,applyMatrix:function(t){for(var e=(new nt).getNormalMatrix(t),n=0,i=this.vertices.length;n<i;n++){var r=this.vertices[n];r.applyMatrix4(t)}for(var n=0,i=this.faces.length;n<i;n++){var o=this.faces[n];o.normal.applyMatrix3(e).normalize();for(var a=0,s=o.vertexNormals.length;a<s;a++)o.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,i){return void 0===t&&(t=new l),t.makeTranslation(e,n,i),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,i){return void 0===t&&(t=new l),t.makeScale(e,n,i),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new ct),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,n,r){var o=void 0!==s?[f[t].clone(),f[e].clone(),f[n].clone()]:[],a=void 0!==u?[i.colors[t].clone(),i.colors[e].clone(),i.colors[n].clone()]:[],c=new pt(t,e,n,o,a,r);i.faces.push(c),void 0!==l&&i.faceVertexUvs[0].push([p[t].clone(),p[e].clone(),p[n].clone()]),void 0!==h&&i.faceVertexUvs[1].push([d[t].clone(),d[e].clone(),d[n].clone()])}var i=this,r=null!==t.index?t.index.array:void 0,o=t.attributes,a=o.position.array,s=void 0!==o.normal?o.normal.array:void 0,u=void 0!==o.color?o.color.array:void 0,l=void 0!==o.uv?o.uv.array:void 0,h=void 0!==o.uv2?o.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var f=[],p=[],d=[],m=0,g=0;m<a.length;m+=3,g+=2)i.vertices.push(new c(a[m],a[m+1],a[m+2])),void 0!==s&&f.push(new c(s[m],s[m+1],s[m+2])),void 0!==u&&i.colors.push(new X(u[m],u[m+1],u[m+2])),void 0!==l&&p.push(new n(l[g],l[g+1])),void 0!==h&&d.push(new n(h[g],h[g+1]));if(void 0!==r){var v=t.groups;if(v.length>0)for(var m=0;m<v.length;m++)for(var y=v[m],_=y.start,x=y.count,g=_,b=_+x;g<b;g+=3)e(r[g],r[g+1],r[g+2],y.materialIndex);else for(var m=0;m<r.length;m+=3)e(r[m],r[m+1],r[m+2])}else for(var m=0;m<a.length/3;m+=3)e(m,m+1,m+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,i=new l;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var t=new c,e=new c,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],o=this.vertices[r.a],a=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,i,r,o,a;for(a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new c;if(t){var s,u,l,h=new c,f=new c;for(i=0,r=this.faces.length;i<r;i++)o=this.faces[i],s=this.vertices[o.a],u=this.vertices[o.b],l=this.vertices[o.c],h.subVectors(l,u),f.subVectors(s,u),h.cross(f),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)o=this.faces[i],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(i=0,r=this.faces.length;i<r;i++){o=this.faces[i];var p=o.vertexNormals;3===p.length?(p[0].copy(a[o.a]),p[1].copy(a[o.b]),p[2].copy(a[o.c])):(p[0]=a[o.a].clone(),p[1]=a[o.b].clone(),p[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var i=n.vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for(r=this.faces[n],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var o=new St;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a,s,u=this.morphNormals[t].faceNormals,l=this.morphNormals[t].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)a=new c,s={a:new c,b:new c,c:new c},u.push(a),l.push(s)}var h=this.morphNormals[t];o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals();var a,s;for(n=0,i=this.faces.length;n<i;n++)r=this.faces[n],a=h.faceNormals[n],s=h.vertexNormals[n],a.copy(r.normal),s.a.copy(r.vertexNormals[0]),s.b.copy(r.vertexNormals[1]),s.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)r=this.faces[n],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,i=e.length;n<i;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tt),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new et),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if((t&&t.isGeometry)===!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var i,r=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,u=t.faces,c=this.faceVertexUvs[0],l=t.faceVertexUvs[0],h=this.colors,f=t.colors;void 0===n&&(n=0),void 0!==e&&(i=(new nt).getNormalMatrix(e));for(var p=0,d=a.length;p<d;p++){var m=a[p],g=m.clone();void 0!==e&&g.applyMatrix4(e),o.push(g)}for(var p=0,d=f.length;p<d;p++)h.push(f[p].clone());for(p=0,d=u.length;p<d;p++){var v,y,_,x=u[p],b=x.vertexNormals,w=x.vertexColors;v=new pt(x.a+r,x.b+r,x.c+r),v.normal.copy(x.normal),void 0!==i&&v.normal.applyMatrix3(i).normalize();for(var T=0,M=b.length;T<M;T++)y=b[T].clone(),void 0!==i&&y.applyMatrix3(i).normalize(),v.vertexNormals.push(y);v.color.copy(x.color);for(var T=0,M=w.length;T<M;T++)_=w[T],v.vertexColors.push(_.clone());v.materialIndex=x.materialIndex+n,s.push(v)}for(p=0,d=l.length;p<d;p++){var E=l[p],S=[];if(void 0!==E){for(var T=0,M=E.length;T<M;T++)S.push(E[T].clone());c.push(S)}}},mergeMesh:function(t){return(t&&t.isMesh)===!1?void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t):(t.matrixAutoUpdate&&t.updateMatrix(),void this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,n,i,r,o,a,s,u={},c=[],l=[],h=4,f=Math.pow(10,h);for(n=0,i=this.vertices.length;n<i;n++)t=this.vertices[n],e=Math.round(t.x*f)+"_"+Math.round(t.y*f)+"_"+Math.round(t.z*f),void 0===u[e]?(u[e]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[e]];var p=[];for(n=0,i=this.faces.length;n<i;n++){r=this.faces[n],r.a=l[r.a],r.b=l[r.b],r.c=l[r.c],o=[r.a,r.b,r.c];for(var d=-1,m=0;m<3;m++)if(o[m]===o[(m+1)%3]){d=m,p.push(n);break}}for(n=p.length-1;n>=0;n--){var g=p[n];for(this.faces.splice(g,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(g,1)}var v=this.vertices.length-c.length;return this.vertices=c,v},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,i=0;i<n;i++)e[i]._id=i;e.sort(t);var r,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===n&&(r=[]),s&&s.length===n&&(o=[]);for(var i=0;i<n;i++){var u=e[i]._id;r&&r.push(a[u]),o&&o.push(s[u])}r&&(this.faceVertexUvs[0]=r),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==f[e]?f[e]:(f[e]=h.length/3,h.push(t.x,t.y,t.z),f[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==d[e]?d[e]:(d[e]=p.length,p.push(t.getHex()),d[e])}function i(t){var e=t.x.toString()+t.y.toString();return void 0!==g[e]?g[e]:(g[e]=m.length/2,m.push(t.x,t.y),g[e])}var r={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(r[a]=o[a]);return r}for(var s=[],u=0;u<this.vertices.length;u++){var c=this.vertices[u];s.push(c.x,c.y,c.z)}for(var l=[],h=[],f={},p=[],d={},m=[],g={},u=0;u<this.faces.length;u++){var v=this.faces[u],y=!0,_=!1,x=void 0!==this.faceVertexUvs[0][u],b=v.normal.length()>0,w=v.vertexNormals.length>0,T=1!==v.color.r||1!==v.color.g||1!==v.color.b,M=v.vertexColors.length>0,E=0;if(E=t(E,0,0),E=t(E,1,y),E=t(E,2,_),E=t(E,3,x),E=t(E,4,b),E=t(E,5,w),E=t(E,6,T),E=t(E,7,M),l.push(E),l.push(v.a,v.b,v.c),l.push(v.materialIndex),x){var S=this.faceVertexUvs[0][u];l.push(i(S[0]),i(S[1]),i(S[2]))}if(b&&l.push(e(v.normal)),w){var A=v.vertexNormals;l.push(e(A[0]),e(A[1]),e(A[2]))}if(T&&l.push(n(v.color)),M){var P=v.vertexColors;l.push(n(P[0]),n(P[1]),n(P[2]))}}return r.data={},r.data.vertices=s,r.data.normals=h,p.length>0&&(r.data.colors=p),m.length>0&&(r.data.uvs=[m]),r.data.faces=l,r},clone:function(){return(new St).copy(this)},copy:function(t){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]],this.colors=[];for(var e=t.vertices,n=0,i=e.length;n<i;n++)this.vertices.push(e[n].clone());for(var r=t.colors,n=0,i=r.length;n<i;n++)this.colors.push(r[n].clone());
for(var o=t.faces,n=0,i=o.length;n<i;n++)this.faces.push(o[n].clone());for(var n=0,i=t.faceVertexUvs.length;n<i;n++){var a=t.faceVertexUvs[n];void 0===this.faceVertexUvs[n]&&(this.faceVertexUvs[n]=[]);for(var s=0,u=a.length;s<u;s++){for(var c=a[s],l=[],h=0,f=c.length;h<f;h++){var p=c[h];l.push(p.clone())}this.faceVertexUvs[n].push(l)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Yu=0;Object.assign(Pt.prototype,e.prototype,{computeBoundingBox:St.prototype.computeBoundingBox,computeBoundingSphere:St.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(t){for(var e,n,i=[],r=t.faces,o=0;o<r.length;o++){var a=r[o];a.materialIndex!==n&&(n=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,i.push(e)),e={start:3*o,materialIndex:n})}void 0!==e&&(e.count=3*o-e.start,i.push(e)),this.groups=i},fromGeometry:function(t){var e,i=t.faces,r=t.vertices,o=t.faceVertexUvs,a=o[0]&&o[0].length>0,s=o[1]&&o[1].length>0,u=t.morphTargets,c=u.length;if(c>0){e=[];for(var l=0;l<c;l++)e[l]=[];this.morphTargets.position=e}var h,f=t.morphNormals,p=f.length;if(p>0){h=[];for(var l=0;l<p;l++)h[l]=[];this.morphTargets.normal=h}for(var d=t.skinIndices,m=t.skinWeights,g=d.length===r.length,v=m.length===r.length,l=0;l<i.length;l++){var y=i[l];this.vertices.push(r[y.a],r[y.b],r[y.c]);var _=y.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var x=y.normal;this.normals.push(x,x,x)}var b=y.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var w=y.color;this.colors.push(w,w,w)}if(a===!0){var T=o[0][l];void 0!==T?this.uvs.push(T[0],T[1],T[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new n,new n,new n))}if(s===!0){var T=o[1][l];void 0!==T?this.uvs2.push(T[0],T[1],T[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new n,new n,new n))}for(var M=0;M<c;M++){var E=u[M].vertices;e[M].push(E[y.a],E[y.b],E[y.c])}for(var M=0;M<p;M++){var S=f[M].vertexNormals[l];h[M].push(S.a,S.b,S.c)}g&&this.skinIndices.push(d[y.a],d[y.b],d[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.assign(Rt.prototype,e.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){this.index=t},addAttribute:function(t,e){return(e&&e.isBufferAttribute)===!1&&(e&&e.isInterleavedBufferAttribute)===!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new mt(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new nt).getNormalMatrix(t);i.applyToVector3Array(n.array),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,i){return void 0===t&&(t=new l),t.makeTranslation(e,n,i),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,i){return void 0===t&&(t=new l),t.makeScale(e,n,i),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new ct),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t&&t.isPoints||t&&t.isLine){var n=new Tt(3*e.vertices.length,3),i=new Tt(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new Tt(e.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t&&t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t&&t.isMesh){var n=e.__directGeometry;if(e.elementsNeedUpdate===!0&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var i;return e.verticesNeedUpdate===!0&&(i=this.attributes.position,void 0!==i&&(i.copyVector3sArray(e.vertices),i.needsUpdate=!0),e.verticesNeedUpdate=!1),e.normalsNeedUpdate===!0&&(i=this.attributes.normal,void 0!==i&&(i.copyVector3sArray(e.normals),i.needsUpdate=!0),e.normalsNeedUpdate=!1),e.colorsNeedUpdate===!0&&(i=this.attributes.color,void 0!==i&&(i.copyColorsArray(e.colors),i.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(i=this.attributes.uv,void 0!==i&&(i.copyVector2sArray(e.uvs),i.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(i=this.attributes.lineDistance,void 0!==i&&(i.copyArray(e.lineDistances),i.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Pt).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new mt(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new mt(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var i=new Float32Array(3*t.colors.length);this.addAttribute("color",new mt(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new mt(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new mt(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=t.vertices.length>65535?Uint32Array:Uint16Array,s=new a(3*t.indices.length);this.setIndex(new mt(s,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var u in t.morphTargets){for(var c=[],l=t.morphTargets[u],h=0,f=l.length;h<f;h++){var p=l[h],d=new Tt(3*p.length,3);c.push(d.copyVector3sArray(p))}this.morphAttributes[u]=c}if(t.skinIndices.length>0){var m=new Tt(4*t.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var g=new Tt(4*t.skinWeights.length,4);this.addAttribute("skinWeight",g.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tt);var t=this.attributes.position.array;void 0!==t?this.boundingBox.setFromArray(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new tt,e=new c;return function(){null===this.boundingSphere&&(this.boundingSphere=new et);var n=this.attributes.position;if(n){var i=n.array,r=this.boundingSphere.center;t.setFromArray(i),t.getCenter(r);for(var o=0,a=0,s=i.length;a<s;a+=3)e.fromArray(i,a),o=Math.max(o,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var i=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new mt(new Float32Array(i.length),3));else for(var r=e.normal.array,o=0,a=r.length;o<a;o++)r[o]=0;var s,u,l,h=e.normal.array,f=new c,p=new c,d=new c,m=new c,g=new c;if(t){var v=t.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,_=n.length;y<_;++y)for(var x=n[y],b=x.start,w=x.count,o=b,a=b+w;o<a;o+=3)s=3*v[o+0],u=3*v[o+1],l=3*v[o+2],f.fromArray(i,s),p.fromArray(i,u),d.fromArray(i,l),m.subVectors(d,p),g.subVectors(f,p),m.cross(g),h[s]+=m.x,h[s+1]+=m.y,h[s+2]+=m.z,h[u]+=m.x,h[u+1]+=m.y,h[u+2]+=m.z,h[l]+=m.x,h[l+1]+=m.y,h[l+2]+=m.z}else for(var o=0,a=i.length;o<a;o+=9)f.fromArray(i,o),p.fromArray(i,o+3),d.fromArray(i,o+6),m.subVectors(d,p),g.subVectors(f,p),m.cross(g),h[o]=m.x,h[o+1]=m.y,h[o+2]=m.z,h[o+3]=m.x,h[o+4]=m.y,h[o+5]=m.z,h[o+6]=m.x,h[o+7]=m.y,h[o+8]=m.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if((t&&t.isBufferGeometry)===!1)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0);var n=this.attributes;for(var i in n)if(void 0!==t.attributes[i])for(var r=n[i],o=r.array,a=t.attributes[i],s=a.array,u=a.itemSize,c=0,l=u*e;c<s.length;c++,l++)o[l]=s[c];return this},normalizeNormals:function(){for(var t,e,n,i,r=this.attributes.normal.array,o=0,a=r.length;o<a;o+=3)t=r[o],e=r[o+1],n=r[o+2],i=1/Math.sqrt(t*t+e*e+n*n),r[o]*=i,r[o+1]*=i,r[o+2]*=i},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Rt,e=this.index.array,n=this.attributes;for(var i in n){for(var r=n[i],o=r.array,a=r.itemSize,s=new o.constructor(e.length*a),u=0,c=0,l=0,h=e.length;l<h;l++){u=e[l]*a;for(var f=0;f<a;f++)s[c++]=o[u++]}t.addAttribute(i,new mt(s,a))}return t},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;if(null!==i){var r=Array.prototype.slice.call(i.array);t.data.index={type:i.array.constructor.name,array:r}}var o=this.attributes;for(var n in o){var a=o[n],r=Array.prototype.slice.call(a.array);t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:r,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t},clone:function(){return(new Rt).copy(this)},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var i in n){var r=n[i];this.addAttribute(i,r.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Rt.MaxIndex=65535,Ct.prototype=Object.assign(Object.create(ct.prototype),{constructor:Ct,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return ct.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,n,i,r,o,a){return ft.barycoordFromPoint(t,e,n,i,y),r.multiplyScalar(y.x),o.multiplyScalar(y.y),a.multiplyScalar(y.z),r.add(o).add(a),r.clone()}function e(t,e,n,i,r,o,a){var s,u=t.material;if(s=u.side===Ar?n.intersectTriangle(o,r,i,!0,a):n.intersectTriangle(i,r,o,u.side!==Pr,a),null===s)return null;x.copy(a),x.applyMatrix4(t.matrixWorld);var c=e.ray.origin.distanceTo(x);return c<e.near||c>e.far?null:{distance:c,point:x.clone(),object:t}}function i(n,i,r,o,a,c,l,f){s.fromArray(o,3*c),u.fromArray(o,3*l),h.fromArray(o,3*f);var p=e(n,i,r,s,u,h,_);return p&&(a&&(m.fromArray(a,2*c),g.fromArray(a,2*l),v.fromArray(a,2*f),p.uv=t(_,s,u,h,m,g,v)),p.face=new pt(c,l,f,ft.normal(s,u,h)),p.faceIndex=c),p}var r=new l,o=new at,a=new et,s=new c,u=new c,h=new c,f=new c,p=new c,d=new c,m=new n,g=new n,v=new n,y=new c,_=new c,x=new c;return function(n,c){var l=this.geometry,y=this.material,x=this.matrixWorld;if(void 0!==y&&(null===l.boundingSphere&&l.computeBoundingSphere(),a.copy(l.boundingSphere),a.applyMatrix4(x),n.ray.intersectsSphere(a)!==!1&&(r.getInverse(x),o.copy(n.ray).applyMatrix4(r),null===l.boundingBox||o.intersectsBox(l.boundingBox)!==!1))){var b,w;if(l&&l.isBufferGeometry){var T,M,E,S=l.index,A=l.attributes,P=A.position.array;if(void 0!==A.uv&&(b=A.uv.array),null!==S)for(var R=S.array,C=0,L=R.length;C<L;C+=3)T=R[C],M=R[C+1],E=R[C+2],w=i(this,n,o,P,b,T,M,E),w&&(w.faceIndex=Math.floor(C/3),c.push(w));else for(var C=0,L=P.length;C<L;C+=9)T=C/3,M=T+1,E=T+2,w=i(this,n,o,P,b,T,M,E),w&&(w.index=T,c.push(w))}else if(l&&l.isGeometry){var O,D,I,N=y&&y.isMultiMaterial,F=N===!0?y.materials:null,U=l.vertices,k=l.faces,z=l.faceVertexUvs[0];z.length>0&&(b=z);for(var B=0,j=k.length;B<j;B++){var G=k[B],H=N===!0?F[G.materialIndex]:y;if(void 0!==H){if(O=U[G.a],D=U[G.b],I=U[G.c],H.morphTargets===!0){var V=l.morphTargets,W=this.morphTargetInfluences;s.set(0,0,0),u.set(0,0,0),h.set(0,0,0);for(var X=0,q=V.length;X<q;X++){var Y=W[X];if(0!==Y){var Z=V[X].vertices;s.addScaledVector(f.subVectors(Z[G.a],O),Y),u.addScaledVector(p.subVectors(Z[G.b],D),Y),h.addScaledVector(d.subVectors(Z[G.c],I),Y)}}s.add(O),u.add(D),h.add(I),O=s,D=u,I=h}if(w=e(this,n,o,O,D,I,_)){if(b){var $=b[B];m.copy($[0]),g.copy($[1]),v.copy($[2]),w.uv=t(_,O,D,I,m,g,v)}w.face=G,w.faceIndex=B,c.push(w)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Lt.prototype=Object.create(Rt.prototype),Lt.prototype.constructor=Lt,Ot.prototype=Object.create(Rt.prototype),Ot.prototype.constructor=Ot,Dt.prototype=Object.create(ct.prototype),Dt.prototype.constructor=Dt,Dt.prototype.isCamera=!0,Dt.prototype.getWorldDirection=function(){var t=new u;return function(e){var n=e||new c;return this.getWorldQuaternion(t),n.set(0,0,-1).applyQuaternion(t)}}(),Dt.prototype.lookAt=function(){var t=new l;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),Dt.prototype.clone=function(){return(new this.constructor).copy(this)},Dt.prototype.copy=function(t){return ct.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},It.prototype=Object.assign(Object.create(Dt.prototype),{constructor:It,isPerspectiveCamera:!0,copy:function(t){return Dt.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Ua.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Ua.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Ua.RAD2DEG*Math.atan(Math.tan(.5*Ua.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:i,width:r,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Ua.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/a,e-=o.offsetY*n/s,i*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(r+=t*u/this.getFilmWidth()),this.projectionMatrix.makeFrustum(r,r+i,e-n,e,t,this.far)},toJSON:function(t){var e=ct.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Nt.prototype=Object.assign(Object.create(Dt.prototype),{constructor:Nt,isOrthographicCamera:!0,copy:function(t){return Dt.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,o){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:i,width:r,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,o=n+t,a=i+e,s=i-e;if(null!==this.view){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;r+=l*(this.view.offsetX/u),o=r+l*(this.view.width/u),a-=h*(this.view.offsetY/c),s=a-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(r,o,a,s,this.near,this.far)},toJSON:function(t){var e=ct.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Zu=0;ce.prototype.isFogExp2=!0,ce.prototype.clone=function(){return new ce(this.color.getHex(),this.density)},ce.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},le.prototype.isFog=!0,le.prototype.clone=function(){return new le(this.color.getHex(),this.near,this.far)},le.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},he.prototype=Object.create(ct.prototype),he.prototype.constructor=he,he.prototype.copy=function(t,e){return ct.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},he.prototype.toJSON=function(t){var e=ct.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},fe.prototype=Object.assign(Object.create(ct.prototype),{constructor:fe,isLensFlare:!0,copy:function(t){ct.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,i,r,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===r&&(r=new X(16777215)),void 0===i&&(i=Nr),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:r,blending:i})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,i=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(t=0;t<n;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+i*e.distance,e.y=this.positionScreen.y+r*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),pe.prototype=Object.create($.prototype),pe.prototype.constructor=pe,pe.prototype.copy=function(t){return $.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},de.prototype=Object.assign(Object.create(ct.prototype),{constructor:de,isSprite:!0,raycast:function(){var t=new c;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var i=e.ray.distanceSqToPoint(t),r=this.scale.x*this.scale.y/4;i>r||n.push({distance:Math.sqrt(i),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),me.prototype=Object.assign(Object.create(ct.prototype),{constructor:me,copy:function(t){ct.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,i=e.length;n<i;n++){var r=e[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,i=0;i<n.length&&!(e<n[i].distance);i++);n.splice(i,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new c;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var i=e.ray.origin.distanceTo(t);this.getObjectForDistance(i).raycast(e,n)}}(),update:function(){var t=new c,e=new c;return function(n){var i=this.levels;if(i.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var r=t.distanceTo(e);i[0].object.visible=!0;for(var o=1,a=i.length;o<a&&r>=i[o].distance;o++)i[o-1].object.visible=!1,i[o].object.visible=!0;for(;o<a;o++)i[o].object.visible=!1}}}(),toJSON:function(t){var e=ct.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var o=n[i];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),ge.prototype=Object.create(i.prototype),ge.prototype.constructor=ge,ge.prototype.isDataTexture=!0,Object.assign(ve.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new l;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t,e=0,n=this.bones.length;e<n;e++)t=this.bones[e],t&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,n=this.bones.length;e<n;e++)t=this.bones[e],t&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new l;return function(){for(var e=0,n=this.bones.length;e<n;e++){var i=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(i,this.boneInverses[e]),t.toArray(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new ve(this.bones,this.boneInverses,this.useVertexTexture)}}),ye.prototype=Object.assign(Object.create(ct.prototype),{constructor:ye,isBone:!0,copy:function(t){return ct.prototype.copy.call(this,t),this.skin=t.skin,this}}),_e.prototype=Object.assign(Object.create(Ct.prototype),{constructor:_e,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t],n=1/e.lengthManhattan();n!==1/0?e.multiplyScalar(n):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry)for(var i=new o,r=this.geometry.attributes.skinWeight,t=0;t<r.count;t++){i.x=r.getX(t),i.y=r.getY(t),i.z=r.getZ(t),i.w=r.getW(t);var n=1/i.lengthManhattan();n!==1/0?i.multiplyScalar(n):i.set(1,0,0,0),r.setXYZW(t,i.x,i.y,i.z,i.w)}},updateMatrixWorld:function(t){Ct.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),xe.prototype=Object.create($.prototype),xe.prototype.constructor=xe,xe.prototype.isLineBasicMaterial=!0,xe.prototype.copy=function(t){return $.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},be.prototype=Object.assign(Object.create(ct.prototype),{constructor:be,isLine:!0,raycast:function(){var t=new l,e=new at,n=new et;return function(i,r){var o=i.linePrecision,a=o*o,s=this.geometry,u=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),i.ray.intersectsSphere(n)!==!1){t.getInverse(u),e.copy(i.ray).applyMatrix4(t);var l=new c,h=new c,f=new c,p=new c,d=this&&this.isLineSegments?2:1;if(s&&s.isBufferGeometry){var m=s.index,g=s.attributes,v=g.position.array;if(null!==m)for(var y=m.array,_=0,x=y.length-1;_<x;_+=d){var b=y[_],w=y[_+1];l.fromArray(v,3*b),h.fromArray(v,3*w);var T=e.distanceSqToSegment(l,h,p,f);if(!(T>a)){p.applyMatrix4(this.matrixWorld);var M=i.ray.origin.distanceTo(p);M<i.near||M>i.far||r.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(var _=0,x=v.length/3-1;_<x;_+=d){l.fromArray(v,3*_),h.fromArray(v,3*_+3);var T=e.distanceSqToSegment(l,h,p,f);if(!(T>a)){p.applyMatrix4(this.matrixWorld);var M=i.ray.origin.distanceTo(p);M<i.near||M>i.far||r.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(s&&s.isGeometry)for(var E=s.vertices,S=E.length,_=0;_<S-1;_+=d){var T=e.distanceSqToSegment(E[_],E[_+1],p,f);if(!(T>a)){p.applyMatrix4(this.matrixWorld);var M=i.ray.origin.distanceTo(p);M<i.near||M>i.far||r.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),we.prototype=Object.assign(Object.create(be.prototype),{constructor:we,isLineSegments:!0}),Te.prototype=Object.create($.prototype),Te.prototype.constructor=Te,Te.prototype.isPointsMaterial=!0,Te.prototype.copy=function(t){return $.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Me.prototype=Object.assign(Object.create(ct.prototype),{constructor:Me,isPoints:!0,raycast:function(){var t=new l,e=new at,n=new et;return function(i,r){function o(t,n){var o=e.distanceSqToPoint(t);if(o<f){var s=e.closestPointToPoint(t);s.applyMatrix4(u);var c=i.ray.origin.distanceTo(s);if(c<i.near||c>i.far)return;r.push({distance:c,distanceToRay:Math.sqrt(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,s=this.geometry,u=this.matrixWorld,l=i.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),i.ray.intersectsSphere(n)!==!1){t.getInverse(u),e.copy(i.ray).applyMatrix4(t);var h=l/((this.scale.x+this.scale.y+this.scale.z)/3),f=h*h,p=new c;if(s&&s.isBufferGeometry){var d=s.index,m=s.attributes,g=m.position.array;if(null!==d)for(var v=d.array,y=0,_=v.length;y<_;y++){var x=v[y];p.fromArray(g,3*x),o(p,x)}else for(var y=0,b=g.length/3;y<b;y++)p.fromArray(g,3*y),o(p,y)}else for(var w=s.vertices,y=0,b=w.length;y<b;y++)o(w[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ee.prototype=Object.assign(Object.create(ct.prototype),{constructor:Ee}),Se.prototype=Object.create(i.prototype),Se.prototype.constructor=Se,Ae.prototype=Object.create(i.prototype),Ae.prototype.constructor=Ae,Ae.prototype.isCompressedTexture=!0,Pe.prototype=Object.create(i.prototype),Pe.prototype.constructor=Pe,Re.prototype=Object.create(i.prototype),Re.prototype.constructor=Re,Re.prototype.isDepthTexture=!0,Ce.prototype=Object.create(Rt.prototype),Ce.prototype.constructor=Ce,Le.prototype=Object.create(Rt.prototype),Le.prototype.constructor=Le,Oe.prototype=Object.create(St.prototype),Oe.prototype.constructor=Oe,De.prototype=Object.create(Rt.prototype),De.prototype.constructor=De,Ie.prototype=Object.create(De.prototype),Ie.prototype.constructor=Ie,Ne.prototype=Object.create(St.prototype),Ne.prototype.constructor=Ne,Fe.prototype=Object.create(De.prototype),Fe.prototype.constructor=Fe,Ue.prototype=Object.create(St.prototype),Ue.prototype.constructor=Ue,ke.prototype=Object.create(De.prototype),ke.prototype.constructor=ke,ze.prototype=Object.create(St.prototype),ze.prototype.constructor=ze,Be.prototype=Object.create(De.prototype),Be.prototype.constructor=Be,je.prototype=Object.create(St.prototype),je.prototype.constructor=je,Ge.prototype=Object.create(St.prototype),Ge.prototype.constructor=Ge,He.prototype=Object.create(Rt.prototype),He.prototype.constructor=He,Ve.prototype=Object.create(St.prototype),Ve.prototype.constructor=Ve,We.prototype=Object.create(Rt.prototype),We.prototype.constructor=We,Xe.prototype=Object.create(St.prototype),Xe.prototype.constructor=Xe,qe.prototype=Object.create(Rt.prototype),qe.prototype.constructor=qe,Ye.prototype=Object.create(St.prototype),Ye.prototype.constructor=Ye;var $u={area:function(t){for(var e=t.length,n=0,i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},triangulate:function(){function t(t,e,n,i,r,o){var a,s,u,c,l,h,f,p,d;if(s=t[o[e]].x,u=t[o[e]].y,c=t[o[n]].x,l=t[o[n]].y,h=t[o[i]].x,f=t[o[i]].y,(c-s)*(f-u)-(l-u)*(h-s)<=0)return!1;var m,g,v,y,_,x,b,w,T,M,E,S,A,P,R;for(m=h-c,g=f-l,v=s-h,y=u-f,_=c-s,x=l-u,a=0;a<r;a++)if(p=t[o[a]].x,d=t[o[a]].y,!(p===s&&d===u||p===c&&d===l||p===h&&d===f)&&(b=p-s,w=d-u,T=p-c,M=d-l,E=p-h,S=d-f,R=m*M-g*T,A=_*w-x*b,P=v*S-y*E,R>=-Number.EPSILON&&P>=-Number.EPSILON&&A>=-Number.EPSILON))return!1;return!0}return function(e,n){var i=e.length;if(i<3)return null;var r,o,a,s=[],u=[],c=[];if($u.area(e)>0)for(o=0;o<i;o++)u[o]=o;else for(o=0;o<i;o++)u[o]=i-1-o;var l=i,h=2*l;for(o=l-1;l>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?c:s;if(r=o,l<=r&&(r=0),o=r+1,l<=o&&(o=0),a=o+1,l<=a&&(a=0),t(e,r,o,a,l,u)){var f,p,d,m,g;for(f=u[r],p=u[o],d=u[a],s.push([e[f],e[p],e[d]]),c.push([u[r],u[o],u[a]]),m=o,g=o+1;g<l;m++,g++)u[m]=u[g];l--,h=2*l}}return n?c:s}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function i(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function r(t,e,n,r,o){var a=e.x-t.x,s=e.y-t.y,u=r.x-n.x,c=r.y-n.y,l=t.x-n.x,h=t.y-n.y,f=s*u-a*c,p=s*l-a*h;
if(Math.abs(f)>Number.EPSILON){var d;if(f>0){if(p<0||p>f)return[];if(d=c*l-u*h,d<0||d>f)return[]}else{if(p>0||p<f)return[];if(d=c*l-u*h,d>0||d<f)return[]}if(0===d)return!o||0!==p&&p!==f?[t]:[];if(d===f)return!o||0!==p&&p!==f?[e]:[];if(0===p)return[n];if(p===f)return[r];var m=d/f;return[{x:t.x+m*a,y:t.y+m*s}]}if(0!==p||c*l!==u*h)return[];var g=0===a&&0===s,v=0===u&&0===c;if(g&&v)return t.x!==n.x||t.y!==n.y?[]:[t];if(g)return i(n,r,t)?[t]:[];if(v)return i(t,e,n)?[n]:[];var y,_,x,b,w,T,M,E;return 0!==a?(t.x<e.x?(y=t,x=t.x,_=e,b=e.x):(y=e,x=e.x,_=t,b=t.x),n.x<r.x?(w=n,M=n.x,T=r,E=r.x):(w=r,M=r.x,T=n,E=n.x)):(t.y<e.y?(y=t,x=t.y,_=e,b=e.y):(y=e,x=e.y,_=t,b=t.y),n.y<r.y?(w=n,M=n.y,T=r,E=r.y):(w=r,M=r.y,T=n,E=n.y)),x<=M?b<M?[]:b===M?o?[]:[w]:b<=E?[w,_]:[w,T]:x>E?[]:x===E?o?[]:[y]:b<=E?[y,_]:[y,T]}function o(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,a=n.x-t.x,s=n.y-t.y,u=i.x-t.x,c=i.y-t.y,l=r*s-o*a,h=r*c-o*u;if(Math.abs(l)>Number.EPSILON){var f=u*s-c*a;return l>0?h>=0&&f>=0:h>=0||f>=0}return h>0}function a(t,e){function n(t,e){var n=y.length-1,i=t-1;i<0&&(i=n);var r=t+1;r>n&&(r=0);var a=o(y[t],y[i],y[r],s[e]);if(!a)return!1;var u=s.length-1,c=e-1;c<0&&(c=u);var l=e+1;return l>u&&(l=0),a=o(s[e],s[c],s[l],y[t]),!!a}function i(t,e){var n,i,o;for(n=0;n<y.length;n++)if(i=n+1,i%=y.length,o=r(t,e,y[n],y[i],!0),o.length>0)return!0;return!1}function a(t,n){var i,o,a,s,u;for(i=0;i<_.length;i++)for(o=e[_[i]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=r(t,n,o[a],o[s],!0),u.length>0)return!0;return!1}for(var s,u,c,l,h,f,p,d,m,g,v,y=t.concat(),_=[],x=[],b=0,w=e.length;b<w;b++)_.push(b);for(var T=0,M=2*_.length;_.length>0;){if(M--,M<0){console.log("Infinite Loop! Holes left:"+_.length+", Probably Hole outside Shape!");break}for(c=T;c<y.length;c++){l=y[c],u=-1;for(var b=0;b<_.length;b++)if(f=_[b],p=l.x+":"+l.y+":"+f,void 0===x[p]){s=e[f];for(var E=0;E<s.length;E++)if(h=s[E],n(c,E)&&!i(l,h)&&!a(l,h)){u=E,_.splice(b,1),d=y.slice(0,c+1),m=y.slice(c),g=s.slice(u),v=s.slice(0,u+1),y=d.concat(g).concat(v).concat(m),T=c;break}if(u>=0)break;x[p]=!0}if(u>=0)break}}return y}n(t),e.forEach(n);for(var s,u,c,l,h,f,p={},d=t.concat(),m=0,g=e.length;m<g;m++)Array.prototype.push.apply(d,e[m]);for(s=0,u=d.length;s<u;s++)h=d[s].x+":"+d[s].y,void 0!==p[h]&&console.warn("THREE.ShapeUtils: Duplicate point",h,s),p[h]=s;var v=a(t,e),y=$u.triangulate(v,!1);for(s=0,u=y.length;s<u;s++)for(l=y[s],c=0;c<3;c++)h=l[c].x+":"+l[c].y,f=p[h],void 0!==f&&(l[c]=f);return y.concat()},isClockWise:function(t){return $u.area(t)<0},b2:function(){function t(t,e){var n=1-t;return n*n*e}function e(t,e){return 2*(1-t)*t*e}function n(t,e){return t*t*e}return function(i,r,o,a){return t(i,r)+e(i,o)+n(i,a)}}(),b3:function(){function t(t,e){var n=1-t;return n*n*n*e}function e(t,e){var n=1-t;return 3*n*n*t*e}function n(t,e){var n=1-t;return 3*n*t*t*e}function i(t,e){return t*t*t*e}return function(r,o,a,s,u){return t(r,o)+e(r,a)+n(r,s)+i(r,u)}}()};Ze.prototype=Object.create(St.prototype),Ze.prototype.constructor=Ze,Ze.prototype.addShapeList=function(t,e){for(var n=t.length,i=0;i<n;i++){var r=t[i];this.addShape(r,e)}},Ze.prototype.addShape=function(t,e){function i(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function r(t,e,i){var r,o,a=1,s=t.x-e.x,u=t.y-e.y,c=i.x-t.x,l=i.y-t.y,h=s*s+u*u,f=s*l-u*c;if(Math.abs(f)>Number.EPSILON){var p=Math.sqrt(h),d=Math.sqrt(c*c+l*l),m=e.x-u/p,g=e.y+s/p,v=i.x-l/d,y=i.y+c/d,_=((v-m)*l-(y-g)*c)/(s*l-u*c);r=m+s*_-t.x,o=g+u*_-t.y;var x=r*r+o*o;if(x<=2)return new n(r,o);a=Math.sqrt(x/2)}else{var b=!1;s>Number.EPSILON?c>Number.EPSILON&&(b=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(b=!0):Math.sign(u)===Math.sign(l)&&(b=!0),b?(r=-u,o=s,a=Math.sqrt(h)):(r=s,o=u,a=Math.sqrt(h/2))}return new n(r/a,o/a)}function o(){if(b){var t=0,e=V*t;for(q=0;q<W;q++)H=F[q],l(H[2]+e,H[1]+e,H[0]+e);for(t=T+2*x,e=V*t,q=0;q<W;q++)H=F[q],l(H[0]+e,H[1]+e,H[2]+e)}else{for(q=0;q<W;q++)H=F[q],l(H[2],H[1],H[0]);for(q=0;q<W;q++)H=F[q],l(H[0]+V*T,H[1]+V*T,H[2]+V*T)}}function a(){var t=0;for(s(U,t),t+=U.length,P=0,R=I.length;P<R;P++)A=I[P],s(A,t),t+=A.length}function s(t,e){var n,i;for(q=t.length;--q>=0;){n=q,i=q-1,i<0&&(i=t.length-1);var r=0,o=T+2*x;for(r=0;r<o;r++){var a=V*r,s=V*(r+1),u=e+n+a,c=e+i+a,l=e+i+s,f=e+n+s;h(u,c,l,f,t,r,o,n,i)}}}function u(t,e,n){C.vertices.push(new c(t,e,n))}function l(t,e,n){t+=L,e+=L,n+=L,C.faces.push(new pt(t,e,n,null,null,0));var i=S.generateTopUV(C,t,e,n);C.faceVertexUvs[0].push(i)}function h(t,e,n,i,r,o,a,s,u){t+=L,e+=L,n+=L,i+=L,C.faces.push(new pt(t,e,i,null,null,1)),C.faces.push(new pt(e,n,i,null,null,1));var c=S.generateSideWallUV(C,t,e,n,i);C.faceVertexUvs[0].push([c[0],c[1],c[3]]),C.faceVertexUvs[0].push([c[1],c[2],c[3]])}var f,p,d,m,g,v=void 0!==e.amount?e.amount:100,y=void 0!==e.bevelThickness?e.bevelThickness:6,_=void 0!==e.bevelSize?e.bevelSize:y-2,x=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0===e.bevelEnabled||e.bevelEnabled,w=void 0!==e.curveSegments?e.curveSegments:12,T=void 0!==e.steps?e.steps:1,M=e.extrudePath,E=!1,S=void 0!==e.UVGenerator?e.UVGenerator:Ze.WorldUVGenerator;M&&(f=M.getSpacedPoints(T),E=!0,b=!1,p=void 0!==e.frames?e.frames:M.computeFrenetFrames(T,!1),d=new c,m=new c,g=new c),b||(x=0,y=0,_=0);var A,P,R,C=this,L=this.vertices.length,O=t.extractPoints(w),D=O.shape,I=O.holes,N=!$u.isClockWise(D);if(N){for(D=D.reverse(),P=0,R=I.length;P<R;P++)A=I[P],$u.isClockWise(A)&&(I[P]=A.reverse());N=!1}var F=$u.triangulateShape(D,I),U=D;for(P=0,R=I.length;P<R;P++)A=I[P],D=D.concat(A);for(var k,z,B,j,G,H,V=D.length,W=F.length,X=[],q=0,Y=U.length,Z=Y-1,$=q+1;q<Y;q++,Z++,$++)Z===Y&&(Z=0),$===Y&&($=0),X[q]=r(U[q],U[Z],U[$]);var J,Q=[],K=X.concat();for(P=0,R=I.length;P<R;P++){for(A=I[P],J=[],q=0,Y=A.length,Z=Y-1,$=q+1;q<Y;q++,Z++,$++)Z===Y&&(Z=0),$===Y&&($=0),J[q]=r(A[q],A[Z],A[$]);Q.push(J),K=K.concat(J)}for(k=0;k<x;k++){for(B=k/x,j=y*Math.cos(B*Math.PI/2),z=_*Math.sin(B*Math.PI/2),q=0,Y=U.length;q<Y;q++)G=i(U[q],X[q],z),u(G.x,G.y,-j);for(P=0,R=I.length;P<R;P++)for(A=I[P],J=Q[P],q=0,Y=A.length;q<Y;q++)G=i(A[q],J[q],z),u(G.x,G.y,-j)}for(z=_,q=0;q<V;q++)G=b?i(D[q],K[q],z):D[q],E?(m.copy(p.normals[0]).multiplyScalar(G.x),d.copy(p.binormals[0]).multiplyScalar(G.y),g.copy(f[0]).add(m).add(d),u(g.x,g.y,g.z)):u(G.x,G.y,0);var tt;for(tt=1;tt<=T;tt++)for(q=0;q<V;q++)G=b?i(D[q],K[q],z):D[q],E?(m.copy(p.normals[tt]).multiplyScalar(G.x),d.copy(p.binormals[tt]).multiplyScalar(G.y),g.copy(f[tt]).add(m).add(d),u(g.x,g.y,g.z)):u(G.x,G.y,v/T*tt);for(k=x-1;k>=0;k--){for(B=k/x,j=y*Math.cos(B*Math.PI/2),z=_*Math.sin(B*Math.PI/2),q=0,Y=U.length;q<Y;q++)G=i(U[q],X[q],z),u(G.x,G.y,v+j);for(P=0,R=I.length;P<R;P++)for(A=I[P],J=Q[P],q=0,Y=A.length;q<Y;q++)G=i(A[q],J[q],z),E?u(G.x,G.y+f[T-1].y,f[T-1].x+j):u(G.x,G.y,v+j)}o(),a()},Ze.WorldUVGenerator={generateTopUV:function(t,e,i,r){var o=t.vertices,a=o[e],s=o[i],u=o[r];return[new n(a.x,a.y),new n(s.x,s.y),new n(u.x,u.y)]},generateSideWallUV:function(t,e,i,r,o){var a=t.vertices,s=a[e],u=a[i],c=a[r],l=a[o];return Math.abs(s.y-u.y)<.01?[new n(s.x,1-s.z),new n(u.x,1-u.z),new n(c.x,1-c.z),new n(l.x,1-l.z)]:[new n(s.y,1-s.z),new n(u.y,1-u.z),new n(c.y,1-c.z),new n(l.y,1-l.z)]}},$e.prototype=Object.create(Ze.prototype),$e.prototype.constructor=$e,Je.prototype=Object.create(Rt.prototype),Je.prototype.constructor=Je,Qe.prototype=Object.create(St.prototype),Qe.prototype.constructor=Qe,Ke.prototype=Object.create(Rt.prototype),Ke.prototype.constructor=Ke,tn.prototype=Object.create(St.prototype),tn.prototype.constructor=tn,en.prototype=Object.create(St.prototype),en.prototype.constructor=en,nn.prototype=Object.create(Rt.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(St.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(St.prototype),on.prototype.constructor=on,on.prototype.addShapeList=function(t,e){for(var n=0,i=t.length;n<i;n++)this.addShape(t[n],e);return this},on.prototype.addShape=function(t,e){void 0===e&&(e={});var n,i,r,o=void 0!==e.curveSegments?e.curveSegments:12,a=e.material,s=void 0===e.UVGenerator?Ze.WorldUVGenerator:e.UVGenerator,u=this.vertices.length,l=t.extractPoints(o),h=l.shape,f=l.holes,p=!$u.isClockWise(h);if(p){for(h=h.reverse(),n=0,i=f.length;n<i;n++)r=f[n],$u.isClockWise(r)&&(f[n]=r.reverse());p=!1}var d=$u.triangulateShape(h,f);for(n=0,i=f.length;n<i;n++)r=f[n],h=h.concat(r);var m,g,v=h.length,y=d.length;for(n=0;n<v;n++)m=h[n],this.vertices.push(new c(m.x,m.y,0));for(n=0;n<y;n++){g=d[n];var _=g[0]+u,x=g[1]+u,b=g[2]+u;this.faces.push(new pt(_,x,b,null,null,a)),this.faceVertexUvs[0].push(s.generateTopUV(this,_,x,b))}},an.prototype=Object.create(Rt.prototype),an.prototype.constructor=an,sn.prototype=Object.create(Rt.prototype),sn.prototype.constructor=sn,un.prototype=Object.create(St.prototype),un.prototype.constructor=un,cn.prototype=Object.create(un.prototype),cn.prototype.constructor=cn,ln.prototype=Object.create(sn.prototype),ln.prototype.constructor=ln,hn.prototype=Object.create(Rt.prototype),hn.prototype.constructor=hn,fn.prototype=Object.create(St.prototype),fn.prototype.constructor=fn,pn.prototype=Object.create(St.prototype),pn.prototype.constructor=pn;var Ju=Object.freeze({WireframeGeometry:Ce,ParametricGeometry:Oe,ParametricBufferGeometry:Le,TetrahedronGeometry:Ne,TetrahedronBufferGeometry:Ie,OctahedronGeometry:Ue,OctahedronBufferGeometry:Fe,IcosahedronGeometry:ze,IcosahedronBufferGeometry:ke,DodecahedronGeometry:je,DodecahedronBufferGeometry:Be,PolyhedronGeometry:Ge,PolyhedronBufferGeometry:De,TubeGeometry:Ve,TubeBufferGeometry:He,TorusKnotGeometry:Xe,TorusKnotBufferGeometry:We,TorusGeometry:Ye,TorusBufferGeometry:qe,TextGeometry:$e,SphereBufferGeometry:Je,SphereGeometry:Qe,RingGeometry:tn,RingBufferGeometry:Ke,PlaneBufferGeometry:Ot,PlaneGeometry:en,LatheGeometry:rn,LatheBufferGeometry:nn,ShapeGeometry:on,ExtrudeGeometry:Ze,EdgesGeometry:an,ConeGeometry:cn,ConeBufferGeometry:ln,CylinderGeometry:un,CylinderBufferGeometry:sn,CircleBufferGeometry:hn,CircleGeometry:fn,BoxBufferGeometry:Lt,BoxGeometry:pn});dn.prototype=Object.create(Q.prototype),dn.prototype.constructor=dn,dn.prototype.isShadowMaterial=!0,mn.prototype=Object.create(Q.prototype),mn.prototype.constructor=mn,mn.prototype.isRawShaderMaterial=!0,gn.prototype={constructor:gn,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,i=0,r=n.length;i<r;i++){var o=n[i].toJSON(t);delete o.metadata,e.materials.push(o)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},vn.prototype=Object.create($.prototype),vn.prototype.constructor=vn,vn.prototype.isMeshStandardMaterial=!0,vn.prototype.copy=function(t){return $.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},yn.prototype=Object.create(vn.prototype),yn.prototype.constructor=yn,yn.prototype.isMeshPhysicalMaterial=!0,yn.prototype.copy=function(t){return vn.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},_n.prototype=Object.create($.prototype),_n.prototype.constructor=_n,_n.prototype.isMeshPhongMaterial=!0,_n.prototype.copy=function(t){return $.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},xn.prototype=Object.create($.prototype),xn.prototype.constructor=xn,xn.prototype.isMeshNormalMaterial=!0,xn.prototype.copy=function(t){return $.prototype.copy.call(this,t),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},bn.prototype=Object.create($.prototype),bn.prototype.constructor=bn,bn.prototype.isMeshLambertMaterial=!0,bn.prototype.copy=function(t){return $.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},wn.prototype=Object.create($.prototype),wn.prototype.constructor=wn,wn.prototype.isLineDashedMaterial=!0,wn.prototype.copy=function(t){return $.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Qu=Object.freeze({ShadowMaterial:dn,SpriteMaterial:pe,RawShaderMaterial:mn,ShaderMaterial:Q,PointsMaterial:Te,MultiMaterial:gn,MeshPhysicalMaterial:yn,MeshStandardMaterial:vn,MeshPhongMaterial:_n,MeshNormalMaterial:xn,MeshLambertMaterial:bn,MeshDepthMaterial:K,MeshBasicMaterial:dt,LineDashedMaterial:wn,LineBasicMaterial:xe,Material:$}),Ku={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},tc=new Tn;Object.assign(Mn.prototype,{load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var r=this,o=Ku.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;var a=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(a);if(s){var u=s[1],c=!!s[2],l=s[3];l=window.decodeURIComponent(l),c&&(l=window.atob(l));try{var h,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":h=new ArrayBuffer(l.length);for(var p=new Uint8Array(h),d=0;d<l.length;d++)p[d]=l.charCodeAt(d);"blob"===f&&(h=new Blob([h],{type:u}));break;case"document":var m=new DOMParser;h=m.parseFromString(l,u);break;case"json":h=JSON.parse(l);break;default:h=l}window.setTimeout(function(){e&&e(h),r.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){i&&i(e),r.manager.itemError(t)},0)}}else{var g=new XMLHttpRequest;g.open("GET",t,!0),g.addEventListener("load",function(n){var o=n.target.response;Ku.add(t,o),200===this.status?(e&&e(o),r.manager.itemEnd(t)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),e&&e(o),r.manager.itemEnd(t)):(i&&i(n),r.manager.itemError(t))},!1),void 0!==n&&g.addEventListener("progress",function(t){n(t)},!1),g.addEventListener("error",function(e){i&&i(e),r.manager.itemError(t)},!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType("text/plain"),g.send(null)}return r.manager.itemStart(t),g},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this}}),Object.assign(En.prototype,{load:function(t,e,n,i){function r(r){u.load(t[r],function(t){var n=o._parser(t,!0);a[r]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},c+=1,6===c&&(1===n.mipmapCount&&(s.minFilter=Fo),s.format=n.format,s.needsUpdate=!0,e&&e(s))},n,i)}var o=this,a=[],s=new Ae;s.image=a;var u=new Mn(this.manager);if(u.setPath(this.path),u.setResponseType("arraybuffer"),Array.isArray(t))for(var c=0,l=0,h=t.length;l<h;++l)r(l);else u.load(t,function(t){var n=o._parser(t,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,r=0;r<i;r++){a[r]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[r].mipmaps.push(n.mipmaps[r*n.mipmapCount+u]),a[r].format=n.format,a[r].width=n.width,a[r].height=n.height}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=Fo),s.format=n.format,s.needsUpdate=!0,e&&e(s)},n,i);return s},setPath:function(t){return this.path=t,this}});var ec=Sn;Object.assign(Sn.prototype,{load:function(t,e,n,i){var r=this,o=new ge,a=new Mn(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var n=r._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:Co,o.wrapT=void 0!==n.wrapT?n.wrapT:Co,o.magFilter=void 0!==n.magFilter?n.magFilter:Fo,o.minFilter=void 0!==n.minFilter?n.minFilter:ko,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Fo),o.needsUpdate=!0,e&&e(o,n))},n,i),o}}),Object.assign(An.prototype,{load:function(t,e,n,i){var r=this,o=document.createElementNS("http://www.w3.org/1999/xhtml","img");if(o.onload=function(){o.onload=null,URL.revokeObjectURL(o.src),e&&e(o),r.manager.itemEnd(t)},o.onerror=i,0===t.indexOf("data:"))o.src=t;else{var a=new Mn;a.setPath(this.path),a.setResponseType("blob"),a.setWithCredentials(this.withCredentials),a.load(t,function(t){o.src=URL.createObjectURL(t)},n,i)}return r.manager.itemStart(t),o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Pn.prototype,{load:function(t,e,n,i){function r(n){a.load(t[n],function(t){o.images[n]=t,s++,6===s&&(o.needsUpdate=!0,e&&e(o))},void 0,i)}var o=new h,a=new An(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);for(var s=0,u=0;u<t.length;++u)r(u);return o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Rn.prototype,{load:function(t,e,n,r){var o=new i,a=new An(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setWithCredentials(this.withCredentials),a.setPath(this.path),a.load(t,function(n){var i=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);o.format=i?Ko:ta,o.image=n,o.needsUpdate=!0,void 0!==e&&e(o)},n,r),o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this}}),Cn.prototype=Object.assign(Object.create(ct.prototype),{constructor:Cn,isLight:!0,copy:function(t){return ct.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=ct.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Ln.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Ln,isHemisphereLight:!0,copy:function(t){return Cn.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(On.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Dn.prototype=Object.assign(Object.create(On.prototype),{constructor:Dn,isSpotLightShadow:!0,update:function(t){var e=2*Ua.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,i=t.distance||500,r=this.camera;e===r.fov&&n===r.aspect&&i===r.far||(r.fov=e,r.aspect=n,r.far=i,r.updateProjectionMatrix())}}),In.prototype=Object.assign(Object.create(Cn.prototype),{constructor:In,isSpotLight:!0,copy:function(t){return Cn.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Nn.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Nn,isPointLight:!0,copy:function(t){return Cn.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Fn.prototype=Object.assign(Object.create(On.prototype),{constructor:Fn}),Un.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Un,isDirectionalLight:!0,copy:function(t){return Cn.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),kn.prototype=Object.assign(Object.create(Cn.prototype),{constructor:kn,isAmbientLight:!0});var nc={arraySlice:function(t,e,n){return nc.isTypedArray(t)?new t.constructor(t.subarray(e,n)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,i=new Array(n),r=0;r!==n;++r)i[r]=r;return i.sort(e),i},sortedArray:function(t,e,n){for(var i=t.length,r=new t.constructor(i),o=0,a=0;a!==i;++o)for(var s=n[o]*e,u=0;u!==e;++u)r[a++]=t[s+u];return r},flattenJSON:function(t,e,n,i){for(var r=1,o=t[0];void 0!==o&&void 0===o[i];)o=t[r++];if(void 0!==o){var a=o[i];if(void 0!==a)if(Array.isArray(a)){do a=o[i],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[r++];while(void 0!==o)}else if(void 0!==a.toArray){do a=o[i],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[r++];while(void 0!==o)}else do a=o[i],void 0!==a&&(e.push(o.time),n.push(a)),o=t[r++];while(void 0!==o)}}};zn.prototype={constructor:zn,evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{var o;n:{i:if(!(t<i)){for(var a=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===a)break;if(r=i,i=e[++n],t<i)break e}o=e.length;break n}{if(t>=r)break t;var s=e[1];t<s&&(n=2,r=s);for(var a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===a)break;if(i=r,r=e[--n-1],t>=r)break e}o=n,n=0}}for(;n<o;){var u=n+o>>>1;t<e[u]?o=u:n=u+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,o=0;o!==i;++o)e[o]=n[r+o];return e},interpolate_:function(t,e,n,i){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}},Object.assign(zn.prototype,{beforeStart_:zn.prototype.copySampleValue_,afterEnd_:zn.prototype.copySampleValue_}),Bn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Bn,DefaultSettings_:{endingStart:ba,endingEnd:ba},intervalChanged_:function(t,e,n){var i=this.parameterPositions,r=t-2,o=t+1,a=i[r],s=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case wa:r=t,a=2*e-n;break;case Ta:r=i.length-2,a=e+i[r]-i[r+1];break;default:r=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case wa:o=t,s=2*n-e;break;case Ta:o=1,s=n+i[1]-i[0];break;default:o=t-1,s=e}var u=.5*(n-e),c=this.valueSize;this._weightPrev=u/(e-a),this._weightNext=u/(s-n),this._offsetPrev=r*c,this._offsetNext=o*c},interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,c=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(n-e)/(i-e),d=p*p,m=d*p,g=-h*m+2*h*d-h*p,v=(1+h)*m+(-1.5-2*h)*d+(-.5+h)*p+1,y=(-1-f)*m+(1.5+f)*d+.5*p,_=f*m-f*d,x=0;x!==a;++x)r[x]=g*o[c+x]+v*o[u+x]+y*o[s+x]+_*o[l+x];return r}}),jn.prototype=Object.assign(Object.create(zn.prototype),{constructor:jn,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,c=(n-e)/(i-e),l=1-c,h=0;h!==a;++h)r[h]=o[u+h]*l+o[s+h]*c;return r}}),Gn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Gn,interpolate_:function(t,e,n,i){return this.copySampleValue_(t-1)}});var ic;ic={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:_a,InterpolantFactoryMethodDiscrete:function(t){return new Gn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new jn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Bn(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case ya:e=this.InterpolantFactoryMethodDiscrete;break;case _a:e=this.InterpolantFactoryMethodLinear;break;case xa:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(n)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ya;case this.InterpolantFactoryMethodLinear:return _a;case this.InterpolantFactoryMethodSmooth:return xa}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,i=n.length,r=0,o=i-1;r!==i&&n[r]<t;)++r;for(;o!==-1&&n[o]>e;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);var a=this.getValueSize();this.times=nc.arraySlice(n,r,o),this.values=nc.arraySlice(this.values,r*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("invalid value size in track",this),t=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("track is empty",this),t=!1);for(var o=null,a=0;a!==r;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("out of order keys",this,a,s,o),t=!1;break}o=s}if(void 0!==i&&nc.isTypedArray(i))for(var a=0,u=i.length;a!==u;++a){var c=i[a];if(isNaN(c)){console.error("value is not a valid number",this,a,c),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),i=this.getInterpolation()===xa,r=1,o=t.length-1,a=1;a<o;++a){var s=!1,u=t[a],c=t[a+1];if(u!==c&&(1!==a||u!==u[0]))if(i)s=!0;else for(var l=a*n,h=l-n,f=l+n,p=0;p!==n;++p){var d=e[l+p];if(d!==e[h+p]||d!==e[f+p]){s=!0;break}}if(s){if(a!==r){t[r]=t[a];for(var m=a*n,g=r*n,p=0;p!==n;++p)e[g+p]=e[m+p]}++r}}if(o>0){t[r]=t[o];for(var m=o*n,g=r*n,p=0;p!==n;++p)e[g+p]=e[m+p];++r}return r!==t.length&&(this.times=nc.arraySlice(t,0,r),this.values=nc.arraySlice(e,0,r*n)),this}},Vn.prototype=Object.assign(Object.create(ic),{constructor:Vn,ValueTypeName:"vector"}),Wn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Wn,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=(n-e)/(i-e),l=s+a;s!==l;s+=4)u.slerpFlat(r,0,o,s-a,o,s,c);return r}}),Xn.prototype=Object.assign(Object.create(ic),{constructor:Xn,ValueTypeName:"quaternion",DefaultInterpolation:_a,InterpolantFactoryMethodLinear:function(t){return new Wn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),qn.prototype=Object.assign(Object.create(ic),{constructor:qn,ValueTypeName:"number"}),Yn.prototype=Object.assign(Object.create(ic),{constructor:Yn,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:ya,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Zn.prototype=Object.assign(Object.create(ic),{constructor:Zn,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:ya,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),$n.prototype=Object.assign(Object.create(ic),{constructor:$n,ValueTypeName:"color"}),Jn.prototype=ic,ic.constructor=Jn,Object.assign(Jn,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=Jn._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],i=[];nc.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:nc.convertArray(t.times,Array),values:nc.convertArray(t.values,Array)};var i=t.getInterpolation();i!==t.DefaultInterpolation&&(e.interpolation=i)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return qn;case"vector":case"vector2":case"vector3":case"vector4":return Vn;case"color":return $n;case"quaternion":return Xn;case"bool":case"boolean":return Zn;case"string":return Yn}throw new Error("Unsupported typeName: "+t)}}),Qn.prototype={constructor:Qn,resetDuration:function(){for(var t=this.tracks,e=0,n=0,i=t.length;n!==i;++n){var r=this.tracks[n];e=Math.max(e,r.times[r.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(Qn,{parse:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),r=0,o=n.length;r!==o;++r)e.push(Jn.parse(n[r]).scale(i));return new Qn(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,i={
name:t.name,duration:t.duration,tracks:e},r=0,o=n.length;r!==o;++r)e.push(Jn.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){for(var r=e.length,o=[],a=0;a<r;a++){var s=[],u=[];s.push((a+r-1)%r,a,(a+1)%r),u.push(0,1,0);var c=nc.getKeyframeOrder(s);s=nc.sortedArray(s,1,c),u=nc.sortedArray(u,1,c),i||0!==s[0]||(s.push(r),u.push(u[0])),o.push(new qn(".morphTargetInfluences["+e[a].name+"]",s,u).scale(1/n))}return new Qn(t,(-1),o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var i=t;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],u=s.name.match(r);if(u&&u.length>1){var c=u[1],l=i[c];l||(i[c]=l=[]),l.push(s)}}var h=[];for(var c in i)h.push(Qn.CreateFromMorphTargetSequence(c,i[c],e,n));return h},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,n,i,r){if(0!==n.length){var o=[],a=[];nc.flattenJSON(n,o,a,i),0!==o.length&&r.push(new t(e,o,a))}},i=[],r=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var c=s[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var l={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var f=0;f<c[h].morphTargets.length;f++)l[c[h].morphTargets[f]]=-1;for(var p in l){for(var d=[],m=[],f=0;f!==c[h].morphTargets.length;++f){var g=c[h];d.push(g.time),m.push(g.morphTarget===p?1:0)}i.push(new qn(".morphTargetInfluence["+p+"]",d,m))}o=l.length*(a||1)}else{var v=".bones["+e[u].name+"]";n(Vn,v+".position",c,"pos",i),n(Xn,v+".quaternion",c,"rot",i),n(Vn,v+".scale",c,"scl",i)}}if(0===i.length)return null;var y=new Qn(r,o,i);return y}}),Object.assign(Kn.prototype,{load:function(t,e,n,i){var r=this,o=new Mn(r.manager);o.load(t,function(t){e(r.parse(JSON.parse(t)))},n,i)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===i[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),i[t]}var i=this.textures,r=new Qu[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var o=t.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=(new n).fromArray(o)}if(void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.materials)for(var a=0,s=t.materials.length;a<s;a++)r.materials.push(this.parse(t.materials[a]));return r}}),Object.assign(ti.prototype,{load:function(t,e,n,i){var r=this,o=new Mn(r.manager);o.load(t,function(t){e(r.parse(JSON.parse(t)))},n,i)},parse:function(t){var e=new Rt,n=t.data.index,i={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var r=new i[n.type](n.array);e.setIndex(new mt(r,1))}var o=t.data.attributes;for(var a in o){var s=o[a],r=new i[s.type](s.array);e.addAttribute(a,new mt(r,s.itemSize,s.normalized))}var u=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==u)for(var l=0,h=u.length;l!==h;++l){var f=u[l];e.addGroup(f.start,f.count,f.materialIndex)}var p=t.data.boundingSphere;if(void 0!==p){var d=new c;void 0!==p.center&&d.fromArray(p.center),e.boundingSphere=new et(d,p.radius)}return e}}),ei.prototype={constructor:ei,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var i=[],r=0;r<t.length;++r)i[r]=this.createMaterial(t[r],e,n);return i},createMaterial:function(){var t,e,n;return function(i,r,o){function a(t,n,i,a,u){var c,l=r+t,h=ei.Handlers.get(l);null!==h?c=h.load(l):(e.setCrossOrigin(o),c=e.load(l)),void 0!==n&&(c.repeat.fromArray(n),1!==n[0]&&(c.wrapS=Ro),1!==n[1]&&(c.wrapT=Ro)),void 0!==i&&c.offset.fromArray(i),void 0!==a&&("repeat"===a[0]&&(c.wrapS=Ro),"mirror"===a[0]&&(c.wrapS=Lo),"repeat"===a[1]&&(c.wrapT=Ro),"mirror"===a[1]&&(c.wrapT=Lo)),void 0!==u&&(c.anisotropy=u);var f=Ua.generateUUID();return s[f]=c,f}void 0===t&&(t=new X),void 0===e&&(e=new Rn),void 0===n&&(n=new Kn);var s={},u={uuid:Ua.generateUUID(),type:"MeshLambertMaterial"};for(var c in i){var l=i[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=l;break;case"blending":u.blending=Br[l];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",c,"is no longer supported.");break;case"colorDiffuse":u.color=t.fromArray(l).getHex();break;case"colorSpecular":u.specular=t.fromArray(l).getHex();break;case"colorEmissive":u.emissive=t.fromArray(l).getHex();break;case"specularCoef":u.shininess=l;break;case"shading":"basic"===l.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===l.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===l.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=a(l,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=a(l,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=a(l,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=a(l,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=a(l,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=l;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=a(l,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=[l,l];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=a(l,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=a(l,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=a(l,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=a(l,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=Ar;break;case"doubleSided":u.side=Pr;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),u.opacity=l;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[c]=l;break;case"vertexColors":l===!0&&(u.vertexColors=Dr),"face"===l&&(u.vertexColors=Or);break;default:console.error("THREE.Loader.createMaterial: Unsupported",c,l)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,u.opacity<1&&(u.transparent=!0),n.setTextures(s),n.parse(u)}}()},ei.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,i=e.length;n<i;n+=2){var r=e[n],o=e[n+1];if(r.test(t))return o}return null}},Object.assign(ni.prototype,{load:function(t,e,n,i){var r=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:ei.prototype.extractUrlBase(t),a=new Mn(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,function(n){var i=JSON.parse(n),a=i.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var u=r.parse(i,o);e(u.geometry,u.materials)},n,i)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){function i(e){function i(t,e){return t&1<<e}var r,o,a,s,l,h,f,p,d,m,g,v,y,_,x,b,w,T,M,E,S,A,P,R,C,L,O,D=t.faces,I=t.vertices,N=t.normals,F=t.colors,U=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&U++;for(r=0;r<U;r++)u.faceVertexUvs[r]=[]}for(s=0,l=I.length;s<l;)T=new c,T.x=I[s++]*e,T.y=I[s++]*e,T.z=I[s++]*e,u.vertices.push(T);for(s=0,l=D.length;s<l;)if(m=D[s++],g=i(m,0),v=i(m,1),y=i(m,3),_=i(m,4),x=i(m,5),b=i(m,6),w=i(m,7),g){if(E=new pt,E.a=D[s],E.b=D[s+1],E.c=D[s+3],S=new pt,S.a=D[s+1],S.b=D[s+2],S.c=D[s+3],s+=4,v&&(d=D[s++],E.materialIndex=d,S.materialIndex=d),a=u.faces.length,y)for(r=0;r<U;r++)for(R=t.uvs[r],u.faceVertexUvs[r][a]=[],u.faceVertexUvs[r][a+1]=[],o=0;o<4;o++)p=D[s++],L=R[2*p],O=R[2*p+1],C=new n(L,O),2!==o&&u.faceVertexUvs[r][a].push(C),0!==o&&u.faceVertexUvs[r][a+1].push(C);if(_&&(f=3*D[s++],E.normal.set(N[f++],N[f++],N[f]),S.normal.copy(E.normal)),x)for(r=0;r<4;r++)f=3*D[s++],P=new c(N[f++],N[f++],N[f]),2!==r&&E.vertexNormals.push(P),0!==r&&S.vertexNormals.push(P);if(b&&(h=D[s++],A=F[h],E.color.setHex(A),S.color.setHex(A)),w)for(r=0;r<4;r++)h=D[s++],A=F[h],2!==r&&E.vertexColors.push(new X(A)),0!==r&&S.vertexColors.push(new X(A));u.faces.push(E),u.faces.push(S)}else{if(M=new pt,M.a=D[s++],M.b=D[s++],M.c=D[s++],v&&(d=D[s++],M.materialIndex=d),a=u.faces.length,y)for(r=0;r<U;r++)for(R=t.uvs[r],u.faceVertexUvs[r][a]=[],o=0;o<3;o++)p=D[s++],L=R[2*p],O=R[2*p+1],C=new n(L,O),u.faceVertexUvs[r][a].push(C);if(_&&(f=3*D[s++],M.normal.set(N[f++],N[f++],N[f])),x)for(r=0;r<3;r++)f=3*D[s++],P=new c(N[f++],N[f++],N[f]),M.vertexNormals.push(P);if(b&&(h=D[s++],M.color.setHex(F[h])),w)for(r=0;r<3;r++)h=D[s++],M.vertexColors.push(new X(F[h]));u.faces.push(M)}}function r(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var n=0,i=t.skinWeights.length;n<i;n+=e){var r=t.skinWeights[n],a=e>1?t.skinWeights[n+1]:0,s=e>2?t.skinWeights[n+2]:0,c=e>3?t.skinWeights[n+3]:0;u.skinWeights.push(new o(r,a,s,c))}if(t.skinIndices)for(var n=0,i=t.skinIndices.length;n<i;n+=e){var l=t.skinIndices[n],h=e>1?t.skinIndices[n+1]:0,f=e>2?t.skinIndices[n+2]:0,p=e>3?t.skinIndices[n+3]:0;u.skinIndices.push(new o(l,h,f,p))}u.bones=t.bones,u.bones&&u.bones.length>0&&(u.skinWeights.length!==u.skinIndices.length||u.skinIndices.length!==u.vertices.length)&&console.warn("When skinning, number of vertices ("+u.vertices.length+"), skinIndices ("+u.skinIndices.length+"), and skinWeights ("+u.skinWeights.length+") should match.")}function a(e){if(void 0!==t.morphTargets)for(var n=0,i=t.morphTargets.length;n<i;n++){u.morphTargets[n]={},u.morphTargets[n].name=t.morphTargets[n].name,u.morphTargets[n].vertices=[];for(var r=u.morphTargets[n].vertices,o=t.morphTargets[n].vertices,a=0,s=o.length;a<s;a+=3){var l=new c;l.x=o[a]*e,l.y=o[a+1]*e,l.z=o[a+2]*e,r.push(l)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var h=u.faces,f=t.morphColors[0].colors,n=0,i=h.length;n<i;n++)h[n].color.fromArray(f,3*n)}}function s(){var e=[],n=[];void 0!==t.animation&&n.push(t.animation),void 0!==t.animations&&(t.animations.length?n=n.concat(t.animations):n.push(t.animations));for(var i=0;i<n.length;i++){var r=Qn.parseAnimation(n[i],u.bones);r&&e.push(r)}if(u.morphTargets){var o=Qn.CreateClipsFromMorphTargetSequences(u.morphTargets,10);e=e.concat(o)}e.length>0&&(u.animations=e)}var u=new St,l=void 0!==t.scale?1/t.scale:1;if(i(l),r(),a(l),s(),u.computeFaceNormals(),u.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:u};var h=ei.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:u,materials:h}}}),Object.assign(ii.prototype,{load:function(t,e,n,i){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var r=this,o=new Mn(r.manager);o.load(t,function(t){r.parse(JSON.parse(t),e)},n,i)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),i=this.parseImages(t.images,function(){void 0!==e&&e(a)}),r=this.parseTextures(t.textures,i),o=this.parseMaterials(t.materials,r),a=this.parseObject(t.object,n,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new ni,i=new ti,r=0,o=t.length;r<o;r++){var a,s=t[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Ju[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Ju[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Ju[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Ju[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Ju[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Ju[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new Ju[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Ju[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Ju[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Ju[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Ju[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=i.parse(s);break;case"Geometry":a=n.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var i=new Kn;i.setTextures(e);for(var r=0,o=t.length;r<o;r++){var a=i.parse(t[r]);n[a.uuid]=a}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var i=Qn.parse(t[n]);e.push(i)}return e},parseImages:function(t,e){function n(t){return i.manager.itemStart(t),a.load(t,function(){i.manager.itemEnd(t)},void 0,function(){i.manager.itemError(t)})}var i=this,r={};if(void 0!==t&&t.length>0){var o=new Tn(e),a=new An(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,u=t.length;s<u;s++){var c=t[s],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:i.texturePath+c.url;r[c.uuid]=n(l)}}return r},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var o=0,a=t.length;o<a;o++){var s=t[o];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var u=new i(e[s.image]);u.needsUpdate=!0,u.uuid=s.uuid,void 0!==s.name&&(u.name=s.name),void 0!==s.mapping&&(u.mapping=n(s.mapping,Po)),void 0!==s.offset&&u.offset.fromArray(s.offset),void 0!==s.repeat&&u.repeat.fromArray(s.repeat),void 0!==s.wrap&&(u.wrapS=n(s.wrap[0],Oo),u.wrapT=n(s.wrap[1],Oo)),void 0!==s.minFilter&&(u.minFilter=n(s.minFilter,zo)),void 0!==s.magFilter&&(u.magFilter=n(s.magFilter,zo)),void 0!==s.anisotropy&&(u.anisotropy=s.anisotropy),void 0!==s.flipY&&(u.flipY=s.flipY),r[s.uuid]=u}return r},parseObject:function(){var t=new l;return function(e,n,i){function r(t){return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),n[t]}function o(t){if(void 0!==t)return void 0===i[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),i[t]}var a;switch(e.type){case"Scene":a=new he,void 0!==e.background&&Number.isInteger(e.background)&&(a.background=new X(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new le(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new ce(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new It(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Nt(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":a=new kn(e.color,e.intensity);break;case"DirectionalLight":a=new Un(e.color,e.intensity);break;case"PointLight":a=new Nn(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":a=new In(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new Ln(e.color,e.groundColor,e.intensity);break;case"Mesh":var s=r(e.geometry),u=o(e.material);a=s.bones&&s.bones.length>0?new _e(s,u):new Ct(s,u);break;case"LOD":a=new me;break;case"Line":a=new be(r(e.geometry),o(e.material),e.mode);break;case"LineSegments":a=new we(r(e.geometry),o(e.material));break;case"PointCloud":case"Points":a=new Me(r(e.geometry),o(e.material));break;case"Sprite":a=new de(o(e.material));break;case"Group":a=new Ee;break;default:a=new ct}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.children)for(var c in e.children)a.add(this.parseObject(e.children[c],n,i));if("LOD"===e.type)for(var l=e.levels,h=0;h<l.length;h++){var f=l[h],c=a.getObjectByProperty("uuid",f.object);void 0!==c&&a.addLevel(c,f.distance)}return a}}()}),ri.prototype={constructor:ri,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){t||(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){t||(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,i=[],r=this.getPoint(0),o=0;for(i.push(0),n=1;n<=t;n++)e=this.getPoint(n/t),o+=e.distanceTo(r),i.push(o),r=e;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,i=this.getLengths(),r=0,o=i.length;n=e?e:t*i[o-1];for(var a,s=0,u=o-1;s<=u;)if(r=Math.floor(s+(u-s)/2),a=i[r]-n,a<0)s=r+1;else{if(!(a>0)){u=r;break}u=r-1}if(r=u,i[r]===n){var c=r/(o-1);return c}var l=i[r],h=i[r+1],f=h-l,p=(n-l)/f,c=(r+p)/(o-1);return c},getTangent:function(t){var e=1e-4,n=t-e,i=t+e;n<0&&(n=0),i>1&&(i=1);var r=this.getPoint(n),o=this.getPoint(i),a=o.clone().sub(r);return a.normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,i,r,o=new c,a=[],s=[],u=[],h=new c,f=new l;for(n=0;n<=t;n++)i=n/t,a[n]=this.getTangentAt(i),a[n].normalize();s[0]=new c,u[0]=new c;var p=Number.MAX_VALUE,d=Math.abs(a[0].x),m=Math.abs(a[0].y),g=Math.abs(a[0].z);for(d<=p&&(p=d,o.set(1,0,0)),m<=p&&(p=m,o.set(0,1,0)),g<=p&&o.set(0,0,1),h.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],h),u[0].crossVectors(a[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),u[n]=u[n-1].clone(),h.crossVectors(a[n-1],a[n]),h.length()>Number.EPSILON&&(h.normalize(),r=Math.acos(Ua.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(f.makeRotationAxis(h,r))),u[n].crossVectors(a[n],s[n]);if(e===!0)for(r=Math.acos(Ua.clamp(s[0].dot(s[t]),-1,1)),r/=t,a[0].dot(h.crossVectors(s[0],s[t]))>0&&(r=-r),n=1;n<=t;n++)s[n].applyMatrix4(f.makeRotationAxis(a[n],r*n)),u[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:u}}},ri.create=function(t,e){return t.prototype=Object.create(ri.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},oi.prototype=Object.create(ri.prototype),oi.prototype.constructor=oi,oi.prototype.isLineCurve=!0,oi.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},oi.prototype.getPointAt=function(t){return this.getPoint(t)},oi.prototype.getTangent=function(t){var e=this.v2.clone().sub(this.v1);return e.normalize()},ai.prototype=Object.assign(Object.create(ri.prototype),{constructor:ai,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new oi(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=e){var r=n[i]-e,o=this.curves[i],a=o.getLength(),s=0===a?0:1-r/a;return o.getPointAt(s)}i++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){t||(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],i=0,r=this.curves;i<r.length;i++)for(var o=r[i],a=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),u=0;u<s.length;u++){var c=s[u];e&&e.equals(c)||(n.push(c),e=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new St,n=0,i=t.length;n<i;n++){var r=t[n];e.vertices.push(new c(r.x,r.y,r.z||0))}return e}}),si.prototype=Object.create(ri.prototype),si.prototype.constructor=si,si.prototype.isEllipseCurve=!0,si.prototype.getPoint=function(t){for(var e=2*Math.PI,i=this.aEndAngle-this.aStartAngle,r=Math.abs(i)<Number.EPSILON;i<0;)i+=e;for(;i>e;)i-=e;i<Number.EPSILON&&(i=r?0:e),this.aClockwise!==!0||r||(i===e?i=-e:i-=e);var o=this.aStartAngle+t*i,a=this.aX+this.xRadius*Math.cos(o),s=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),l=a-this.aX,h=s-this.aY;a=l*u-h*c+this.aX,s=l*c+h*u+this.aY}return new n(a,s)};var rc={tangentQuadraticBezier:function(t,e,n,i){return 2*(1-t)*(n-e)+2*t*(i-n)},tangentCubicBezier:function(t,e,n,i,r){return-3*e*(1-t)*(1-t)+3*n*(1-t)*(1-t)-6*t*n*(1-t)+6*t*i*(1-t)-3*t*t*i+3*t*t*r},tangentSpline:function(t,e,n,i,r){var o=6*t*t-6*t,a=3*t*t-4*t+1,s=-6*t*t+6*t,u=3*t*t-2*t;return o+a+s+u},interpolate:function(t,e,n,i,r){var o=.5*(n-t),a=.5*(i-e),s=r*r,u=r*s;return(2*e-2*n+o+a)*u+(-3*e+3*n-2*o-a)*s+o*r+e}};ui.prototype=Object.create(ri.prototype),ui.prototype.constructor=ui,ui.prototype.isSplineCurve=!0,ui.prototype.getPoint=function(t){var e=this.points,i=(e.length-1)*t,r=Math.floor(i),o=i-r,a=e[0===r?r:r-1],s=e[r],u=e[r>e.length-2?e.length-1:r+1],c=e[r>e.length-3?e.length-1:r+2],l=rc.interpolate;return new n(l(a.x,s.x,u.x,c.x,o),l(a.y,s.y,u.y,c.y,o))},ci.prototype=Object.create(ri.prototype),ci.prototype.constructor=ci,ci.prototype.getPoint=function(t){var e=$u.b3;return new n(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},ci.prototype.getTangent=function(t){var e=rc.tangentCubicBezier;return new n(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},li.prototype=Object.create(ri.prototype),li.prototype.constructor=li,li.prototype.getPoint=function(t){var e=$u.b2;return new n(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y))},li.prototype.getTangent=function(t){var e=rc.tangentQuadraticBezier;return new n(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y)).normalize()};var oc=Object.assign(Object.create(ai.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var i=new oi(this.currentPoint.clone(),new n(t,e));this.curves.push(i),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,i,r){var o=new li(this.currentPoint.clone(),new n(t,e),new n(i,r));this.curves.push(o),this.currentPoint.set(i,r)},bezierCurveTo:function(t,e,i,r,o,a){var s=new ci(this.currentPoint.clone(),new n(t,e),new n(i,r),new n(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new ui(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,i,r,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,n,i,r,o)},absarc:function(t,e,n,i,r,o){this.absellipse(t,e,n,n,i,r,o)},ellipse:function(t,e,n,i,r,o,a,s){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(t+u,e+c,n,i,r,o,a,s)},absellipse:function(t,e,n,i,r,o,a,s){var u=new si(t,e,n,i,r,o,a,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)}});hi.prototype=Object.assign(Object.create(oc),{constructor:hi,getPointsHoles:function(t){for(var e=[],n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),fi.prototype=oc,oc.constructor=fi,pi.prototype={moveTo:function(t,e){this.currentPath=new fi,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,i){this.currentPath.quadraticCurveTo(t,e,n,i)},bezierCurveTo:function(t,e,n,i,r,o){this.currentPath.bezierCurveTo(t,e,n,i,r,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n],o=new hi;o.curves=r.curves,e.push(o)}return e}function i(t,e){for(var n=e.length,i=!1,r=n-1,o=0;o<n;r=o++){var a=e[r],s=e[o],u=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=e[o],u=-u,s=e[r],c=-c),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var l=c*(t.x-a.x)-u*(t.y-a.y);if(0===l)return!0;if(l<0)continue;i=!i}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return i}var r=$u.isClockWise,o=this.subPaths;if(0===o.length)return[];if(e===!0)return n(o);var a,s,u,c=[];if(1===o.length)return s=o[0],u=new hi,u.curves=s.curves,c.push(u),c;var l=!r(o[0].getPoints());l=t?!l:l;var h,f=[],p=[],d=[],m=0;p[m]=void 0,d[m]=[];for(var g=0,v=o.length;g<v;g++)s=o[g],h=s.getPoints(),a=r(h),a=t?!a:a,a?(!l&&p[m]&&m++,p[m]={s:new hi,p:h},p[m].s.curves=s.curves,l&&m++,d[m]=[]):d[m].push({h:s,p:h[0]});if(!p[0])return n(o);if(p.length>1){for(var y=!1,_=[],x=0,b=p.length;x<b;x++)f[x]=[];for(var x=0,b=p.length;x<b;x++)for(var w=d[x],T=0;T<w.length;T++){for(var M=w[T],E=!0,S=0;S<p.length;S++)i(M.p,p[S].p)&&(x!==S&&_.push({froms:x,tos:S,hole:T}),E?(E=!1,f[S].push(M)):y=!0);E&&f[x].push(M)}_.length>0&&(y||(d=f))}for(var A,g=0,P=p.length;g<P;g++){u=p[g].s,c.push(u),A=d[g];for(var R=0,C=A.length;R<C;R++)u.holes.push(A[R].h)}return c}},Object.assign(di.prototype,{isFont:!0,generateShapes:function(t,e,n){function i(t){for(var n=String(t).split(""),i=e/o.resolution,a=0,s=[],u=0;u<n.length;u++){
var c=r(n[u],i,a);a+=c.offset,s.push(c.path)}return s}function r(t,e,i){var r=o.glyphs[t]||o.glyphs["?"];if(r){var a,s,u,c,l,h,f,p,d,m,g,v=new pi,y=[],_=$u.b2,x=$u.b3;if(r.o)for(var b=r._cachedOutline||(r._cachedOutline=r.o.split(" ")),w=0,T=b.length;w<T;){var M=b[w++];switch(M){case"m":a=b[w++]*e+i,s=b[w++]*e,v.moveTo(a,s);break;case"l":a=b[w++]*e+i,s=b[w++]*e,v.lineTo(a,s);break;case"q":if(u=b[w++]*e+i,c=b[w++]*e,f=b[w++]*e+i,p=b[w++]*e,v.quadraticCurveTo(f,p,u,c),g=y[y.length-1]){l=g.x,h=g.y;for(var E=1;E<=n;E++){var S=E/n;_(S,l,f,u),_(S,h,p,c)}}break;case"b":if(u=b[w++]*e+i,c=b[w++]*e,f=b[w++]*e+i,p=b[w++]*e,d=b[w++]*e+i,m=b[w++]*e,v.bezierCurveTo(f,p,d,m,u,c),g=y[y.length-1]){l=g.x,h=g.y;for(var E=1;E<=n;E++){var S=E/n;x(S,l,f,d,u),x(S,h,p,m,c)}}}}return{offset:r.ha*e,path:v}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var o=this.data,a=i(t),s=[],u=0,c=a.length;u<c;u++)Array.prototype.push.apply(s,a[u].toShapes());return s}}),Object.assign(mi.prototype,{load:function(t,e,n,i){var r=this,o=new Mn(this.manager);o.load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var i=r.parse(n);e&&e(i)},n,i)},parse:function(t){return new di(t)}});var ac;Object.assign(vi.prototype,{load:function(t,e,n,i){var r=new Mn(this.manager);r.setResponseType("arraybuffer"),r.load(t,function(t){var n=gi();n.decodeAudioData(t,function(t){e(t)})},n,i)}}),Object.assign(yi.prototype,{update:function(){var t,e,n,i,r,o,a,s=new l,u=new l;return function(c){var l=t!==this||e!==c.focus||n!==c.fov||i!==c.aspect*this.aspect||r!==c.near||o!==c.far||a!==c.zoom;if(l){t=this,e=c.focus,n=c.fov,i=c.aspect*this.aspect,r=c.near,o=c.far,a=c.zoom;var h,f,p=c.projectionMatrix.clone(),d=this.eyeSep/2,m=d*r/e,g=r*Math.tan(Ua.DEG2RAD*n*.5)/a;u.elements[12]=-d,s.elements[12]=d,h=-g*i+m,f=g*i+m,p.elements[0]=2*r/(f-h),p.elements[8]=(f+h)/(f-h),this.cameraL.projectionMatrix.copy(p),h=-g*i-m,f=g*i-m,p.elements[0]=2*r/(f-h),p.elements[8]=(f+h)/(f-h),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(c.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(c.matrixWorld).multiply(s)}}()}),_i.prototype=Object.create(ct.prototype),_i.prototype.constructor=_i,xi.prototype=Object.assign(Object.create(ct.prototype),{constructor:xi,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new c,e=new u,n=new c,i=new c;return function(r){ct.prototype.updateMatrixWorld.call(this,r);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,n),i.set(0,0,-1).applyQuaternion(e),o.setPosition(t.x,t.y,t.z),o.setOrientation(i.x,i.y,i.z,a.x,a.y,a.z)}}()}),bi.prototype=Object.assign(Object.create(ct.prototype),{constructor:bi,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.source.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0)return void console.warn("THREE.Audio: Audio is already playing.");if(this.hasPlaybackControl===!1)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.source.buffer,t.loop=this.source.loop,t.onended=this.source.onended,t.start(0,this.startTime),t.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),this.isPlaying===!0?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,this.isPlaying===!0&&(this.source.playbackRate.value=this.playbackRate),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},setLoop:function(t){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):void(this.source.loop=t)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),wi.prototype=Object.assign(Object.create(bi.prototype),{constructor:wi,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new c;return function(e){ct.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Ti.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Mi.prototype={constructor:Mi,accumulate:function(t,e){var n=this.buffer,i=this.valueSize,r=t*i+i,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==i;++a)n[r+a]=n[a];o=e}else{o+=e;var s=e/o;this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,r<1){var a=3*e;this._mixBufferRegion(n,i,a,1-r,e)}for(var s=e,u=e+e;s!==u;++s)if(n[s]!==n[s+e]){o.setValue(n,i);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,i=3*n;t.getValue(e,i);for(var r=n,o=i;r!==o;++r)e[r]=e[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,i,r){if(i>=.5)for(var o=0;o!==r;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,i,r){u.slerpFlat(t,e,t,e,t,n,i)},_lerp:function(t,e,n,i,r){for(var o=1-i,a=0;a!==r;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*i}}},Ei.prototype={constructor:Ei,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,i=e.propertyName,r=e.propertyIndex;if(t||(t=Ei.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("  trying to update node for track: "+this.path+" but it wasn't found.");if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("  can not bind to objectName of node, undefined",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[o]}}var s=t[i];if(void 0===s){var u=e.nodeName;return void console.error("  trying to update property for track: "+u+"."+i+" but it wasn't found.",t)}var c=this.Versioning.None;void 0!==t.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var l=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===r){r=a;break}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Ei.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Ei.prototype.getValue,_setValue_unbound:Ei.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Ei.Composite=function(t,e,n){var i=n||Ei.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)},Ei.Composite.prototype={constructor:Ei.Composite,getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},Ei.create=function(t,e,n){return t&&t.isAnimationObjectGroup?new Ei.Composite(t,e,n):new Ei(t,e,n)},Ei.parseTrackName=function(t){var e=/^((?:\w+[\/:])*)(\w+)?(?:\.(\w+)(?:\[(.+)\])?)?\.(\w+)(?:\[(.+)\])?$/,n=e.exec(t);if(!n)throw new Error("cannot parse trackName at all: "+t);var i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]};if(null===i.propertyName||0===i.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return i},Ei.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var i=t.bones[n];if(i.name===e)return i}return null},i=n(t.skeleton);if(i)return i}if(t.children){var r=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.name===e||i.uuid===e)return i;var o=r(i.children);if(o)return o}return null},o=r(t.children);if(o)return o}return null},Si.prototype={constructor:Si,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,i=this.nCachedObjects_,r=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,u=s.length,c=0,l=arguments.length;c!==l;++c){var h=arguments[c],f=h.uuid,p=r[f];if(void 0===p){p=n++,r[f]=p,e.push(h);for(var d=0,m=u;d!==m;++d)s[d].push(new Ei(h,o[d],a[d]))}else if(p<i){var g=e[p],v=--i,y=e[v];r[y.uuid]=p,e[p]=y,r[f]=v,e[v]=h;for(var d=0,m=u;d!==m;++d){var _=s[d],x=_[v],b=_[p];_[p]=x,void 0===b&&(b=new Ei(h,o[d],a[d])),_[v]=b}}else e[p]!==g&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=i},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,o=r.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],c=u.uuid,l=i[c];if(void 0!==l&&l>=n){var h=n++,f=e[h];i[f.uuid]=l,e[l]=f,i[c]=h,e[h]=u;for(var p=0,d=o;p!==d;++p){var m=r[p],g=m[h],v=m[l];m[l]=g,m[h]=v}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,i=this.nCachedObjects_,r=this._indicesByUUID,o=this._bindings,a=o.length,s=0,u=arguments.length;s!==u;++s){var c=arguments[s],l=c.uuid,h=r[l];if(void 0!==h)if(delete r[l],h<i){var f=--i,p=e[f],d=--n,m=e[d];r[p.uuid]=h,e[h]=p,r[m.uuid]=f,e[f]=m,e.pop();for(var g=0,v=a;g!==v;++g){var y=o[g],_=y[f],x=y[d];y[h]=_,y[f]=x,y.pop()}}else{var d=--n,m=e[d];r[m.uuid]=h,e[h]=m,e.pop();for(var g=0,v=a;g!==v;++g){var y=o[g];y[h]=y[d],y.pop()}}}this.nCachedObjects_=i},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,i=n[t],r=this._bindings;if(void 0!==i)return r[i];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);i=r.length,n[t]=i,o.push(t),a.push(e),r.push(l);for(var h=c,f=s.length;h!==f;++h){var p=s[h];l[h]=new Ei(p,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var i=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a],u=t[a];e[u]=n,o[n]=s,o.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}},Ai.prototype={constructor:Ai,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var i=this._clip.duration,r=t._clip.duration,o=r/i,a=i/r;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var i=this._mixer,r=i.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=r,s[1]=r+n,u[0]=t/a,u[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,i){var r=this._startTime;if(null!==r){var o=(t-r)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,h=u.length;l!==h;++l)u[l].evaluate(a),c[l].accumulate(i,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,i=this.loop,r=this._loopCount;if(i===ma){r===-1&&(this.loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=i===va;if(r===-1&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,r+=Math.abs(a);var s=this.repetitions-r;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var u=t<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1===(1&r))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var i=this._interpolantSettings;n?(i.endingStart=wa,i.endingEnd=wa):(t?i.endingStart=this.zeroSlopeAtStart?wa:ba:i.endingStart=Ta,e?i.endingEnd=this.zeroSlopeAtEnd?wa:ba:i.endingEnd=Ta)},_scheduleFading:function(t,e,n){var i=this._mixer,r=i.time,o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=r,s[0]=e,a[1]=r+t,s[1]=n,this}},Object.assign(Pi.prototype,e.prototype,{clipAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?Qn.findByName(n,t):t,o=null!==r?r.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[i];if(void 0!==u)return u;s=a.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var c=new Ai(this,r,e);return this._bindAction(c,s),this._addInactiveAction(c,o,i),c},existingAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?Qn.findByName(n,t):t,o=r?r.uuid:t,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[i]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(var r=0;r!==i;++r)n[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,i=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){var s=e[a];s.enabled&&s._update(i,t,r,o)}for(var u=this._bindings,c=this._nActiveBindings,a=0;a!==c;++a)u[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var o=r.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,l=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,e[c]=l,e.pop(),this._removeInactiveBindingsForAction(u)}delete i[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot,o=r[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[e];if(void 0!==s)for(var u in s){var c=s[u];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Object.assign(Pi.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==r;++l){var h=i[l],f=h.name,p=c[f];if(void 0!==p)o[l]=p;else{if(p=o[l],void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,f));continue}var d=e&&e._propertyBindings[l].binding.parsedPath;p=new Mi(Ei.create(n,f,d),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,s,f),o[l]=p}a[l].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}for(var r=t._propertyBindings,o=0,a=r.length;o!==a;++o){var s=r[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0===--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var i=this._actions,r=this._actionsByClip,o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=i.length,i.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,o=this._actionsByClip,a=o[r],s=a.knownActions,u=s[s.length-1],c=t._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),t._byClipCacheIndex=null;var l=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete l[h],0===s.length&&delete o[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0===--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){var i=this._bindingsByRootAndName,r=i[e],o=this._bindings;void 0===r&&(r={},i[e]=r),r[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,a=o[i],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete a[r];t:{for(var c in a)break t;delete o[i]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new jn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1)}),Ci.prototype=Object.create(Rt.prototype),Ci.prototype.constructor=Ci,Ci.prototype.isInstancedBufferGeometry=!0,Ci.prototype.addGroup=function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},Ci.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var i in n){var r=n[i];this.addAttribute(i,r.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this},Li.prototype={constructor:Li,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}},Oi.prototype={constructor:Oi,isInterleavedBuffer:!0,set needsUpdate(t){t===!0&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)}},Di.prototype=Object.create(Oi.prototype),Di.prototype.constructor=Di,Di.prototype.isInstancedInterleavedBuffer=!0,Di.prototype.copy=function(t){return Oi.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Ii.prototype=Object.create(mt.prototype),Ii.prototype.constructor=Ii,Ii.prototype.isInstancedBufferAttribute=!0,Ii.prototype.copy=function(t){return mt.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Ni.prototype={constructor:Ni,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return Ui(t,this,n,e),n.sort(Fi),n},intersectObjects:function(t,e){var n=[];if(Array.isArray(t)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,r=t.length;i<r;i++)Ui(t[i],this,n,e);return n.sort(Fi),n}},ki.prototype={constructor:ki,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},Bi.prototype={constructor:Bi,set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Ua.clamp(t.y/this.radius,-1,1))),this}},ji.prototype=Object.create(Ct.prototype),ji.prototype.constructor=ji,ji.prototype.createAnimation=function(t,e,n,i){var r={start:e,end:n,length:n-e+1,fps:i,duration:(n-e)/i,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=r,this.animationsList.push(r)},ji.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\d+)/i,i={},r=this.geometry,o=0,a=r.morphTargets.length;o<a;o++){var s=r.morphTargets[o],u=s.name.match(n);if(u&&u.length>1){var c=u[1];i[c]||(i[c]={start:1/0,end:-(1/0)});var l=i[c];o<l.start&&(l.start=o),o>l.end&&(l.end=o),e||(e=c)}}for(var c in i){var l=i[c];this.createAnimation(c,l.start,l.end,t);
}this.firstAnimation=e},ji.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},ji.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},ji.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},ji.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},ji.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},ji.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},ji.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},ji.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},ji.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},ji.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},ji.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var i=this.animationsList[e];if(i.active){var r=i.duration/i.length;i.time+=i.direction*t,i.mirroredLoop?(i.time>i.duration||i.time<0)&&(i.direction*=-1,i.time>i.duration&&(i.time=i.duration,i.directionBackwards=!0),i.time<0&&(i.time=0,i.directionBackwards=!1)):(i.time=i.time%i.duration,i.time<0&&(i.time+=i.duration));var o=i.start+Ua.clamp(Math.floor(i.time/r),0,i.length-1),a=i.weight;o!==i.currentFrame&&(this.morphTargetInfluences[i.lastFrame]=0,this.morphTargetInfluences[i.currentFrame]=1*a,this.morphTargetInfluences[o]=0,i.lastFrame=i.currentFrame,i.currentFrame=o);var s=i.time%r/r;i.directionBackwards&&(s=1-s),i.currentFrame!==i.lastFrame?(this.morphTargetInfluences[i.currentFrame]=s*a,this.morphTargetInfluences[i.lastFrame]=(1-s)*a):this.morphTargetInfluences[i.currentFrame]=a}}},Gi.prototype=Object.create(ct.prototype),Gi.prototype.constructor=Gi,Gi.prototype.isImmediateRenderObject=!0,Hi.prototype=Object.create(we.prototype),Hi.prototype.constructor=Hi,Hi.prototype.update=function(){var t=new c,e=new c,n=new nt;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,c=0,l=0,h=u.length;l<h;l++)for(var f=u[l],p=0,d=f.vertexNormals.length;p<d;p++){var m=s[f[i[p]]],g=f.vertexNormals[p];t.copy(m).applyMatrix4(r),e.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(c,t.x,t.y,t.z),c+=1,o.setXYZ(c,e.x,e.y,e.z),c+=1}else if(a&&a.isBufferGeometry)for(var v=a.attributes.position,y=a.attributes.normal,c=0,p=0,d=v.count;p<d;p++)t.set(v.getX(p),v.getY(p),v.getZ(p)).applyMatrix4(r),e.set(y.getX(p),y.getY(p),y.getZ(p)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(c,t.x,t.y,t.z),c+=1,o.setXYZ(c,e.x,e.y,e.z),c+=1;return o.needsUpdate=!0,this}}(),Vi.prototype=Object.create(ct.prototype),Vi.prototype.constructor=Vi,Vi.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Vi.prototype.update=function(){var t=new c,e=new c;return function(){var n=this.light.distance?this.light.distance:1e3,i=n*Math.tan(this.light.angle);this.cone.scale.set(i,i,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),Wi.prototype=Object.create(we.prototype),Wi.prototype.constructor=Wi,Wi.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},Wi.prototype.update=function(){for(var t=this.geometry,e=(new l).getInverse(this.root.matrixWorld),n=new l,i=0,r=0;r<this.bones.length;r++){var o=this.bones[r];o.parent&&o.parent.isBone&&(n.multiplyMatrices(e,o.matrixWorld),t.vertices[i].setFromMatrixPosition(n),n.multiplyMatrices(e,o.parent.matrixWorld),t.vertices[i+1].setFromMatrixPosition(n),i+=2)}t.verticesNeedUpdate=!0,t.computeBoundingSphere()},Xi.prototype=Object.create(Ct.prototype),Xi.prototype.constructor=Xi,Xi.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Xi.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},qi.prototype=Object.create(ct.prototype),qi.prototype.constructor=qi,qi.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},qi.prototype.update=function(){var t=new c;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),Yi.prototype=Object.create(we.prototype),Yi.prototype.constructor=Yi,Yi.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Zi.prototype=Object.create(we.prototype),Zi.prototype.constructor=Zi,Zi.prototype.update=function(){var t=new c,e=new c,n=new nt;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,r=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;c<l;c++){var h=s[c],f=h.normal;t.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(i),e.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),r.setXYZ(u,t.x,t.y,t.z),u+=1,r.setXYZ(u,e.x,e.y,e.z),u+=1}return r.needsUpdate=!0,this}}(),$i.prototype=Object.create(ct.prototype),$i.prototype.constructor=$i,$i.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},$i.prototype.update=function(){var t=new c,e=new c,n=new c;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var i=this.children[0],r=this.children[1];i.lookAt(n),i.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.lookAt(n),r.scale.z=n.length()}}(),Ji.prototype=Object.create(we.prototype),Ji.prototype.constructor=Ji,Ji.prototype.update=function(){function t(t,o,a,s){i.set(o,a,s).unproject(r);var u=n[t];if(void 0!==u)for(var c=0,l=u.length;c<l;c++)e.vertices[u[c]].copy(i)}var e,n,i=new c,r=new Dt;return function(){e=this.geometry,n=this.pointMap;var i=1,o=1;r.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-i,-o,-1),t("n2",i,-o,-1),t("n3",-i,o,-1),t("n4",i,o,-1),t("f1",-i,-o,1),t("f2",i,-o,1),t("f3",-i,o,1),t("f4",i,o,1),t("u1",.7*i,1.1*o,-1),t("u2",.7*-i,1.1*o,-1),t("u3",0,2*o,-1),t("cf1",-i,0,1),t("cf2",i,0,1),t("cf3",0,-o,1),t("cf4",0,o,1),t("cn1",-i,0,-1),t("cn2",i,0,-1),t("cn3",0,-o,-1),t("cn4",0,o,-1),e.verticesNeedUpdate=!0}}(),Qi.prototype=Object.create(Ct.prototype),Qi.prototype.constructor=Qi,Qi.prototype.update=function(){this.box.setFromObject(this.object),this.box.getSize(this.scale),this.box.getCenter(this.position)},Ki.prototype=Object.create(we.prototype),Ki.prototype.constructor=Ki,Ki.prototype.update=function(){var t=new tt;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var n=t.min,i=t.max,r=this.geometry.attributes.position,o=r.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=n.x,o[4]=i.y,o[5]=i.z,o[6]=n.x,o[7]=n.y,o[8]=i.z,o[9]=i.x,o[10]=n.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=n.z,o[15]=n.x,o[16]=i.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=i.x,o[22]=n.y,o[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var sc=new Rt;sc.addAttribute("position",new Tt([0,0,0,0,1,0],3));var uc=new sn(0,.5,1,5,1);uc.translate(0,-.5,0),tr.prototype=Object.create(ct.prototype),tr.prototype.constructor=tr,tr.prototype.setDirection=function(){var t,e=new c;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),tr.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},tr.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},er.prototype=Object.create(we.prototype),er.prototype.constructor=er;var cc=function(){function t(){}var e=new c,n=new t,i=new t,r=new t;return t.prototype.init=function(t,e,n,i){this.c0=t,this.c1=n,this.c2=-3*t+3*e-2*n-i,this.c3=2*t-2*e+n+i},t.prototype.initNonuniformCatmullRom=function(t,e,n,i,r,o,a){var s=(e-t)/r-(n-t)/(r+o)+(n-e)/o,u=(n-e)/o-(i-e)/(o+a)+(i-n)/a;s*=o,u*=o,this.init(e,n,s,u)},t.prototype.initCatmullRom=function(t,e,n,i,r){this.init(e,n,r*(n-t),r*(i-e))},t.prototype.calc=function(t){var e=t*t,n=e*t;return this.c0+this.c1*t+this.c2*e+this.c3*n},ri.create(function(t){this.points=t||[],this.closed=!1},function(t){var o,a,s,u,l=this.points;u=l.length,u<2&&console.log("duh, you need at least 2 points"),o=(u-(this.closed?0:1))*t,a=Math.floor(o),s=o-a,this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/l.length)+1)*l.length:0===s&&a===u-1&&(a=u-2,s=1);var h,f,p,d;if(this.closed||a>0?h=l[(a-1)%u]:(e.subVectors(l[0],l[1]).add(l[0]),h=e),f=l[a%u],p=l[(a+1)%u],this.closed||a+2<u?d=l[(a+2)%u]:(e.subVectors(l[u-1],l[u-2]).add(l[u-1]),d=e),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var m="chordal"===this.type?.5:.25,g=Math.pow(h.distanceToSquared(f),m),v=Math.pow(f.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(d),m);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),n.initNonuniformCatmullRom(h.x,f.x,p.x,d.x,g,v,y),i.initNonuniformCatmullRom(h.y,f.y,p.y,d.y,g,v,y),r.initNonuniformCatmullRom(h.z,f.z,p.z,d.z,g,v,y)}else if("catmullrom"===this.type){var _=void 0!==this.tension?this.tension:.5;n.initCatmullRom(h.x,f.x,p.x,d.x,_),i.initCatmullRom(h.y,f.y,p.y,d.y,_),r.initCatmullRom(h.z,f.z,p.z,d.z,_)}var x=new c(n.calc(s),i.calc(s),r.calc(s));return x})}();nr.prototype=Object.create(cc.prototype);var lc=ri.create(function(t){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=void 0===t?[]:t},function(t){var e=this.points,n=(e.length-1)*t,i=Math.floor(n),r=n-i,o=e[0==i?i:i-1],a=e[i],s=e[i>e.length-2?e.length-1:i+1],u=e[i>e.length-3?e.length-1:i+2],l=rc.interpolate;return new c(l(o.x,a.x,s.x,u.x,r),l(o.y,a.y,s.y,u.y,r),l(o.z,a.z,s.z,u.z,r))}),hc=ri.create(function(t,e,n,i){this.v0=t,this.v1=e,this.v2=n,this.v3=i},function(t){var e=$u.b3;return new c(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),fc=ri.create(function(t,e,n){this.v0=t,this.v1=e,this.v2=n},function(t){var e=$u.b2;return new c(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y),e(t,this.v0.z,this.v1.z,this.v2.z))}),pc=ri.create(function(t,e){this.v1=t,this.v2=e},function(t){if(1===t)return this.v2.clone();var e=new c;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e});ir.prototype=Object.create(si.prototype),ir.prototype.constructor=ir;var dc={createMultiMaterialObject:function(t,e){for(var n=new Ee,i=0,r=e.length;i<r;i++)n.add(new Ct(t,e[i]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var i=new l;i.getInverse(n.matrixWorld),t.applyMatrix(i),e.remove(t),n.add(t)}},mc=0,gc=1;Object.assign(q.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(tt.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(ht.prototype,{center:function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)}}),Object.assign(nt.prototype,{multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)}}),Object.assign(l.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),t.applyProjection(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(t){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(t){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(t){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(t){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(t,e){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}}),Object.assign(it.prototype,{isIntersectionLine:function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)}}),Object.assign(u.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)}}),Object.assign(at.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(hi.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ze(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new on(this,t)}}),Object.assign(c.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)}}),Object.assign(ct.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(t){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(ct.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(t){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(me.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),It.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Cn.prototype,{onlyShadow:{set:function(t){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(t){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(t){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(mt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length}}}),Object.assign(Rt.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Rt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties($.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(t){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new X}}}),Object.defineProperties(_n.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(t){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Q.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),e.prototype=Object.assign(Object.create({constructor:e,apply:function(t){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in."),Object.assign(t,this)}}),e.prototype),Object.defineProperties(Ri.prototype,{dynamic:{set:function(t){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.assign(ue.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(ue.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(ot.prototype,{cullFace:{get:function(){return this.renderReverseSided?_r:yr},set:function(t){var e=t!==yr;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(a.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.assign(bi.prototype,{load:function(t){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");var e=this,n=new vi;return n.load(t,function(t){e.setBuffer(t)}),this}}),Object.assign(Ti.prototype,{getData:function(t){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()}});var vc={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var i;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),i=e.matrix,e=e.geometry),t.merge(e,i,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},yc={crossOrigin:void 0,loadTexture:function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Rn;r.setCrossOrigin(this.crossOrigin);var o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Pn;r.setCrossOrigin(this.crossOrigin);var o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};t.WebGLRenderTargetCube=s,t.WebGLRenderTarget=a,t.WebGLRenderer=ue,t.ShaderLib=Wu,t.UniformsLib=Vu,t.UniformsUtils=Va,t.ShaderChunk=Gu,t.FogExp2=ce,t.Fog=le,t.Scene=he,t.LensFlare=fe,t.Sprite=de,t.LOD=me,t.SkinnedMesh=_e,t.Skeleton=ve,t.Bone=ye,t.Mesh=Ct,t.LineSegments=we,t.Line=be,t.Points=Me,t.Group=Ee,t.VideoTexture=Se,t.DataTexture=ge,t.CompressedTexture=Ae,t.CubeTexture=h,t.CanvasTexture=Pe,t.DepthTexture=Re,t.TextureIdCount=r,t.Texture=i,t.MaterialIdCount=J,t.CompressedTextureLoader=En,t.BinaryTextureLoader=Sn,t.DataTextureLoader=ec,t.CubeTextureLoader=Pn,t.TextureLoader=Rn,t.ObjectLoader=ii,t.MaterialLoader=Kn,t.BufferGeometryLoader=ti,t.DefaultLoadingManager=tc,t.LoadingManager=Tn,t.JSONLoader=ni,t.ImageLoader=An,t.FontLoader=mi,t.XHRLoader=Mn,t.Loader=ei,t.Cache=Ku,t.AudioLoader=vi,t.SpotLightShadow=Dn,t.SpotLight=In,t.PointLight=Nn,t.HemisphereLight=Ln,t.DirectionalLightShadow=Fn,t.DirectionalLight=Un,t.AmbientLight=kn,t.LightShadow=On,t.Light=Cn,t.StereoCamera=yi,t.PerspectiveCamera=It,t.OrthographicCamera=Nt,t.CubeCamera=_i,t.Camera=Dt,t.AudioListener=xi,t.PositionalAudio=wi,t.getAudioContext=gi,t.AudioAnalyser=Ti,t.Audio=bi,t.VectorKeyframeTrack=Vn,t.StringKeyframeTrack=Yn,t.QuaternionKeyframeTrack=Xn,t.NumberKeyframeTrack=qn,t.ColorKeyframeTrack=$n,t.BooleanKeyframeTrack=Zn,t.PropertyMixer=Mi,t.PropertyBinding=Ei,t.KeyframeTrack=Jn,t.AnimationUtils=nc,t.AnimationObjectGroup=Si,t.AnimationMixer=Pi,t.AnimationClip=Qn,t.Uniform=Ri,t.InstancedBufferGeometry=Ci,t.BufferGeometry=Rt,t.GeometryIdCount=At,t.Geometry=St,t.InterleavedBufferAttribute=Li,t.InstancedInterleavedBuffer=Di,t.InterleavedBuffer=Oi,t.InstancedBufferAttribute=Ii,t.DynamicBufferAttribute=Et,t.Float64Attribute=Mt,t.Float32Attribute=Tt,t.Uint32Attribute=wt,t.Int32Attribute=bt,t.Uint16Attribute=xt,
t.Int16Attribute=_t,t.Uint8ClampedAttribute=yt,t.Uint8Attribute=vt,t.Int8Attribute=gt,t.BufferAttribute=mt,t.Face3=pt,t.Object3DIdCount=lt,t.Object3D=ct,t.Raycaster=Ni,t.Layers=ut,t.EventDispatcher=e,t.Clock=ki,t.QuaternionLinearInterpolant=Wn,t.LinearInterpolant=jn,t.DiscreteInterpolant=Gn,t.CubicInterpolant=Bn,t.Interpolant=zn,t.Triangle=ft,t.Spline=zi,t.Math=Ua,t.Spherical=Bi,t.Plane=it,t.Frustum=rt,t.Sphere=et,t.Ray=at,t.Matrix4=l,t.Matrix3=nt,t.Box3=tt,t.Box2=q,t.Line3=ht,t.Euler=st,t.Vector4=o,t.Vector3=c,t.Vector2=n,t.Quaternion=u,t.ColorKeywords=Hu,t.Color=X,t.MorphBlendMesh=ji,t.ImmediateRenderObject=Gi,t.VertexNormalsHelper=Hi,t.SpotLightHelper=Vi,t.SkeletonHelper=Wi,t.PointLightHelper=Xi,t.HemisphereLightHelper=qi,t.GridHelper=Yi,t.FaceNormalsHelper=Zi,t.DirectionalLightHelper=$i,t.CameraHelper=Ji,t.BoundingBoxHelper=Qi,t.BoxHelper=Ki,t.ArrowHelper=tr,t.AxisHelper=er,t.ClosedSplineCurve3=nr,t.CatmullRomCurve3=cc,t.SplineCurve3=lc,t.CubicBezierCurve3=hc,t.QuadraticBezierCurve3=fc,t.LineCurve3=pc,t.ArcCurve=ir,t.EllipseCurve=si,t.SplineCurve=ui,t.CubicBezierCurve=ci,t.QuadraticBezierCurve=li,t.LineCurve=oi,t.Shape=hi,t.ShapePath=pi,t.Path=fi,t.Font=di,t.CurvePath=ai,t.Curve=ri,t.ShapeUtils=$u,t.SceneUtils=dc,t.CurveUtils=rc,t.WireframeGeometry=Ce,t.ParametricGeometry=Oe,t.ParametricBufferGeometry=Le,t.TetrahedronGeometry=Ne,t.TetrahedronBufferGeometry=Ie,t.OctahedronGeometry=Ue,t.OctahedronBufferGeometry=Fe,t.IcosahedronGeometry=ze,t.IcosahedronBufferGeometry=ke,t.DodecahedronGeometry=je,t.DodecahedronBufferGeometry=Be,t.PolyhedronGeometry=Ge,t.PolyhedronBufferGeometry=De,t.TubeGeometry=Ve,t.TubeBufferGeometry=He,t.TorusKnotGeometry=Xe,t.TorusKnotBufferGeometry=We,t.TorusGeometry=Ye,t.TorusBufferGeometry=qe,t.TextGeometry=$e,t.SphereBufferGeometry=Je,t.SphereGeometry=Qe,t.RingGeometry=tn,t.RingBufferGeometry=Ke,t.PlaneBufferGeometry=Ot,t.PlaneGeometry=en,t.LatheGeometry=rn,t.LatheBufferGeometry=nn,t.ShapeGeometry=on,t.ExtrudeGeometry=Ze,t.EdgesGeometry=an,t.ConeGeometry=cn,t.ConeBufferGeometry=ln;t.CylinderGeometry=un;t.CylinderBufferGeometry=sn,t.CircleBufferGeometry=hn,t.CircleGeometry=fn,t.BoxBufferGeometry=Lt,t.BoxGeometry=pn,t.ShadowMaterial=dn,t.SpriteMaterial=pe,t.RawShaderMaterial=mn,t.ShaderMaterial=Q,t.PointsMaterial=Te,t.MultiMaterial=gn,t.MeshPhysicalMaterial=yn,t.MeshStandardMaterial=vn,t.MeshPhongMaterial=_n,t.MeshNormalMaterial=xn,t.MeshLambertMaterial=bn,t.MeshDepthMaterial=K,t.MeshBasicMaterial=dt,t.LineDashedMaterial=wn,t.LineBasicMaterial=xe,t.Material=$,t.REVISION=mr,t.MOUSE=gr,t.CullFaceNone=vr,t.CullFaceBack=yr,t.CullFaceFront=_r,t.CullFaceFrontBack=xr,t.FrontFaceDirectionCW=br,t.FrontFaceDirectionCCW=wr,t.BasicShadowMap=Tr,t.PCFShadowMap=Mr,t.PCFSoftShadowMap=Er,t.FrontSide=Sr,t.BackSide=Ar,t.DoubleSide=Pr,t.FlatShading=Rr,t.SmoothShading=Cr,t.NoColors=Lr,t.FaceColors=Or,t.VertexColors=Dr,t.NoBlending=Ir,t.NormalBlending=Nr,t.AdditiveBlending=Fr,t.SubtractiveBlending=Ur,t.MultiplyBlending=kr,t.CustomBlending=zr,t.BlendingMode=Br,t.AddEquation=jr,t.SubtractEquation=Gr,t.ReverseSubtractEquation=Hr,t.MinEquation=Vr,t.MaxEquation=Wr,t.ZeroFactor=Xr,t.OneFactor=qr,t.SrcColorFactor=Yr,t.OneMinusSrcColorFactor=Zr,t.SrcAlphaFactor=$r,t.OneMinusSrcAlphaFactor=Jr,t.DstAlphaFactor=Qr,t.OneMinusDstAlphaFactor=Kr,t.DstColorFactor=to,t.OneMinusDstColorFactor=eo,t.SrcAlphaSaturateFactor=no,t.NeverDepth=io,t.AlwaysDepth=ro,t.LessDepth=oo,t.LessEqualDepth=ao,t.EqualDepth=so,t.GreaterEqualDepth=uo,t.GreaterDepth=co,t.NotEqualDepth=lo,t.MultiplyOperation=ho,t.MixOperation=fo,t.AddOperation=po,t.NoToneMapping=mo,t.LinearToneMapping=go,t.ReinhardToneMapping=vo,t.Uncharted2ToneMapping=yo,t.CineonToneMapping=_o,t.UVMapping=xo,t.CubeReflectionMapping=bo,t.CubeRefractionMapping=wo,t.EquirectangularReflectionMapping=To,t.EquirectangularRefractionMapping=Mo,t.SphericalReflectionMapping=Eo,t.CubeUVReflectionMapping=So,t.CubeUVRefractionMapping=Ao,t.TextureMapping=Po,t.RepeatWrapping=Ro,t.ClampToEdgeWrapping=Co,t.MirroredRepeatWrapping=Lo,t.TextureWrapping=Oo,t.NearestFilter=Do,t.NearestMipMapNearestFilter=Io,t.NearestMipMapLinearFilter=No,t.LinearFilter=Fo,t.LinearMipMapNearestFilter=Uo,t.LinearMipMapLinearFilter=ko,t.TextureFilter=zo,t.UnsignedByteType=Bo,t.ByteType=jo,t.ShortType=Go,t.UnsignedShortType=Ho,t.IntType=Vo,t.UnsignedIntType=Wo,t.FloatType=Xo,t.HalfFloatType=qo,t.UnsignedShort4444Type=Yo,t.UnsignedShort5551Type=Zo,t.UnsignedShort565Type=$o,t.UnsignedInt248Type=Jo,t.AlphaFormat=Qo,t.RGBFormat=Ko,t.RGBAFormat=ta,t.LuminanceFormat=ea,t.LuminanceAlphaFormat=na,t.RGBEFormat=ia,t.DepthFormat=ra,t.DepthStencilFormat=oa,t.RGB_S3TC_DXT1_Format=aa,t.RGBA_S3TC_DXT1_Format=sa,t.RGBA_S3TC_DXT3_Format=ua,t.RGBA_S3TC_DXT5_Format=ca,t.RGB_PVRTC_4BPPV1_Format=la,t.RGB_PVRTC_2BPPV1_Format=ha,t.RGBA_PVRTC_4BPPV1_Format=fa,t.RGBA_PVRTC_2BPPV1_Format=pa,t.RGB_ETC1_Format=da,t.LoopOnce=ma,t.LoopRepeat=ga,t.LoopPingPong=va,t.InterpolateDiscrete=ya,t.InterpolateLinear=_a,t.InterpolateSmooth=xa,t.ZeroCurvatureEnding=ba,t.ZeroSlopeEnding=wa,t.WrapAroundEnding=Ta,t.TrianglesDrawMode=Ma,t.TriangleStripDrawMode=Ea,t.TriangleFanDrawMode=Sa,t.LinearEncoding=Aa,t.sRGBEncoding=Pa,t.GammaEncoding=Ra,t.RGBEEncoding=Ca,t.LogLuvEncoding=La,t.RGBM7Encoding=Oa,t.RGBM16Encoding=Da,t.RGBDEncoding=Ia,t.BasicDepthPacking=Na,t.RGBADepthPacking=Fa,t.CubeGeometry=pn,t.Face4=rr,t.LineStrip=mc,t.LinePieces=gc,t.MeshFaceMaterial=gn,t.PointCloud=or,t.Particle=de,t.ParticleSystem=ar,t.PointCloudMaterial=sr,t.ParticleBasicMaterial=ur,t.ParticleSystemMaterial=cr,t.Vertex=lr,t.EdgesHelper=hr,t.WireframeHelper=fr,t.GeometryUtils=vc,t.ImageUtils=yc,t.Projector=pr,t.CanvasRenderer=dr,Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AudioContext",{get:function(){return t.getAudioContext()}})}),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function r(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function o(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function a(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function s(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function u(t,e){var n=null==t?0:t.length;return!!n&&_(t,e,0)>-1}function c(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function l(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function h(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function f(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function p(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function d(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function m(t){return t.split("")}function g(t){return t.match(ke)||[]}function v(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function y(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function _(t,e,n){return e===e?X(t,e,n):y(t,b,n)}function x(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function b(t){return t!==t}function w(t,e){var n=null==t?0:t.length;return n?A(t,e)/n:Ot}function T(t){return function(e){return null==e?K:e[t]}}function M(t){return function(e){return null==t?K:t[e]}}function E(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function S(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function A(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==K&&(n=n===K?o:n+o)}return n}function P(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function R(t,e){return l(e,function(e){return[e,t[e]]})}function C(t){return function(e){return t(e)}}function L(t,e){return l(e,function(e){return t[e]})}function O(t,e){return t.has(e)}function D(t,e){for(var n=-1,i=t.length;++n<i&&_(e,t[n],0)>-1;);return n}function I(t,e){for(var n=t.length;n--&&_(e,t[n],0)>-1;);return n}function N(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function F(t){return"\\"+Jn[t]}function U(t,e){return null==t?K:t[e]}function k(t){return Gn.test(t)}function z(t){return Hn.test(t)}function B(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function j(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function G(t,e){return function(n){return t(e(n))}}function H(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==at||(t[n]=at,o[r++]=n)}return o}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function X(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function q(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function Y(t){return k(t)?$(t):di(t)}function Z(t){return k(t)?J(t):m(t)}function $(t){for(var e=Bn.lastIndex=0;Bn.test(t);)++e;return e}function J(t){return t.match(Bn)||[]}function Q(t){return t.match(jn)||[]}var K,tt="4.17.2",et=200,nt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",it="Expected a function",rt="__lodash_hash_undefined__",ot=500,at="__lodash_placeholder__",st=1,ut=2,ct=4,lt=1,ht=2,ft=1,pt=2,dt=4,mt=8,gt=16,vt=32,yt=64,_t=128,xt=256,bt=512,wt=30,Tt="...",Mt=800,Et=16,St=1,At=2,Pt=3,Rt=1/0,Ct=9007199254740991,Lt=1.7976931348623157e308,Ot=NaN,Dt=4294967295,It=Dt-1,Nt=Dt>>>1,Ft=[["ary",_t],["bind",ft],["bindKey",pt],["curry",mt],["curryRight",gt],["flip",bt],["partial",vt],["partialRight",yt],["rearg",xt]],Ut="[object Arguments]",kt="[object Array]",zt="[object AsyncFunction]",Bt="[object Boolean]",jt="[object Date]",Gt="[object DOMException]",Ht="[object Error]",Vt="[object Function]",Wt="[object GeneratorFunction]",Xt="[object Map]",qt="[object Number]",Yt="[object Null]",Zt="[object Object]",$t="[object Promise]",Jt="[object Proxy]",Qt="[object RegExp]",Kt="[object Set]",te="[object String]",ee="[object Symbol]",ne="[object Undefined]",ie="[object WeakMap]",re="[object WeakSet]",oe="[object ArrayBuffer]",ae="[object DataView]",se="[object Float32Array]",ue="[object Float64Array]",ce="[object Int8Array]",le="[object Int16Array]",he="[object Int32Array]",fe="[object Uint8Array]",pe="[object Uint8ClampedArray]",de="[object Uint16Array]",me="[object Uint32Array]",ge=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_e=/&(?:amp|lt|gt|quot|#39);/g,xe=/[&<>"']/g,be=RegExp(_e.source),we=RegExp(xe.source),Te=/<%-([\s\S]+?)%>/g,Me=/<%([\s\S]+?)%>/g,Ee=/<%=([\s\S]+?)%>/g,Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ae=/^\w*$/,Pe=/^\./,Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ce=/[\\^$.*+?()[\]{}|]/g,Le=RegExp(Ce.source),Oe=/^\s+|\s+$/g,De=/^\s+/,Ie=/\s+$/,Ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,ke=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ze=/\\(\\)?/g,Be=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,je=/\w*$/,Ge=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,We=/^0o[0-7]+$/i,Xe=/^(?:0|[1-9]\d*)$/,qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ye=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,$e="\\ud800-\\udfff",Je="\\u0300-\\u036f",Qe="\\ufe20-\\ufe2f",Ke="\\u20d0-\\u20ff",tn=Je+Qe+Ke,en="\\u2700-\\u27bf",nn="a-z\\xdf-\\xf6\\xf8-\\xff",rn="\\xac\\xb1\\xd7\\xf7",on="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",an="\\u2000-\\u206f",sn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",un="A-Z\\xc0-\\xd6\\xd8-\\xde",cn="\\ufe0e\\ufe0f",ln=rn+on+an+sn,hn="['’]",fn="["+$e+"]",pn="["+ln+"]",dn="["+tn+"]",mn="\\d+",gn="["+en+"]",vn="["+nn+"]",yn="[^"+$e+ln+mn+en+nn+un+"]",_n="\\ud83c[\\udffb-\\udfff]",xn="(?:"+dn+"|"+_n+")",bn="[^"+$e+"]",wn="(?:\\ud83c[\\udde6-\\uddff]){2}",Tn="[\\ud800-\\udbff][\\udc00-\\udfff]",Mn="["+un+"]",En="\\u200d",Sn="(?:"+vn+"|"+yn+")",An="(?:"+Mn+"|"+yn+")",Pn="(?:"+hn+"(?:d|ll|m|re|s|t|ve))?",Rn="(?:"+hn+"(?:D|LL|M|RE|S|T|VE))?",Cn=xn+"?",Ln="["+cn+"]?",On="(?:"+En+"(?:"+[bn,wn,Tn].join("|")+")"+Ln+Cn+")*",Dn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",In="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Nn=Ln+Cn+On,Fn="(?:"+[gn,wn,Tn].join("|")+")"+Nn,Un="(?:"+[bn+dn+"?",dn,wn,Tn,fn].join("|")+")",kn=RegExp(hn,"g"),zn=RegExp(dn,"g"),Bn=RegExp(_n+"(?="+_n+")|"+Un+Nn,"g"),jn=RegExp([Mn+"?"+vn+"+"+Pn+"(?="+[pn,Mn,"$"].join("|")+")",An+"+"+Rn+"(?="+[pn,Mn+Sn,"$"].join("|")+")",Mn+"?"+Sn+"+"+Pn,Mn+"+"+Rn,In,Dn,mn,Fn].join("|"),"g"),Gn=RegExp("["+En+$e+tn+cn+"]"),Hn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wn=-1,Xn={};Xn[se]=Xn[ue]=Xn[ce]=Xn[le]=Xn[he]=Xn[fe]=Xn[pe]=Xn[de]=Xn[me]=!0,Xn[Ut]=Xn[kt]=Xn[oe]=Xn[Bt]=Xn[ae]=Xn[jt]=Xn[Ht]=Xn[Vt]=Xn[Xt]=Xn[qt]=Xn[Zt]=Xn[Qt]=Xn[Kt]=Xn[te]=Xn[ie]=!1;var qn={};qn[Ut]=qn[kt]=qn[oe]=qn[ae]=qn[Bt]=qn[jt]=qn[se]=qn[ue]=qn[ce]=qn[le]=qn[he]=qn[Xt]=qn[qt]=qn[Zt]=qn[Qt]=qn[Kt]=qn[te]=qn[ee]=qn[fe]=qn[pe]=qn[de]=qn[me]=!0,qn[Ht]=qn[Vt]=qn[ie]=!1;var Yn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Zn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qn=parseFloat,Kn=parseInt,ti="object"==typeof global&&global&&global.Object===Object&&global,ei="object"==typeof self&&self&&self.Object===Object&&self,ni=ti||ei||Function("return this")(),ii="object"==typeof exports&&exports&&!exports.nodeType&&exports,ri=ii&&"object"==typeof module&&module&&!module.nodeType&&module,oi=ri&&ri.exports===ii,ai=oi&&ti.process,si=function(){try{return ai&&ai.binding&&ai.binding("util")}catch(t){}}(),ui=si&&si.isArrayBuffer,ci=si&&si.isDate,li=si&&si.isMap,hi=si&&si.isRegExp,fi=si&&si.isSet,pi=si&&si.isTypedArray,di=T("length"),mi=M(Yn),gi=M(Zn),vi=M($n),yi=function m(M){function X(t){if(uu(t)&&!xf(t)&&!(t instanceof ke)){if(t instanceof J)return t;if(_l.call(t,"__wrapped__"))return oa(t)}return new J(t)}function $(){}function J(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=K}function ke(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Dt,this.__views__=[]}function $e(){var t=new ke(this.__wrapped__);return t.__actions__=jr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=jr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=jr(this.__views__),t}function Je(){if(this.__filtered__){var t=new ke(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Qe(){var t=this.__wrapped__.value(),e=this.__dir__,n=xf(t),i=e<0,r=n?t.length:0,o=Po(0,r,this.__views__),a=o.start,s=o.end,u=s-a,c=i?s:a-1,l=this.__iteratees__,h=l.length,f=0,p=Zl(u,this.__takeCount__);if(!n||r<et||r==u&&p==u)return wr(t,this.__actions__);var d=[];t:for(;u--&&f<p;){c+=e;for(var m=-1,g=t[c];++m<h;){var v=l[m],y=v.iteratee,_=v.type,x=y(g);if(_==At)g=x;else if(!x){if(_==St)continue t;break t}}d[f++]=g}return d}function Ke(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function tn(){this.__data__=oh?oh(null):{},this.size=0}function en(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function nn(t){var e=this.__data__;if(oh){var n=e[t];return n===rt?K:n}return _l.call(e,t)?e[t]:K}function rn(t){var e=this.__data__;return oh?e[t]!==K:_l.call(e,t)}function on(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=oh&&e===K?rt:e,this}function an(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function sn(){this.__data__=[],this.size=0}function un(t){var e=this.__data__,n=In(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Dl.call(e,n,1),--this.size,!0}function cn(t){var e=this.__data__,n=In(e,t);return n<0?K:e[n][1]}function ln(t){return In(this.__data__,t)>-1}function hn(t,e){var n=this.__data__,i=In(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function fn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function pn(){this.size=0,this.__data__={hash:new Ke,map:new(eh||an),string:new Ke}}function dn(t){var e=Mo(this,t).delete(t);return this.size-=e?1:0,e}function mn(t){return Mo(this,t).get(t)}function gn(t){return Mo(this,t).has(t)}function vn(t,e){var n=Mo(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new fn;++e<n;)this.add(t[e])}function _n(t){return this.__data__.set(t,rt),this}function xn(t){return this.__data__.has(t)}function bn(t){var e=this.__data__=new an(t);this.size=e.size}function wn(){this.__data__=new an,this.size=0}function Tn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Mn(t){return this.__data__.get(t)}function En(t){return this.__data__.has(t)}function Sn(t,e){var n=this.__data__;if(n instanceof an){var i=n.__data__;if(!eh||i.length<et-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new fn(i)}return n.set(t,e),this.size=n.size,this}function An(t,e){var n=xf(t),i=!n&&_f(t),r=!n&&!i&&wf(t),o=!n&&!i&&!r&&Af(t),a=n||i||r||o,s=a?P(t.length,fl):[],u=s.length;for(var c in t)!e&&!_l.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Fo(c,u))||s.push(c);return s}function Pn(t){var e=t.length;return e?t[ir(0,e-1)]:K}function Rn(t,e){return ea(jr(t),Gn(e,0,t.length))}function Cn(t){return ea(jr(t))}function Ln(t,e,n,i){return t===K||Ys(t,gl[n])&&!_l.call(i,n)?e:t}function On(t,e,n){(n===K||Ys(t[e],n))&&(n!==K||e in t)||Bn(t,e,n)}function Dn(t,e,n){var i=t[e];_l.call(t,e)&&Ys(i,n)&&(n!==K||e in t)||Bn(t,e,n)}function In(t,e){for(var n=t.length;n--;)if(Ys(t[n][0],e))return n;return-1}function Nn(t,e,n,i){return vh(t,function(t,r,o){e(i,t,n(t),o)}),i}function Fn(t,e){return t&&Gr(e,Hu(e),t)}function Un(t,e){return t&&Gr(e,Vu(e),t)}function Bn(t,e,n){"__proto__"==e&&Ul?Ul(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function jn(t,e){for(var n=-1,i=e.length,r=ol(i),o=null==t;++n<i;)r[n]=o?K:Bu(t,e[n]);return r}function Gn(t,e,n){return t===t&&(n!==K&&(t=t<=n?t:n),e!==K&&(t=t>=e?t:e)),t}function Hn(t,e,n,i,o,a){var s,u=e&st,c=e&ut,l=e&ct;if(n&&(s=o?n(t,i,o,a):n(t)),s!==K)return s;if(!su(t))return t;var h=xf(t);if(h){if(s=Lo(t),!u)return jr(t,s)}else{var f=Rh(t),p=f==Vt||f==Wt;if(wf(t))return Rr(t,u);if(f==Zt||f==Ut||p&&!o){if(s=c||p?{}:Oo(t),!u)return c?Vr(t,Un(s,t)):Hr(t,Fn(s,t))}else{if(!qn[f])return o?t:{};s=Do(t,f,Hn,u)}}a||(a=new bn);var d=a.get(t);if(d)return d;a.set(t,s);var m=l?c?xo:_o:c?Vu:Hu,g=h?K:m(t);return r(g||t,function(i,r){g&&(r=i,i=t[r]),Dn(s,r,Hn(i,e,n,r,t,a))}),s}function Yn(t){var e=Hu(t);return function(n){return Zn(n,t,e)}}function Zn(t,e,n){var i=n.length;if(null==t)return!i;for(t=ll(t);i--;){var r=n[i],o=e[r],a=t[r];if(a===K&&!(r in t)||!o(a))return!1}return!0}function $n(t,e,n){if("function"!=typeof t)throw new pl(it);return Oh(function(){t.apply(K,n)},e)}function Jn(t,e,n,i){var r=-1,o=u,a=!0,s=t.length,h=[],f=e.length;if(!s)return h;n&&(e=l(e,C(n))),i?(o=c,a=!1):e.length>=et&&(o=O,a=!1,e=new yn(e));t:for(;++r<s;){var p=t[r],d=null==n?p:n(p);if(p=i||0!==p?p:0,a&&d===d){for(var m=f;m--;)if(e[m]===d)continue t;h.push(p)}else o(e,d,i)||h.push(p)}return h}function ti(t,e){var n=!0;return vh(t,function(t,i,r){return n=!!e(t,i,r)}),n}function ei(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(s===K?a===a&&!_u(a):n(a,s)))var s=a,u=o}return u}function ii(t,e,n,i){var r=t.length;for(n=Eu(n),n<0&&(n=-n>r?0:r+n),i=i===K||i>r?r:Eu(i),i<0&&(i+=r),i=n>i?0:Su(i);n<i;)t[n++]=e;return t}function ri(t,e){var n=[];return vh(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ai(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=No),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?ai(s,e-1,n,i,r):h(r,s):i||(r[r.length]=s)}return r}function si(t,e){return t&&_h(t,e,Hu)}function di(t,e){return t&&xh(t,e,Hu)}function yi(t,e){return s(e,function(e){return ru(t[e])})}function xi(t,e){e=Ar(e,t);for(var n=0,i=e.length;null!=t&&n<i;)t=t[na(e[n++])];return n&&n==i?t:K}function bi(t,e,n){var i=e(t);return xf(t)?i:h(i,n(t))}function wi(t){return null==t?t===K?ne:Yt:(t=ll(t),Fl&&Fl in t?Ao(t):Zo(t))}function Ti(t,e){return t>e}function Mi(t,e){return null!=t&&_l.call(t,e)}function Ei(t,e){return null!=t&&e in ll(t)}function Si(t,e,n){return t>=Zl(e,n)&&t<Yl(e,n)}function Ai(t,e,n){for(var i=n?c:u,r=t[0].length,o=t.length,a=o,s=ol(o),h=1/0,f=[];a--;){var p=t[a];a&&e&&(p=l(p,C(e))),h=Zl(p.length,h),s[a]=!n&&(e||r>=120&&p.length>=120)?new yn(a&&p):K}p=t[0];var d=-1,m=s[0];t:for(;++d<r&&f.length<h;){var g=p[d],v=e?e(g):g;if(g=n||0!==g?g:0,!(m?O(m,v):i(f,v,n))){for(a=o;--a;){var y=s[a];if(!(y?O(y,v):i(t[a],v,n)))continue t}m&&m.push(v),f.push(g)}}return f}function Pi(t,e,n,i){return si(t,function(t,r,o){e(i,n(t),r,o)}),i}function Ri(t,e,i){e=Ar(e,t),t=Jo(t,e);var r=null==t?t:t[na(Ma(e))];return null==r?K:n(r,t,i)}function Ci(t){return uu(t)&&wi(t)==Ut}function Li(t){return uu(t)&&wi(t)==oe}function Oi(t){return uu(t)&&wi(t)==jt}function Di(t,e,n,i,r){return t===e||(null==t||null==e||!su(t)&&!uu(e)?t!==t&&e!==e:Ii(t,e,n,i,Di,r))}function Ii(t,e,n,i,r,o){var a=xf(t),s=xf(e),u=kt,c=kt;a||(u=Rh(t),u=u==Ut?Zt:u),s||(c=Rh(e),c=c==Ut?Zt:c);var l=u==Zt,h=c==Zt,f=u==c;if(f&&wf(t)){if(!wf(e))return!1;a=!0,l=!1}if(f&&!l)return o||(o=new bn),a||Af(t)?mo(t,e,n,i,r,o):go(t,e,u,n,i,r,o);if(!(n&lt)){var p=l&&_l.call(t,"__wrapped__"),d=h&&_l.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,g=d?e.value():e;return o||(o=new bn),r(m,g,n,i,o)}}return!!f&&(o||(o=new bn),vo(t,e,n,i,r,o))}function Ni(t){return uu(t)&&Rh(t)==Xt}function Fi(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=ll(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=n[r];var u=s[0],c=t[u],l=s[1];if(a&&s[2]){if(c===K&&!(u in t))return!1}else{var h=new bn;if(i)var f=i(c,l,u,t,e,h);if(!(f===K?Di(l,c,lt|ht,i,h):f))return!1}}return!0}function Ui(t){if(!su(t)||jo(t))return!1;var e=ru(t)?El:Ve;return e.test(ia(t))}function ki(t){return uu(t)&&wi(t)==Qt}function zi(t){return uu(t)&&Rh(t)==Kt}function Bi(t){return uu(t)&&au(t.length)&&!!Xn[wi(t)]}function ji(t){return"function"==typeof t?t:null==t?Dc:"object"==typeof t?xf(t)?qi(t[0],t[1]):Xi(t):jc(t)}function Gi(t){if(!Go(t))return ql(t);var e=[];for(var n in ll(t))_l.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Hi(t){if(!su(t))return Yo(t);var e=Go(t),n=[];for(var i in t)("constructor"!=i||!e&&_l.call(t,i))&&n.push(i);return n}function Vi(t,e){return t<e}function Wi(t,e){var n=-1,i=Zs(t)?ol(t.length):[];return vh(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Xi(t){var e=Eo(t);return 1==e.length&&e[0][2]?Vo(e[0][0],e[0][1]):function(n){return n===t||Fi(n,t,e)}}function qi(t,e){return ko(t)&&Ho(e)?Vo(na(t),e):function(n){var i=Bu(n,t);return i===K&&i===e?Gu(n,t):Di(e,i,lt|ht)}}function Yi(t,e,n,i,r){t!==e&&_h(e,function(o,a){if(su(o))r||(r=new bn),Zi(t,e,a,n,Yi,i,r);else{var s=i?i(t[a],o,a+"",t,e,r):K;s===K&&(s=o),On(t,a,s)}},Vu)}function Zi(t,e,n,i,r,o,a){var s=t[n],u=e[n],c=a.get(u);if(c)return void On(t,n,c);var l=o?o(s,u,n+"",t,e,a):K,h=l===K;if(h){var f=xf(u),p=!f&&wf(u),d=!f&&!p&&Af(u);l=u,f||p||d?xf(s)?l=s:$s(s)?l=jr(s):p?(h=!1,l=Rr(u,!0)):d?(h=!1,l=Fr(u,!0)):l=[]:gu(u)||_f(u)?(l=s,_f(s)?l=Pu(s):(!su(s)||i&&ru(s))&&(l=Oo(u))):h=!1}h&&(a.set(u,l),r(l,u,i,o,a),a.delete(u)),On(t,n,l)}function $i(t,e){var n=t.length;if(n)return e+=e<0?n:0,Fo(e,n)?t[e]:K}function Ji(t,e,n){var i=-1;e=l(e.length?e:[Dc],C(To()));var r=Wi(t,function(t,n,r){var o=l(e,function(e){return e(t)});return{criteria:o,index:++i,value:t}});return S(r,function(t,e){return kr(t,e,n)})}function Qi(t,e){return t=ll(t),Ki(t,e,function(e,n){return Gu(t,n)})}function Ki(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=xi(t,a);n(s,a)&&cr(o,Ar(a,t),s)}return o}function tr(t){return function(e){return xi(e,t)}}function er(t,e,n,i){var r=i?x:_,o=-1,a=e.length,s=t;for(t===e&&(e=jr(e)),n&&(s=l(t,C(n)));++o<a;)for(var u=0,c=e[o],h=n?n(c):c;(u=r(s,h,u,i))>-1;)s!==t&&Dl.call(s,u,1),Dl.call(t,u,1);return t}function nr(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Fo(r)?Dl.call(t,r,1):_r(t,r)}}return t}function ir(t,e){return t+Gl(Ql()*(e-t+1))}function rr(t,e,n,i){for(var r=-1,o=Yl(jl((e-t)/(n||1)),0),a=ol(o);o--;)a[i?o:++r]=t,t+=n;return a}function or(t,e){var n="";if(!t||e<1||e>Ct)return n;do e%2&&(n+=t),e=Gl(e/2),e&&(t+=t);while(e);return n}function ar(t,e){return Dh($o(t,e,Dc),t+"")}function sr(t){return Pn(nc(t))}function ur(t,e){var n=nc(t);return ea(n,Gn(e,0,n.length))}function cr(t,e,n,i){if(!su(t))return t;e=Ar(e,t);for(var r=-1,o=e.length,a=o-1,s=t;null!=s&&++r<o;){var u=na(e[r]),c=n;if(r!=a){var l=s[u];c=i?i(l,u,s):K,c===K&&(c=su(l)?l:Fo(e[r+1])?[]:{})}Dn(s,u,c),s=s[u]}return t}function lr(t){return ea(nc(t))}function hr(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=ol(r);++i<r;)o[i]=t[i+e];return o}function fr(t,e){var n;return vh(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function pr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=Nt){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!_u(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return dr(t,e,Dc,n)}function dr(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=_u(e),c=e===K;r<o;){var l=Gl((r+o)/2),h=n(t[l]),f=h!==K,p=null===h,d=h===h,m=_u(h);if(a)var g=i||d;else g=c?d&&(i||f):s?d&&f&&(i||!p):u?d&&f&&!p&&(i||!m):!p&&!m&&(i?h<=e:h<e);g?r=l+1:o=l}return Zl(o,It)}function mr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Ys(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function gr(t){return"number"==typeof t?t:_u(t)?Ot:+t}function vr(t){if("string"==typeof t)return t;if(xf(t))return l(t,vr)+"";if(_u(t))return mh?mh.call(t):"";var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function yr(t,e,n){var i=-1,r=u,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=c;else if(o>=et){var h=e?null:Eh(t);if(h)return V(h);a=!1,r=O,l=new yn}else l=e?[]:s;t:for(;++i<o;){var f=t[i],p=e?e(f):f;if(f=n||0!==f?f:0,a&&p===p){for(var d=l.length;d--;)if(l[d]===p)continue t;e&&l.push(p),s.push(f)}else r(l,p,n)||(l!==s&&l.push(p),s.push(f))}return s}function _r(t,e){return e=Ar(e,t),t=Jo(t,e),null==t||delete t[na(Ma(e))]}function xr(t,e,n,i){return cr(t,e,n(xi(t,e)),i)}function br(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?hr(t,i?0:o,i?o+1:r):hr(t,i?o+1:0,i?r:o)}function wr(t,e){var n=t;return n instanceof ke&&(n=n.value()),f(e,function(t,e){return e.func.apply(e.thisArg,h([t],e.args))},n)}function Tr(t,e,n){var i=t.length;if(i<2)return i?yr(t[0]):[];for(var r=-1,o=ol(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=Jn(o[r]||a,t[s],e,n));return yr(ai(o,1),e,n)}function Mr(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:K;n(a,t[i],s)}return a}function Er(t){return $s(t)?t:[]}function Sr(t){return"function"==typeof t?t:Dc}function Ar(t,e){return xf(t)?t:ko(t,e)?[t]:Ih(Cu(t))}function Pr(t,e,n){var i=t.length;return n=n===K?i:n,!e&&n>=i?t:hr(t,e,n)}function Rr(t,e){if(e)return t.slice();var n=t.length,i=Rl?Rl(n):new t.constructor(n);return t.copy(i),i}function Cr(t){var e=new t.constructor(t.byteLength);return new Pl(e).set(new Pl(t)),e}function Lr(t,e){var n=e?Cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Or(e,n,i){var r=n?i(j(e),st):j(e);return f(r,t,new e.constructor)}function Dr(t){var e=new t.constructor(t.source,je.exec(t));return e.lastIndex=t.lastIndex,e}function Ir(t,n,i){var r=n?i(V(t),st):V(t);return f(r,e,new t.constructor)}function Nr(t){return dh?ll(dh.call(t)):{}}function Fr(t,e){var n=e?Cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ur(t,e){if(t!==e){var n=t!==K,i=null===t,r=t===t,o=_u(t),a=e!==K,s=null===e,u=e===e,c=_u(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||i&&a&&u||!n&&u||!r)return 1;if(!i&&!o&&!c&&t<e||c&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!u)return-1}return 0}function kr(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var u=Ur(r[i],o[i]);if(u){if(i>=s)return u;var c=n[i];return u*("desc"==c?-1:1)}}return t.index-e.index}function zr(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,u=e.length,c=Yl(o-a,0),l=ol(u+c),h=!i;++s<u;)l[s]=e[s];for(;++r<a;)(h||r<o)&&(l[n[r]]=t[r]);for(;c--;)l[s++]=t[r++];return l}function Br(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,u=-1,c=e.length,l=Yl(o-s,0),h=ol(l+c),f=!i;++r<l;)h[r]=t[r];for(var p=r;++u<c;)h[p+u]=e[u];for(;++a<s;)(f||r<o)&&(h[p+n[a]]=t[r++]);return h}function jr(t,e){var n=-1,i=t.length;for(e||(e=ol(i));++n<i;)e[n]=t[n];return e}function Gr(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=i?i(n[s],t[s],s,n,t):K;u===K&&(u=t[s]),r?Bn(n,s,u):Dn(n,s,u)}return n}function Hr(t,e){return Gr(t,Ah(t),e)}function Vr(t,e){return Gr(t,Ph(t),e)}function Wr(t,e){return function(n,r){var o=xf(n)?i:Nn,a=e?e():{};return o(n,t,To(r,2),a)}}function Xr(t){return ar(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:K,a=r>2?n[2]:K;for(o=t.length>3&&"function"==typeof o?(r--,o):K,a&&Uo(n[0],n[1],a)&&(o=r<3?K:o,r=1),e=ll(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e})}function qr(t,e){return function(n,i){if(null==n)return n;if(!Zs(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=ll(n);(e?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function Yr(t){return function(e,n,i){for(var r=-1,o=ll(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(n(o[u],u,o)===!1)break}return e}}function Zr(t,e,n){function i(){var e=this&&this!==ni&&this instanceof i?o:t;
return e.apply(r?n:this,arguments)}var r=e&ft,o=Qr(t);return i}function $r(t){return function(e){e=Cu(e);var n=k(e)?Z(e):K,i=n?n[0]:e.charAt(0),r=n?Pr(n,1).join(""):e.slice(1);return i[t]()+r}}function Jr(t){return function(e){return f(Pc(uc(e).replace(kn,"")),t,"")}}function Qr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=gh(t.prototype),i=t.apply(n,e);return su(i)?i:n}}function Kr(t,e,i){function r(){for(var a=arguments.length,s=ol(a),u=a,c=wo(r);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:H(s,c);if(a-=l.length,a<i)return lo(t,e,no,r.placeholder,K,s,l,K,K,i-a);var h=this&&this!==ni&&this instanceof r?o:t;return n(h,this,s)}var o=Qr(t);return r}function to(t){return function(e,n,i){var r=ll(e);if(!Zs(e)){var o=To(n,3);e=Hu(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:K}}function eo(t){return yo(function(e){var n=e.length,i=n,r=J.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new pl(it);if(r&&!a&&"wrapper"==bo(o))var a=new J([],(!0))}for(i=a?i:n;++i<n;){o=e[i];var s=bo(o),u="wrapper"==s?Sh(o):K;a=u&&Bo(u[0])&&u[1]==(_t|mt|vt|xt)&&!u[4].length&&1==u[9]?a[bo(u[0])].apply(a,u[3]):1==o.length&&Bo(o)?a[s]():a.thru(o)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&xf(i)&&i.length>=et)return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function no(t,e,n,i,r,o,a,s,u,c){function l(){for(var v=arguments.length,y=ol(v),_=v;_--;)y[_]=arguments[_];if(d)var x=wo(l),b=N(y,x);if(i&&(y=zr(y,i,r,d)),o&&(y=Br(y,o,a,d)),v-=b,d&&v<c){var w=H(y,x);return lo(t,e,no,l.placeholder,n,y,w,s,u,c-v)}var T=f?n:this,M=p?T[t]:t;return v=y.length,s?y=Qo(y,s):m&&v>1&&y.reverse(),h&&u<v&&(y.length=u),this&&this!==ni&&this instanceof l&&(M=g||Qr(M)),M.apply(T,y)}var h=e&_t,f=e&ft,p=e&pt,d=e&(mt|gt),m=e&bt,g=p?K:Qr(t);return l}function io(t,e){return function(n,i){return Pi(n,t,e(i),{})}}function ro(t,e){return function(n,i){var r;if(n===K&&i===K)return e;if(n!==K&&(r=n),i!==K){if(r===K)return i;"string"==typeof n||"string"==typeof i?(n=vr(n),i=vr(i)):(n=gr(n),i=gr(i)),r=t(n,i)}return r}}function oo(t){return yo(function(e){return e=l(e,C(To())),ar(function(i){var r=this;return t(e,function(t){return n(t,r,i)})})})}function ao(t,e){e=e===K?" ":vr(e);var n=e.length;if(n<2)return n?or(e,t):e;var i=or(e,jl(t/Y(e)));return k(e)?Pr(Z(i),0,t).join(""):i.slice(0,t)}function so(t,e,i,r){function o(){for(var e=-1,u=arguments.length,c=-1,l=r.length,h=ol(l+u),f=this&&this!==ni&&this instanceof o?s:t;++c<l;)h[c]=r[c];for(;u--;)h[c++]=arguments[++e];return n(f,a?i:this,h)}var a=e&ft,s=Qr(t);return o}function uo(t){return function(e,n,i){return i&&"number"!=typeof i&&Uo(e,n,i)&&(n=i=K),e=Mu(e),n===K?(n=e,e=0):n=Mu(n),i=i===K?e<n?1:-1:Mu(i),rr(e,n,i,t)}}function co(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Au(e),n=Au(n)),t(e,n)}}function lo(t,e,n,i,r,o,a,s,u,c){var l=e&mt,h=l?a:K,f=l?K:a,p=l?o:K,d=l?K:o;e|=l?vt:yt,e&=~(l?yt:vt),e&dt||(e&=~(ft|pt));var m=[t,e,r,p,h,d,f,s,u,c],g=n.apply(K,m);return Bo(t)&&Lh(g,m),g.placeholder=i,Ko(g,t,e)}function ho(t){var e=cl[t];return function(t,n){if(t=Au(t),n=Zl(Eu(n),292)){var i=(Cu(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(Cu(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function fo(t){return function(e){var n=Rh(e);return n==Xt?j(e):n==Kt?W(e):R(e,t(e))}}function po(t,e,n,i,r,o,a,s){var u=e&pt;if(!u&&"function"!=typeof t)throw new pl(it);var c=i?i.length:0;if(c||(e&=~(vt|yt),i=r=K),a=a===K?a:Yl(Eu(a),0),s=s===K?s:Eu(s),c-=r?r.length:0,e&yt){var l=i,h=r;i=r=K}var f=u?K:Sh(t),p=[t,e,n,i,r,l,h,o,a,s];if(f&&Xo(p,f),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],s=p[9]=null==p[9]?u?0:t.length:Yl(p[9]-c,0),!s&&e&(mt|gt)&&(e&=~(mt|gt)),e&&e!=ft)d=e==mt||e==gt?Kr(t,e,s):e!=vt&&e!=(ft|vt)||r.length?no.apply(K,p):so(t,e,n,i);else var d=Zr(t,e,n);var m=f?bh:Lh;return Ko(m(d,p),t,e)}function mo(t,e,n,i,r,o){var a=n&lt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,h=!0,f=n&ht?new yn:K;for(o.set(t,e),o.set(e,t);++l<s;){var p=t[l],m=e[l];if(i)var g=a?i(m,p,l,e,t,o):i(p,m,l,t,e,o);if(g!==K){if(g)continue;h=!1;break}if(f){if(!d(e,function(t,e){if(!O(f,e)&&(p===t||r(p,t,n,i,o)))return f.push(e)})){h=!1;break}}else if(p!==m&&!r(p,m,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function go(t,e,n,i,r,o,a){switch(n){case ae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!o(new Pl(t),new Pl(e)));case Bt:case jt:case qt:return Ys(+t,+e);case Ht:return t.name==e.name&&t.message==e.message;case Qt:case te:return t==e+"";case Xt:var s=j;case Kt:var u=i&lt;if(s||(s=V),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;i|=ht,a.set(t,e);var l=mo(s(t),s(e),i,r,o,a);return a.delete(t),l;case ee:if(dh)return dh.call(t)==dh.call(e)}return!1}function vo(t,e,n,i,r,o){var a=n&lt,s=Hu(t),u=s.length,c=Hu(e),l=c.length;if(u!=l&&!a)return!1;for(var h=u;h--;){var f=s[h];if(!(a?f in e:_l.call(e,f)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=a;++h<u;){f=s[h];var g=t[f],v=e[f];if(i)var y=a?i(v,g,f,e,t,o):i(g,v,f,t,e,o);if(!(y===K?g===v||r(g,v,n,i,o):y)){d=!1;break}m||(m="constructor"==f)}if(d&&!m){var _=t.constructor,x=e.constructor;_!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(d=!1)}return o.delete(t),o.delete(e),d}function yo(t){return Dh($o(t,K,ga),t+"")}function _o(t){return bi(t,Hu,Ah)}function xo(t){return bi(t,Vu,Ph)}function bo(t){for(var e=t.name+"",n=sh[e],i=_l.call(sh,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function wo(t){var e=_l.call(X,"placeholder")?X:t;return e.placeholder}function To(){var t=X.iteratee||Ic;return t=t===Ic?ji:t,arguments.length?t(arguments[0],arguments[1]):t}function Mo(t,e){var n=t.__data__;return zo(e)?n["string"==typeof e?"string":"hash"]:n.map}function Eo(t){for(var e=Hu(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Ho(r)]}return e}function So(t,e){var n=U(t,e);return Ui(n)?n:K}function Ao(t){var e=_l.call(t,Fl),n=t[Fl];try{t[Fl]=K;var i=!0}catch(t){}var r=wl.call(t);return i&&(e?t[Fl]=n:delete t[Fl]),r}function Po(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Zl(e,t+a);break;case"takeRight":t=Yl(t,e-a)}}return{start:t,end:e}}function Ro(t){var e=t.match(Fe);return e?e[1].split(Ue):[]}function Co(t,e,n){e=Ar(e,t);for(var i=-1,r=e.length,o=!1;++i<r;){var a=na(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&au(r)&&Fo(a,r)&&(xf(t)||_f(t)))}function Lo(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&_l.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Oo(t){return"function"!=typeof t.constructor||Go(t)?{}:gh(Cl(t))}function Do(t,e,n,i){var r=t.constructor;switch(e){case oe:return Cr(t);case Bt:case jt:return new r((+t));case ae:return Lr(t,i);case se:case ue:case ce:case le:case he:case fe:case pe:case de:case me:return Fr(t,i);case Xt:return Or(t,i,n);case qt:case te:return new r(t);case Qt:return Dr(t);case Kt:return Ir(t,i,n);case ee:return Nr(t)}}function Io(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Ne,"{\n/* [wrapped with "+e+"] */\n")}function No(t){return xf(t)||_f(t)||!!(Il&&t&&t[Il])}function Fo(t,e){return e=null==e?Ct:e,!!e&&("number"==typeof t||Xe.test(t))&&t>-1&&t%1==0&&t<e}function Uo(t,e,n){if(!su(n))return!1;var i=typeof e;return!!("number"==i?Zs(n)&&Fo(e,n.length):"string"==i&&e in n)&&Ys(n[e],t)}function ko(t,e){if(xf(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!_u(t))||(Ae.test(t)||!Se.test(t)||null!=e&&t in ll(e))}function zo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Bo(t){var e=bo(t),n=X[e];if("function"!=typeof n||!(e in ke.prototype))return!1;if(t===n)return!0;var i=Sh(n);return!!i&&t===i[0]}function jo(t){return!!bl&&bl in t}function Go(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||gl;return t===n}function Ho(t){return t===t&&!su(t)}function Vo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==K||t in ll(n)))}}function Wo(t){var e=Is(t,function(t){return n.size===ot&&n.clear(),t}),n=e.cache;return e}function Xo(t,e){var n=t[1],i=e[1],r=n|i,o=r<(ft|pt|_t),a=i==_t&&n==mt||i==_t&&n==xt&&t[7].length<=e[8]||i==(_t|xt)&&e[7].length<=e[8]&&n==mt;if(!o&&!a)return t;i&ft&&(t[2]=e[2],r|=n&ft?0:dt);var s=e[3];if(s){var u=t[3];t[3]=u?zr(u,s,e[4]):s,t[4]=u?H(t[3],at):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?Br(u,s,e[6]):s,t[6]=u?H(t[5],at):e[6]),s=e[7],s&&(t[7]=s),i&_t&&(t[8]=null==t[8]?e[8]:Zl(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function qo(t,e,n,i,r,o){return su(t)&&su(e)&&(o.set(e,t),Yi(t,e,K,qo,o),o.delete(e)),t}function Yo(t){var e=[];if(null!=t)for(var n in ll(t))e.push(n);return e}function Zo(t){return wl.call(t)}function $o(t,e,i){return e=Yl(e===K?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Yl(r.length-e,0),s=ol(a);++o<a;)s[o]=r[e+o];o=-1;for(var u=ol(e+1);++o<e;)u[o]=r[o];return u[e]=i(s),n(t,this,u)}}function Jo(t,e){return e.length<2?t:xi(t,hr(e,0,-1))}function Qo(t,e){for(var n=t.length,i=Zl(e.length,n),r=jr(t);i--;){var o=e[i];t[i]=Fo(o,n)?r[o]:K}return t}function Ko(t,e,n){var i=e+"";return Dh(t,Io(i,ra(Ro(i),n)))}function ta(t){var e=0,n=0;return function(){var i=$l(),r=Et-(i-n);if(n=i,r>0){if(++e>=Mt)return arguments[0]}else e=0;return t.apply(K,arguments)}}function ea(t,e){var n=-1,i=t.length,r=i-1;for(e=e===K?i:e;++n<e;){var o=ir(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function na(t){if("string"==typeof t||_u(t))return t;var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function ia(t){if(null!=t){try{return yl.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ra(t,e){return r(Ft,function(n){var i="_."+n[0];e&n[1]&&!u(t,i)&&t.push(i)}),t.sort()}function oa(t){if(t instanceof ke)return t.clone();var e=new J(t.__wrapped__,t.__chain__);return e.__actions__=jr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function aa(t,e,n){e=(n?Uo(t,e,n):e===K)?1:Yl(Eu(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,a=ol(jl(i/e));r<i;)a[o++]=hr(t,r,r+=e);return a}function sa(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function ua(){var t=arguments.length;if(!t)return[];for(var e=ol(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return h(xf(n)?jr(n):[n],ai(e,1))}function ca(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===K?1:Eu(e),hr(t,e<0?0:e,i)):[]}function la(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===K?1:Eu(e),e=i-e,hr(t,0,e<0?0:e)):[]}function ha(t,e){return t&&t.length?br(t,To(e,3),!0,!0):[]}function fa(t,e){return t&&t.length?br(t,To(e,3),!0):[]}function pa(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Uo(t,e,n)&&(n=0,i=r),ii(t,e,n,i)):[]}function da(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Eu(n);return r<0&&(r=Yl(i+r,0)),y(t,To(e,3),r)}function ma(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==K&&(r=Eu(n),r=n<0?Yl(i+r,0):Zl(r,i-1)),y(t,To(e,3),r,!0)}function ga(t){var e=null==t?0:t.length;return e?ai(t,1):[]}function va(t){var e=null==t?0:t.length;return e?ai(t,Rt):[]}function ya(t,e){var n=null==t?0:t.length;return n?(e=e===K?1:Eu(e),ai(t,e)):[]}function _a(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function xa(t){return t&&t.length?t[0]:K}function ba(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Eu(n);return r<0&&(r=Yl(i+r,0)),_(t,e,r)}function wa(t){var e=null==t?0:t.length;return e?hr(t,0,-1):[]}function Ta(t,e){return null==t?"":Xl.call(t,e)}function Ma(t){var e=null==t?0:t.length;return e?t[e-1]:K}function Ea(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==K&&(r=Eu(n),r=r<0?Yl(i+r,0):Zl(r,i-1)),e===e?q(t,e,r):y(t,b,r,!0)}function Sa(t,e){return t&&t.length?$i(t,Eu(e)):K}function Aa(t,e){return t&&t.length&&e&&e.length?er(t,e):t}function Pa(t,e,n){return t&&t.length&&e&&e.length?er(t,e,To(n,2)):t}function Ra(t,e,n){return t&&t.length&&e&&e.length?er(t,e,K,n):t}function Ca(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=To(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return nr(t,r),n}function La(t){return null==t?t:Kl.call(t)}function Oa(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Uo(t,e,n)?(e=0,n=i):(e=null==e?0:Eu(e),n=n===K?i:Eu(n)),hr(t,e,n)):[]}function Da(t,e){return pr(t,e)}function Ia(t,e,n){return dr(t,e,To(n,2))}function Na(t,e){var n=null==t?0:t.length;if(n){var i=pr(t,e);if(i<n&&Ys(t[i],e))return i}return-1}function Fa(t,e){return pr(t,e,!0)}function Ua(t,e,n){return dr(t,e,To(n,2),!0)}function ka(t,e){var n=null==t?0:t.length;if(n){var i=pr(t,e,!0)-1;if(Ys(t[i],e))return i}return-1}function za(t){return t&&t.length?mr(t):[]}function Ba(t,e){return t&&t.length?mr(t,To(e,2)):[]}function ja(t){var e=null==t?0:t.length;return e?hr(t,1,e):[]}function Ga(t,e,n){return t&&t.length?(e=n||e===K?1:Eu(e),hr(t,0,e<0?0:e)):[]}function Ha(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===K?1:Eu(e),e=i-e,hr(t,e<0?0:e,i)):[]}function Va(t,e){return t&&t.length?br(t,To(e,3),!1,!0):[]}function Wa(t,e){return t&&t.length?br(t,To(e,3)):[]}function Xa(t){return t&&t.length?yr(t):[]}function qa(t,e){return t&&t.length?yr(t,To(e,2)):[]}function Ya(t,e){return e="function"==typeof e?e:K,t&&t.length?yr(t,K,e):[]}function Za(t){if(!t||!t.length)return[];var e=0;return t=s(t,function(t){if($s(t))return e=Yl(t.length,e),!0}),P(e,function(e){return l(t,T(e))})}function $a(t,e){if(!t||!t.length)return[];var i=Za(t);return null==e?i:l(i,function(t){return n(e,K,t)})}function Ja(t,e){return Mr(t||[],e||[],Dn)}function Qa(t,e){return Mr(t||[],e||[],cr)}function Ka(t){var e=X(t);return e.__chain__=!0,e}function ts(t,e){return e(t),t}function es(t,e){return e(t)}function ns(){return Ka(this)}function is(){return new J(this.value(),this.__chain__)}function rs(){this.__values__===K&&(this.__values__=Tu(this.value()));var t=this.__index__>=this.__values__.length,e=t?K:this.__values__[this.__index__++];return{done:t,value:e}}function os(){return this}function as(t){for(var e,n=this;n instanceof $;){var i=oa(n);i.__index__=0,i.__values__=K,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function ss(){var t=this.__wrapped__;if(t instanceof ke){var e=t;return this.__actions__.length&&(e=new ke(this)),e=e.reverse(),e.__actions__.push({func:es,args:[La],thisArg:K}),new J(e,this.__chain__)}return this.thru(La)}function us(){return wr(this.__wrapped__,this.__actions__)}function cs(t,e,n){var i=xf(t)?a:ti;return n&&Uo(t,e,n)&&(e=K),i(t,To(e,3))}function ls(t,e){var n=xf(t)?s:ri;return n(t,To(e,3))}function hs(t,e){return ai(vs(t,e),1)}function fs(t,e){return ai(vs(t,e),Rt)}function ps(t,e,n){return n=n===K?1:Eu(n),ai(vs(t,e),n)}function ds(t,e){var n=xf(t)?r:vh;return n(t,To(e,3))}function ms(t,e){var n=xf(t)?o:yh;return n(t,To(e,3))}function gs(t,e,n,i){t=Zs(t)?t:nc(t),n=n&&!i?Eu(n):0;var r=t.length;return n<0&&(n=Yl(r+n,0)),yu(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&_(t,e,n)>-1}function vs(t,e){var n=xf(t)?l:Wi;return n(t,To(e,3))}function ys(t,e,n,i){return null==t?[]:(xf(e)||(e=null==e?[]:[e]),n=i?K:n,xf(n)||(n=null==n?[]:[n]),Ji(t,e,n))}function _s(t,e,n){var i=xf(t)?f:E,r=arguments.length<3;return i(t,To(e,4),n,r,vh)}function xs(t,e,n){var i=xf(t)?p:E,r=arguments.length<3;return i(t,To(e,4),n,r,yh)}function bs(t,e){var n=xf(t)?s:ri;return n(t,Ns(To(e,3)))}function ws(t){var e=xf(t)?Pn:sr;return e(t)}function Ts(t,e,n){e=(n?Uo(t,e,n):e===K)?1:Eu(e);var i=xf(t)?Rn:ur;return i(t,e)}function Ms(t){var e=xf(t)?Cn:lr;return e(t)}function Es(t){if(null==t)return 0;if(Zs(t))return yu(t)?Y(t):t.length;var e=Rh(t);return e==Xt||e==Kt?t.size:Gi(t).length}function Ss(t,e,n){var i=xf(t)?d:fr;return n&&Uo(t,e,n)&&(e=K),i(t,To(e,3))}function As(t,e){if("function"!=typeof e)throw new pl(it);return t=Eu(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ps(t,e,n){return e=n?K:e,e=t&&null==e?t.length:e,po(t,_t,K,K,K,K,e)}function Rs(t,e){var n;if("function"!=typeof e)throw new pl(it);return t=Eu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=K),n}}function Cs(t,e,n){e=n?K:e;var i=po(t,mt,K,K,K,K,K,e);return i.placeholder=Cs.placeholder,i}function Ls(t,e,n){e=n?K:e;var i=po(t,gt,K,K,K,K,K,e);return i.placeholder=Ls.placeholder,i}function Os(t,e,n){function i(e){var n=f,i=p;return f=p=K,y=e,m=t.apply(i,n)}function r(t){return y=t,g=Oh(s,e),_?i(t):m}function o(t){var n=t-v,i=t-y,r=e-n;return x?Zl(r,d-i):r}function a(t){var n=t-v,i=t-y;return v===K||n>=e||n<0||x&&i>=d}function s(){var t=uf();return a(t)?u(t):void(g=Oh(s,o(t)))}function u(t){return g=K,b&&f?i(t):(f=p=K,m)}function c(){g!==K&&Mh(g),y=0,f=v=p=g=K}function l(){return g===K?m:u(uf())}function h(){var t=uf(),n=a(t);if(f=arguments,p=this,v=t,n){if(g===K)return r(v);if(x)return g=Oh(s,e),i(v)}return g===K&&(g=Oh(s,e)),m}var f,p,d,m,g,v,y=0,_=!1,x=!1,b=!0;if("function"!=typeof t)throw new pl(it);return e=Au(e)||0,su(n)&&(_=!!n.leading,x="maxWait"in n,d=x?Yl(Au(n.maxWait)||0,e):d,b="trailing"in n?!!n.trailing:b),h.cancel=c,h.flush=l,h}function Ds(t){return po(t,bt)}function Is(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new pl(it);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Is.Cache||fn),n}function Ns(t){if("function"!=typeof t)throw new pl(it);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Fs(t){return Rs(2,t)}function Us(t,e){if("function"!=typeof t)throw new pl(it);return e=e===K?e:Eu(e),ar(t,e)}function ks(t,e){if("function"!=typeof t)throw new pl(it);return e=e===K?0:Yl(Eu(e),0),ar(function(i){var r=i[e],o=Pr(i,0,e);return r&&h(o,r),n(t,this,o)})}function zs(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new pl(it);return su(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Os(t,e,{leading:i,maxWait:e,trailing:r})}function Bs(t){return Ps(t,1)}function js(t,e){return df(Sr(e),t)}function Gs(){if(!arguments.length)return[];var t=arguments[0];return xf(t)?t:[t]}function Hs(t){return Hn(t,ct)}function Vs(t,e){return e="function"==typeof e?e:K,Hn(t,ct,e)}function Ws(t){return Hn(t,st|ct)}function Xs(t,e){return e="function"==typeof e?e:K,Hn(t,st|ct,e)}function qs(t,e){return null==e||Zn(t,e,Hu(e))}function Ys(t,e){return t===e||t!==t&&e!==e}function Zs(t){return null!=t&&au(t.length)&&!ru(t)}function $s(t){return uu(t)&&Zs(t)}function Js(t){return t===!0||t===!1||uu(t)&&wi(t)==Bt}function Qs(t){return uu(t)&&1===t.nodeType&&!gu(t)}function Ks(t){if(null==t)return!0;if(Zs(t)&&(xf(t)||"string"==typeof t||"function"==typeof t.splice||wf(t)||Af(t)||_f(t)))return!t.length;var e=Rh(t);if(e==Xt||e==Kt)return!t.size;if(Go(t))return!Gi(t).length;for(var n in t)if(_l.call(t,n))return!1;return!0}function tu(t,e){return Di(t,e)}function eu(t,e,n){n="function"==typeof n?n:K;var i=n?n(t,e):K;return i===K?Di(t,e,K,n):!!i}function nu(t){if(!uu(t))return!1;var e=wi(t);return e==Ht||e==Gt||"string"==typeof t.message&&"string"==typeof t.name&&!gu(t)}function iu(t){return"number"==typeof t&&Wl(t)}function ru(t){if(!su(t))return!1;var e=wi(t);return e==Vt||e==Wt||e==zt||e==Jt}function ou(t){return"number"==typeof t&&t==Eu(t)}function au(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ct}function su(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function uu(t){return null!=t&&"object"==typeof t}function cu(t,e){return t===e||Fi(t,e,Eo(e))}function lu(t,e,n){return n="function"==typeof n?n:K,Fi(t,e,Eo(e),n)}function hu(t){return mu(t)&&t!=+t}function fu(t){if(Ch(t))throw new sl(nt);return Ui(t)}function pu(t){return null===t}function du(t){return null==t}function mu(t){return"number"==typeof t||uu(t)&&wi(t)==qt}function gu(t){if(!uu(t)||wi(t)!=Zt)return!1;var e=Cl(t);if(null===e)return!0;var n=_l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&yl.call(n)==Tl}function vu(t){return ou(t)&&t>=-Ct&&t<=Ct}function yu(t){return"string"==typeof t||!xf(t)&&uu(t)&&wi(t)==te}function _u(t){return"symbol"==typeof t||uu(t)&&wi(t)==ee}function xu(t){return t===K}function bu(t){return uu(t)&&Rh(t)==ie}function wu(t){return uu(t)&&wi(t)==re}function Tu(t){if(!t)return[];if(Zs(t))return yu(t)?Z(t):jr(t);if(Nl&&t[Nl])return B(t[Nl]());var e=Rh(t),n=e==Xt?j:e==Kt?V:nc;return n(t)}function Mu(t){if(!t)return 0===t?t:0;if(t=Au(t),t===Rt||t===-Rt){var e=t<0?-1:1;return e*Lt}return t===t?t:0}function Eu(t){var e=Mu(t),n=e%1;return e===e?n?e-n:e:0}function Su(t){return t?Gn(Eu(t),0,Dt):0}function Au(t){if("number"==typeof t)return t;if(_u(t))return Ot;if(su(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=su(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Oe,"");var n=He.test(t);return n||We.test(t)?Kn(t.slice(2),n?2:8):Ge.test(t)?Ot:+t}function Pu(t){return Gr(t,Vu(t))}function Ru(t){return Gn(Eu(t),-Ct,Ct)}function Cu(t){return null==t?"":vr(t)}function Lu(t,e){var n=gh(t);return null==e?n:Fn(n,e)}function Ou(t,e){return v(t,To(e,3),si)}function Du(t,e){return v(t,To(e,3),di)}function Iu(t,e){return null==t?t:_h(t,To(e,3),Vu)}function Nu(t,e){return null==t?t:xh(t,To(e,3),Vu)}function Fu(t,e){return t&&si(t,To(e,3))}function Uu(t,e){return t&&di(t,To(e,3))}function ku(t){return null==t?[]:yi(t,Hu(t))}function zu(t){return null==t?[]:yi(t,Vu(t))}function Bu(t,e,n){var i=null==t?K:xi(t,e);return i===K?n:i}function ju(t,e){return null!=t&&Co(t,e,Mi)}function Gu(t,e){return null!=t&&Co(t,e,Ei)}function Hu(t){return Zs(t)?An(t):Gi(t)}function Vu(t){return Zs(t)?An(t,!0):Hi(t)}function Wu(t,e){var n={};return e=To(e,3),si(t,function(t,i,r){Bn(n,e(t,i,r),t)}),n}function Xu(t,e){var n={};return e=To(e,3),si(t,function(t,i,r){Bn(n,i,e(t,i,r))}),n}function qu(t,e){return Yu(t,Ns(To(e)))}function Yu(t,e){if(null==t)return{};var n=l(xo(t),function(t){return[t]});return e=To(e),Ki(t,n,function(t,n){return e(t,n[0])})}function Zu(t,e,n){e=Ar(e,t);var i=-1,r=e.length;for(r||(r=1,t=K);++i<r;){var o=null==t?K:t[na(e[i])];o===K&&(i=r,o=n),t=ru(o)?o.call(t):o}return t}function $u(t,e,n){return null==t?t:cr(t,e,n)}function Ju(t,e,n,i){return i="function"==typeof i?i:K,null==t?t:cr(t,e,n,i)}function Qu(t,e,n){var i=xf(t),o=i||wf(t)||Af(t);if(e=To(e,4),null==n){var a=t&&t.constructor;n=o?i?new a:[]:su(t)&&ru(a)?gh(Cl(t)):{}}return(o?r:si)(t,function(t,i,r){return e(n,t,i,r)}),n}function Ku(t,e){return null==t||_r(t,e)}function tc(t,e,n){return null==t?t:xr(t,e,Sr(n))}function ec(t,e,n,i){return i="function"==typeof i?i:K,null==t?t:xr(t,e,Sr(n),i)}function nc(t){return null==t?[]:L(t,Hu(t))}function ic(t){return null==t?[]:L(t,Vu(t))}function rc(t,e,n){return n===K&&(n=e,e=K),n!==K&&(n=Au(n),n=n===n?n:0),e!==K&&(e=Au(e),e=e===e?e:0),Gn(Au(t),e,n)}function oc(t,e,n){return e=Mu(e),n===K?(n=e,e=0):n=Mu(n),t=Au(t),Si(t,e,n)}function ac(t,e,n){if(n&&"boolean"!=typeof n&&Uo(t,e,n)&&(e=n=K),n===K&&("boolean"==typeof e?(n=e,e=K):"boolean"==typeof t&&(n=t,t=K)),t===K&&e===K?(t=0,e=1):(t=Mu(t),e===K?(e=t,t=0):e=Mu(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Ql();return Zl(t+r*(e-t+Qn("1e-"+((r+"").length-1))),e)}return ir(t,e)}function sc(t){return Kf(Cu(t).toLowerCase())}function uc(t){return t=Cu(t),t&&t.replace(qe,mi).replace(zn,"")}function cc(t,e,n){t=Cu(t),e=vr(e);var i=t.length;n=n===K?i:Gn(Eu(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function lc(t){return t=Cu(t),t&&we.test(t)?t.replace(xe,gi):t}function hc(t){return t=Cu(t),t&&Le.test(t)?t.replace(Ce,"\\$&"):t}function fc(t,e,n){t=Cu(t),e=Eu(e);var i=e?Y(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return ao(Gl(r),n)+t+ao(jl(r),n)}function pc(t,e,n){t=Cu(t),e=Eu(e);var i=e?Y(t):0;return e&&i<e?t+ao(e-i,n):t}function dc(t,e,n){t=Cu(t),e=Eu(e);var i=e?Y(t):0;return e&&i<e?ao(e-i,n)+t:t}function mc(t,e,n){return n||null==e?e=0:e&&(e=+e),Jl(Cu(t).replace(De,""),e||0)}function gc(t,e,n){return e=(n?Uo(t,e,n):e===K)?1:Eu(e),or(Cu(t),e)}function vc(){var t=arguments,e=Cu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function yc(t,e,n){return n&&"number"!=typeof n&&Uo(t,e,n)&&(e=n=K),(n=n===K?Dt:n>>>0)?(t=Cu(t),t&&("string"==typeof e||null!=e&&!Ef(e))&&(e=vr(e),!e&&k(t))?Pr(Z(t),0,n):t.split(e,n)):[]}function _c(t,e,n){return t=Cu(t),n=Gn(Eu(n),0,t.length),e=vr(e),t.slice(n,n+e.length)==e}function xc(t,e,n){var i=X.templateSettings;n&&Uo(t,e,n)&&(e=K),t=Cu(t),e=Of({},e,i,Ln);var r,o,a=Of({},e.imports,i.imports,Ln),s=Hu(a),u=L(a,s),c=0,l=e.interpolate||Ye,h="__p += '",f=hl((e.escape||Ye).source+"|"+l.source+"|"+(l===Ee?Be:Ye).source+"|"+(e.evaluate||Ye).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Wn+"]")+"\n";t.replace(f,function(e,n,i,a,s,u){return i||(i=a),h+=t.slice(c,u).replace(Ze,F),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),h+="';\n";var d=e.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(ge,""):h).replace(ve,"$1").replace(ye,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=tp(function(){return ul(s,p+"return "+h).apply(K,u)});if(m.source=h,nu(m))throw m;return m}function bc(t){return Cu(t).toLowerCase()}function wc(t){return Cu(t).toUpperCase()}function Tc(t,e,n){if(t=Cu(t),t&&(n||e===K))return t.replace(Oe,"");if(!t||!(e=vr(e)))return t;var i=Z(t),r=Z(e),o=D(i,r),a=I(i,r)+1;return Pr(i,o,a).join("")}function Mc(t,e,n){if(t=Cu(t),t&&(n||e===K))return t.replace(Ie,"");if(!t||!(e=vr(e)))return t;var i=Z(t),r=I(i,Z(e))+1;return Pr(i,0,r).join("")}function Ec(t,e,n){if(t=Cu(t),t&&(n||e===K))return t.replace(De,"");if(!t||!(e=vr(e)))return t;var i=Z(t),r=D(i,Z(e));return Pr(i,r).join("")}function Sc(t,e){var n=wt,i=Tt;if(su(e)){var r="separator"in e?e.separator:r;n="length"in e?Eu(e.length):n,i="omission"in e?vr(e.omission):i}t=Cu(t);var o=t.length;if(k(t)){var a=Z(t);o=a.length}if(n>=o)return t;var s=n-Y(i);if(s<1)return i;var u=a?Pr(a,0,s).join(""):t.slice(0,s);if(r===K)return u+i;if(a&&(s+=u.length-s),Ef(r)){if(t.slice(s).search(r)){var c,l=u;for(r.global||(r=hl(r.source,Cu(je.exec(r))+"g")),r.lastIndex=0;c=r.exec(l);)var h=c.index;u=u.slice(0,h===K?s:h)}}else if(t.indexOf(vr(r),s)!=s){var f=u.lastIndexOf(r);f>-1&&(u=u.slice(0,f))}return u+i}function Ac(t){return t=Cu(t),t&&be.test(t)?t.replace(_e,vi):t}function Pc(t,e,n){return t=Cu(t),e=n?K:e,e===K?z(t)?Q(t):g(t):t.match(e)||[]}function Rc(t){var e=null==t?0:t.length,i=To();return t=e?l(t,function(t){if("function"!=typeof t[1])throw new pl(it);return[i(t[0]),t[1]]}):[],ar(function(i){for(var r=-1;++r<e;){var o=t[r];if(n(o[0],this,i))return n(o[1],this,i)}})}function Cc(t){return Yn(Hn(t,st))}function Lc(t){return function(){return t}}function Oc(t,e){return null==t||t!==t?e:t}function Dc(t){return t}function Ic(t){return ji("function"==typeof t?t:Hn(t,st))}function Nc(t){return Xi(Hn(t,st))}function Fc(t,e){return qi(t,Hn(e,st))}function Uc(t,e,n){var i=Hu(e),o=yi(e,i);null!=n||su(e)&&(o.length||!i.length)||(n=e,e=t,t=this,o=yi(e,Hu(e)));var a=!(su(n)&&"chain"in n&&!n.chain),s=ru(t);return r(o,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),r=n.__actions__=jr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,h([this.value()],arguments))})}),t}function kc(){return ni._===this&&(ni._=Ml),this}function zc(){}function Bc(t){return t=Eu(t),ar(function(e){return $i(e,t)})}function jc(t){return ko(t)?T(na(t)):tr(t)}function Gc(t){return function(e){return null==t?K:xi(t,e)}}function Hc(){return[]}function Vc(){return!1}function Wc(){return{}}function Xc(){return""}function qc(){return!0}function Yc(t,e){if(t=Eu(t),t<1||t>Ct)return[];var n=Dt,i=Zl(t,Dt);e=To(e),t-=Dt;for(var r=P(i,e);++n<t;)e(n);return r}function Zc(t){return xf(t)?l(t,na):_u(t)?[t]:jr(Ih(Cu(t)))}function $c(t){var e=++xl;return Cu(t)+e}function Jc(t){return t&&t.length?ei(t,Dc,Ti):K}function Qc(t,e){return t&&t.length?ei(t,To(e,2),Ti):K}function Kc(t){return w(t,Dc)}function tl(t,e){return w(t,To(e,2))}function el(t){return t&&t.length?ei(t,Dc,Vi):K}function nl(t,e){return t&&t.length?ei(t,To(e,2),Vi):K}function il(t){return t&&t.length?A(t,Dc):0}function rl(t,e){return t&&t.length?A(t,To(e,2)):0}M=null==M?ni:_i.defaults(ni.Object(),M,_i.pick(ni,Vn));var ol=M.Array,al=M.Date,sl=M.Error,ul=M.Function,cl=M.Math,ll=M.Object,hl=M.RegExp,fl=M.String,pl=M.TypeError,dl=ol.prototype,ml=ul.prototype,gl=ll.prototype,vl=M["__core-js_shared__"],yl=ml.toString,_l=gl.hasOwnProperty,xl=0,bl=function(){var t=/[^.]+$/.exec(vl&&vl.keys&&vl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),wl=gl.toString,Tl=yl.call(ll),Ml=ni._,El=hl("^"+yl.call(_l).replace(Ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sl=oi?M.Buffer:K,Al=M.Symbol,Pl=M.Uint8Array,Rl=Sl?Sl.allocUnsafe:K,Cl=G(ll.getPrototypeOf,ll),Ll=ll.create,Ol=gl.propertyIsEnumerable,Dl=dl.splice,Il=Al?Al.isConcatSpreadable:K,Nl=Al?Al.iterator:K,Fl=Al?Al.toStringTag:K,Ul=function(){try{var t=So(ll,"defineProperty");return t({},"",{}),t}catch(t){}}(),kl=M.clearTimeout!==ni.clearTimeout&&M.clearTimeout,zl=al&&al.now!==ni.Date.now&&al.now,Bl=M.setTimeout!==ni.setTimeout&&M.setTimeout,jl=cl.ceil,Gl=cl.floor,Hl=ll.getOwnPropertySymbols,Vl=Sl?Sl.isBuffer:K,Wl=M.isFinite,Xl=dl.join,ql=G(ll.keys,ll),Yl=cl.max,Zl=cl.min,$l=al.now,Jl=M.parseInt,Ql=cl.random,Kl=dl.reverse,th=So(M,"DataView"),eh=So(M,"Map"),nh=So(M,"Promise"),ih=So(M,"Set"),rh=So(M,"WeakMap"),oh=So(ll,"create"),ah=rh&&new rh,sh={},uh=ia(th),ch=ia(eh),lh=ia(nh),hh=ia(ih),fh=ia(rh),ph=Al?Al.prototype:K,dh=ph?ph.valueOf:K,mh=ph?ph.toString:K,gh=function(){function t(){}return function(e){if(!su(e))return{};if(Ll)return Ll(e);t.prototype=e;var n=new t;return t.prototype=K,n}}();X.templateSettings={escape:Te,evaluate:Me,interpolate:Ee,variable:"",imports:{_:X}},X.prototype=$.prototype,X.prototype.constructor=X,J.prototype=gh($.prototype),J.prototype.constructor=J,ke.prototype=gh($.prototype),ke.prototype.constructor=ke,Ke.prototype.clear=tn,Ke.prototype.delete=en,Ke.prototype.get=nn,Ke.prototype.has=rn,Ke.prototype.set=on,an.prototype.clear=sn,an.prototype.delete=un,an.prototype.get=cn,an.prototype.has=ln,an.prototype.set=hn,fn.prototype.clear=pn,fn.prototype.delete=dn,fn.prototype.get=mn,fn.prototype.has=gn,fn.prototype.set=vn,yn.prototype.add=yn.prototype.push=_n,yn.prototype.has=xn,bn.prototype.clear=wn,bn.prototype.delete=Tn,bn.prototype.get=Mn,bn.prototype.has=En,bn.prototype.set=Sn;var vh=qr(si),yh=qr(di,!0),_h=Yr(),xh=Yr(!0),bh=ah?function(t,e){return ah.set(t,e),t}:Dc,wh=Ul?function(t,e){return Ul(t,"toString",{configurable:!0,enumerable:!1,value:Lc(e),writable:!0})}:Dc,Th=ar,Mh=kl||function(t){return ni.clearTimeout(t)},Eh=ih&&1/V(new ih([,-0]))[1]==Rt?function(t){return new ih(t)}:zc,Sh=ah?function(t){return ah.get(t)}:zc,Ah=Hl?G(Hl,ll):Hc,Ph=Hl?function(t){
for(var e=[];t;)h(e,Ah(t)),t=Cl(t);return e}:Hc,Rh=wi;(th&&Rh(new th(new ArrayBuffer(1)))!=ae||eh&&Rh(new eh)!=Xt||nh&&Rh(nh.resolve())!=$t||ih&&Rh(new ih)!=Kt||rh&&Rh(new rh)!=ie)&&(Rh=function(t){var e=wi(t),n=e==Zt?t.constructor:K,i=n?ia(n):"";if(i)switch(i){case uh:return ae;case ch:return Xt;case lh:return $t;case hh:return Kt;case fh:return ie}return e});var Ch=vl?ru:Vc,Lh=ta(bh),Oh=Bl||function(t,e){return ni.setTimeout(t,e)},Dh=ta(wh),Ih=Wo(function(t){var e=[];return Pe.test(t)&&e.push(""),t.replace(Re,function(t,n,i,r){e.push(i?r.replace(ze,"$1"):n||t)}),e}),Nh=ar(function(t,e){return $s(t)?Jn(t,ai(e,1,$s,!0)):[]}),Fh=ar(function(t,e){var n=Ma(e);return $s(n)&&(n=K),$s(t)?Jn(t,ai(e,1,$s,!0),To(n,2)):[]}),Uh=ar(function(t,e){var n=Ma(e);return $s(n)&&(n=K),$s(t)?Jn(t,ai(e,1,$s,!0),K,n):[]}),kh=ar(function(t){var e=l(t,Er);return e.length&&e[0]===t[0]?Ai(e):[]}),zh=ar(function(t){var e=Ma(t),n=l(t,Er);return e===Ma(n)?e=K:n.pop(),n.length&&n[0]===t[0]?Ai(n,To(e,2)):[]}),Bh=ar(function(t){var e=Ma(t),n=l(t,Er);return e="function"==typeof e?e:K,e&&n.pop(),n.length&&n[0]===t[0]?Ai(n,K,e):[]}),jh=ar(Aa),Gh=yo(function(t,e){var n=null==t?0:t.length,i=jn(t,e);return nr(t,l(e,function(t){return Fo(t,n)?+t:t}).sort(Ur)),i}),Hh=ar(function(t){return yr(ai(t,1,$s,!0))}),Vh=ar(function(t){var e=Ma(t);return $s(e)&&(e=K),yr(ai(t,1,$s,!0),To(e,2))}),Wh=ar(function(t){var e=Ma(t);return e="function"==typeof e?e:K,yr(ai(t,1,$s,!0),K,e)}),Xh=ar(function(t,e){return $s(t)?Jn(t,e):[]}),qh=ar(function(t){return Tr(s(t,$s))}),Yh=ar(function(t){var e=Ma(t);return $s(e)&&(e=K),Tr(s(t,$s),To(e,2))}),Zh=ar(function(t){var e=Ma(t);return e="function"==typeof e?e:K,Tr(s(t,$s),K,e)}),$h=ar(Za),Jh=ar(function(t){var e=t.length,n=e>1?t[e-1]:K;return n="function"==typeof n?(t.pop(),n):K,$a(t,n)}),Qh=yo(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return jn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof ke&&Fo(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:es,args:[r],thisArg:K}),new J(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(K),t})):this.thru(r)}),Kh=Wr(function(t,e,n){_l.call(t,n)?++t[n]:Bn(t,n,1)}),tf=to(da),ef=to(ma),nf=Wr(function(t,e,n){_l.call(t,n)?t[n].push(e):Bn(t,n,[e])}),rf=ar(function(t,e,i){var r=-1,o="function"==typeof e,a=Zs(t)?ol(t.length):[];return vh(t,function(t){a[++r]=o?n(e,t,i):Ri(t,e,i)}),a}),of=Wr(function(t,e,n){Bn(t,n,e)}),af=Wr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),sf=ar(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Uo(t,e[0],e[1])?e=[]:n>2&&Uo(e[0],e[1],e[2])&&(e=[e[0]]),Ji(t,ai(e,1),[])}),uf=zl||function(){return ni.Date.now()},cf=ar(function(t,e,n){var i=ft;if(n.length){var r=H(n,wo(cf));i|=vt}return po(t,i,e,n,r)}),lf=ar(function(t,e,n){var i=ft|pt;if(n.length){var r=H(n,wo(lf));i|=vt}return po(e,i,t,n,r)}),hf=ar(function(t,e){return $n(t,1,e)}),ff=ar(function(t,e,n){return $n(t,Au(e)||0,n)});Is.Cache=fn;var pf=Th(function(t,e){e=1==e.length&&xf(e[0])?l(e[0],C(To())):l(ai(e,1),C(To()));var i=e.length;return ar(function(r){for(var o=-1,a=Zl(r.length,i);++o<a;)r[o]=e[o].call(this,r[o]);return n(t,this,r)})}),df=ar(function(t,e){var n=H(e,wo(df));return po(t,vt,K,e,n)}),mf=ar(function(t,e){var n=H(e,wo(mf));return po(t,yt,K,e,n)}),gf=yo(function(t,e){return po(t,xt,K,K,K,e)}),vf=co(Ti),yf=co(function(t,e){return t>=e}),_f=Ci(function(){return arguments}())?Ci:function(t){return uu(t)&&_l.call(t,"callee")&&!Ol.call(t,"callee")},xf=ol.isArray,bf=ui?C(ui):Li,wf=Vl||Vc,Tf=ci?C(ci):Oi,Mf=li?C(li):Ni,Ef=hi?C(hi):ki,Sf=fi?C(fi):zi,Af=pi?C(pi):Bi,Pf=co(Vi),Rf=co(function(t,e){return t<=e}),Cf=Xr(function(t,e){if(Go(e)||Zs(e))return void Gr(e,Hu(e),t);for(var n in e)_l.call(e,n)&&Dn(t,n,e[n])}),Lf=Xr(function(t,e){Gr(e,Vu(e),t)}),Of=Xr(function(t,e,n,i){Gr(e,Vu(e),t,i)}),Df=Xr(function(t,e,n,i){Gr(e,Hu(e),t,i)}),If=yo(jn),Nf=ar(function(t){return t.push(K,Ln),n(Of,K,t)}),Ff=ar(function(t){return t.push(K,qo),n(jf,K,t)}),Uf=io(function(t,e,n){t[e]=n},Lc(Dc)),kf=io(function(t,e,n){_l.call(t,e)?t[e].push(n):t[e]=[n]},To),zf=ar(Ri),Bf=Xr(function(t,e,n){Yi(t,e,n)}),jf=Xr(function(t,e,n,i){Yi(t,e,n,i)}),Gf=yo(function(t,e){var n={};if(null==t)return n;var i=!1;e=l(e,function(e){return e=Ar(e,t),i||(i=e.length>1),e}),Gr(t,xo(t),n),i&&(n=Hn(n,st|ut|ct));for(var r=e.length;r--;)_r(n,e[r]);return n}),Hf=yo(function(t,e){return null==t?{}:Qi(t,e)}),Vf=fo(Hu),Wf=fo(Vu),Xf=Jr(function(t,e,n){return e=e.toLowerCase(),t+(n?sc(e):e)}),qf=Jr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Yf=Jr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Zf=$r("toLowerCase"),$f=Jr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Jf=Jr(function(t,e,n){return t+(n?" ":"")+Kf(e)}),Qf=Jr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Kf=$r("toUpperCase"),tp=ar(function(t,e){try{return n(t,K,e)}catch(t){return nu(t)?t:new sl(t)}}),ep=yo(function(t,e){return r(e,function(e){e=na(e),Bn(t,e,cf(t[e],t))}),t}),np=eo(),ip=eo(!0),rp=ar(function(t,e){return function(n){return Ri(n,t,e)}}),op=ar(function(t,e){return function(n){return Ri(t,n,e)}}),ap=oo(l),sp=oo(a),up=oo(d),cp=uo(),lp=uo(!0),hp=ro(function(t,e){return t+e},0),fp=ho("ceil"),pp=ro(function(t,e){return t/e},1),dp=ho("floor"),mp=ro(function(t,e){return t*e},1),gp=ho("round"),vp=ro(function(t,e){return t-e},0);return X.after=As,X.ary=Ps,X.assign=Cf,X.assignIn=Lf,X.assignInWith=Of,X.assignWith=Df,X.at=If,X.before=Rs,X.bind=cf,X.bindAll=ep,X.bindKey=lf,X.castArray=Gs,X.chain=Ka,X.chunk=aa,X.compact=sa,X.concat=ua,X.cond=Rc,X.conforms=Cc,X.constant=Lc,X.countBy=Kh,X.create=Lu,X.curry=Cs,X.curryRight=Ls,X.debounce=Os,X.defaults=Nf,X.defaultsDeep=Ff,X.defer=hf,X.delay=ff,X.difference=Nh,X.differenceBy=Fh,X.differenceWith=Uh,X.drop=ca,X.dropRight=la,X.dropRightWhile=ha,X.dropWhile=fa,X.fill=pa,X.filter=ls,X.flatMap=hs,X.flatMapDeep=fs,X.flatMapDepth=ps,X.flatten=ga,X.flattenDeep=va,X.flattenDepth=ya,X.flip=Ds,X.flow=np,X.flowRight=ip,X.fromPairs=_a,X.functions=ku,X.functionsIn=zu,X.groupBy=nf,X.initial=wa,X.intersection=kh,X.intersectionBy=zh,X.intersectionWith=Bh,X.invert=Uf,X.invertBy=kf,X.invokeMap=rf,X.iteratee=Ic,X.keyBy=of,X.keys=Hu,X.keysIn=Vu,X.map=vs,X.mapKeys=Wu,X.mapValues=Xu,X.matches=Nc,X.matchesProperty=Fc,X.memoize=Is,X.merge=Bf,X.mergeWith=jf,X.method=rp,X.methodOf=op,X.mixin=Uc,X.negate=Ns,X.nthArg=Bc,X.omit=Gf,X.omitBy=qu,X.once=Fs,X.orderBy=ys,X.over=ap,X.overArgs=pf,X.overEvery=sp,X.overSome=up,X.partial=df,X.partialRight=mf,X.partition=af,X.pick=Hf,X.pickBy=Yu,X.property=jc,X.propertyOf=Gc,X.pull=jh,X.pullAll=Aa,X.pullAllBy=Pa,X.pullAllWith=Ra,X.pullAt=Gh,X.range=cp,X.rangeRight=lp,X.rearg=gf,X.reject=bs,X.remove=Ca,X.rest=Us,X.reverse=La,X.sampleSize=Ts,X.set=$u,X.setWith=Ju,X.shuffle=Ms,X.slice=Oa,X.sortBy=sf,X.sortedUniq=za,X.sortedUniqBy=Ba,X.split=yc,X.spread=ks,X.tail=ja,X.take=Ga,X.takeRight=Ha,X.takeRightWhile=Va,X.takeWhile=Wa,X.tap=ts,X.throttle=zs,X.thru=es,X.toArray=Tu,X.toPairs=Vf,X.toPairsIn=Wf,X.toPath=Zc,X.toPlainObject=Pu,X.transform=Qu,X.unary=Bs,X.union=Hh,X.unionBy=Vh,X.unionWith=Wh,X.uniq=Xa,X.uniqBy=qa,X.uniqWith=Ya,X.unset=Ku,X.unzip=Za,X.unzipWith=$a,X.update=tc,X.updateWith=ec,X.values=nc,X.valuesIn=ic,X.without=Xh,X.words=Pc,X.wrap=js,X.xor=qh,X.xorBy=Yh,X.xorWith=Zh,X.zip=$h,X.zipObject=Ja,X.zipObjectDeep=Qa,X.zipWith=Jh,X.entries=Vf,X.entriesIn=Wf,X.extend=Lf,X.extendWith=Of,Uc(X,X),X.add=hp,X.attempt=tp,X.camelCase=Xf,X.capitalize=sc,X.ceil=fp,X.clamp=rc,X.clone=Hs,X.cloneDeep=Ws,X.cloneDeepWith=Xs,X.cloneWith=Vs,X.conformsTo=qs,X.deburr=uc,X.defaultTo=Oc,X.divide=pp,X.endsWith=cc,X.eq=Ys,X.escape=lc,X.escapeRegExp=hc,X.every=cs,X.find=tf,X.findIndex=da,X.findKey=Ou,X.findLast=ef,X.findLastIndex=ma,X.findLastKey=Du,X.floor=dp,X.forEach=ds,X.forEachRight=ms,X.forIn=Iu,X.forInRight=Nu,X.forOwn=Fu,X.forOwnRight=Uu,X.get=Bu,X.gt=vf,X.gte=yf,X.has=ju,X.hasIn=Gu,X.head=xa,X.identity=Dc,X.includes=gs,X.indexOf=ba,X.inRange=oc,X.invoke=zf,X.isArguments=_f,X.isArray=xf,X.isArrayBuffer=bf,X.isArrayLike=Zs,X.isArrayLikeObject=$s,X.isBoolean=Js,X.isBuffer=wf,X.isDate=Tf,X.isElement=Qs,X.isEmpty=Ks,X.isEqual=tu,X.isEqualWith=eu,X.isError=nu,X.isFinite=iu,X.isFunction=ru,X.isInteger=ou,X.isLength=au,X.isMap=Mf,X.isMatch=cu,X.isMatchWith=lu,X.isNaN=hu,X.isNative=fu,X.isNil=du,X.isNull=pu,X.isNumber=mu,X.isObject=su,X.isObjectLike=uu,X.isPlainObject=gu,X.isRegExp=Ef,X.isSafeInteger=vu,X.isSet=Sf,X.isString=yu,X.isSymbol=_u,X.isTypedArray=Af,X.isUndefined=xu,X.isWeakMap=bu,X.isWeakSet=wu,X.join=Ta,X.kebabCase=qf,X.last=Ma,X.lastIndexOf=Ea,X.lowerCase=Yf,X.lowerFirst=Zf,X.lt=Pf,X.lte=Rf,X.max=Jc,X.maxBy=Qc,X.mean=Kc,X.meanBy=tl,X.min=el,X.minBy=nl,X.stubArray=Hc,X.stubFalse=Vc,X.stubObject=Wc,X.stubString=Xc,X.stubTrue=qc,X.multiply=mp,X.nth=Sa,X.noConflict=kc,X.noop=zc,X.now=uf,X.pad=fc,X.padEnd=pc,X.padStart=dc,X.parseInt=mc,X.random=ac,X.reduce=_s,X.reduceRight=xs,X.repeat=gc,X.replace=vc,X.result=Zu,X.round=gp,X.runInContext=m,X.sample=ws,X.size=Es,X.snakeCase=$f,X.some=Ss,X.sortedIndex=Da,X.sortedIndexBy=Ia,X.sortedIndexOf=Na,X.sortedLastIndex=Fa,X.sortedLastIndexBy=Ua,X.sortedLastIndexOf=ka,X.startCase=Jf,X.startsWith=_c,X.subtract=vp,X.sum=il,X.sumBy=rl,X.template=xc,X.times=Yc,X.toFinite=Mu,X.toInteger=Eu,X.toLength=Su,X.toLower=bc,X.toNumber=Au,X.toSafeInteger=Ru,X.toString=Cu,X.toUpper=wc,X.trim=Tc,X.trimEnd=Mc,X.trimStart=Ec,X.truncate=Sc,X.unescape=Ac,X.uniqueId=$c,X.upperCase=Qf,X.upperFirst=Kf,X.each=ds,X.eachRight=ms,X.first=xa,Uc(X,function(){var t={};return si(X,function(e,n){_l.call(X.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),X.VERSION=tt,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){X[t].placeholder=X}),r(["drop","take"],function(t,e){ke.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new ke(this);n=n===K?1:Yl(Eu(n),0);var r=this.clone();return i?r.__takeCount__=Zl(n,r.__takeCount__):r.__views__.push({size:Zl(n,Dt),type:t+(r.__dir__<0?"Right":"")}),r},ke.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),r(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==St||n==Pt;ke.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:To(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),r(["head","last"],function(t,e){var n="take"+(e?"Right":"");ke.prototype[t]=function(){return this[n](1).value()[0]}}),r(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");ke.prototype[t]=function(){return this.__filtered__?new ke(this):this[n](1)}}),ke.prototype.compact=function(){return this.filter(Dc)},ke.prototype.find=function(t){return this.filter(t).head()},ke.prototype.findLast=function(t){return this.reverse().find(t)},ke.prototype.invokeMap=ar(function(t,e){return"function"==typeof t?new ke(this):this.map(function(n){return Ri(n,t,e)})}),ke.prototype.reject=function(t){return this.filter(Ns(To(t)))},ke.prototype.slice=function(t,e){t=Eu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new ke(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==K&&(e=Eu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},ke.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ke.prototype.toArray=function(){return this.take(Dt)},si(ke.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=X[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(X.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof ke,u=a[0],c=s||xf(e),l=function(t){var e=r.apply(X,h([t],a));return i&&f?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var f=this.__chain__,p=!!this.__actions__.length,d=o&&!f,m=s&&!p;if(!o&&c){e=m?e:new ke(this);var g=t.apply(e,a);return g.__actions__.push({func:es,args:[l],thisArg:K}),new J(g,f)}return d&&m?t.apply(this,a):(g=this.thru(l),d?i?g.value()[0]:g.value():g)})}),r(["pop","push","shift","sort","splice","unshift"],function(t){var e=dl[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);X.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(xf(r)?r:[],t)}return this[n](function(n){return e.apply(xf(n)?n:[],t)})}}),si(ke.prototype,function(t,e){var n=X[e];if(n){var i=n.name+"",r=sh[i]||(sh[i]=[]);r.push({name:e,func:n})}}),sh[no(K,pt).name]=[{name:"wrapper",func:K}],ke.prototype.clone=$e,ke.prototype.reverse=Je,ke.prototype.value=Qe,X.prototype.at=Qh,X.prototype.chain=ns,X.prototype.commit=is,X.prototype.next=rs,X.prototype.plant=as,X.prototype.reverse=ss,X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=us,X.prototype.first=X.prototype.head,Nl&&(X.prototype[Nl]=os),X},_i=yi();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ni._=_i,define(function(){return _i})):ri?((ri.exports=_i)._=_i,ii._=_i):ni._=_i}.call(this);